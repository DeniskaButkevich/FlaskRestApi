INFO     2022-05-19 18:03:01.268 request id: app - uvicorn.server:serve - Started server process [44945]
INFO     2022-05-19 18:03:01.268 request id: app - uvicorn.server:serve - Started server process [44945]
INFO     2022-05-19 18:03:01.269 request id: app - uvicorn.server:serve - Started server process [44945]
INFO     2022-05-19 18:03:01.269 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:03:01.269 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:03:01.269 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:03:01.270 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:03:01.270 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:03:01.270 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:03:01.271 request id: app - uvicorn.server:_log_started_message - Uvicorn running on http://127.0.0.1:5008 (Press CTRL+C to quit)
INFO     2022-05-19 18:03:01.271 request id: app - uvicorn.server:_log_started_message - Uvicorn running on http://127.0.0.1:5008 (Press CTRL+C to quit)
INFO     2022-05-19 18:03:01.271 request id: app - uvicorn.server:_log_started_message - Uvicorn running on http://127.0.0.1:5008 (Press CTRL+C to quit)
INFO     2022-05-19 18:03:09.344 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59680 - "GET / HTTP/1.1" 404
INFO     2022-05-19 18:03:09.607 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59680 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-05-19 18:03:14.344 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59680 - "GET /docs HTTP/1.1" 200
INFO     2022-05-19 18:03:14.666 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59680 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-19 18:03:20.983 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59682 - "GET /category/1/ HTTP/1.1" 500
ERROR    2022-05-19 18:03:20.984 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 1130, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function BaseCommand.main at 0x7fc038fc5670>
           └ <Command main>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 1055, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0x7fc038fbc0d0>
         │    └ <function Command.invoke at 0x7fc038fca160>
         └ <Command main>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 1404, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'port': 5008, 'access_log': True, 'app': 'main:app', 'host': '127.0.0.1', 'uds': None, 'fd': None, 'debug': False, 'reload':...
           │   │      │    │           └ <click.core.Context object at 0x7fc038fbc0d0>
           │   │      │    └ <function main at 0x7fc03899e820>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0x7fc038fc1ee0>
           └ <click.core.Context object at 0x7fc038fbc0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 760, in invoke
    return __callback(*args, **kwargs)
                       │       └ {'port': 5008, 'access_log': True, 'app': 'main:app', 'host': '127.0.0.1', 'uds': None, 'fd': None, 'debug': False, 'reload':...
                       └ ()
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/main.py", line 437, in main
    run(app, **kwargs)
    │   │      └ {'host': '127.0.0.1', 'port': 5008, 'uds': None, 'fd': None, 'loop': 'auto', 'http': 'auto', 'ws': 'auto', 'ws_max_size': 167...
    │   └ 'main:app'
    └ <function run at 0x7fc038b7d0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fc038b7cb80>
    └ <uvicorn.server.Server object at 0x7fc038998400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fc038b7cc10>
           │       │   └ <uvicorn.server.Server object at 0x7fc038998400>
           │       └ <function run at 0x7fc0397f14c0>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fc0389c33c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fc0385daaf0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a00>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fc0385dab80>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a00>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a00>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc03899f820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc0385b7130>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc03899f820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc0342cf9d0>
          └ <fastapi.applications.FastAPI object at 0x7fc0385b7130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc033260b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc0342cf9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc0342cf9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc0342cf940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc0342cf9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fc038c85f40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc0342cf940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │     └ <function Route.handle at 0x7fc037242280>
          └ <fastapi.routing.APIRoute object at 0x7fc0342f60a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fc0342ed700>
          └ <fastapi.routing.APIRoute object at 0x7fc0342f60a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fc0331f4e20>
                     └ <function get_request_handler.<locals>.app at 0x7fc0342ed670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc0372b5040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_category': 1}
                 │                 │         └ <function get_category at 0x7fc0344121f0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fc0342f60d0>
                 └ <function run_in_threadpool at 0x7fc0376d4790>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_category at 0x7fc0344121f0>, id_category=1)
                 │     │         └ <function run_sync at 0x7fc038acd4c0>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7fc038aa90d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Category' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_category at 0x7fc0344121f0>, id_category=1)
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fc0311e6ec0>

  File "/home/denius/Desktop/FlaskRestApi/./core/routers/endpoints/category_endpoints.py", line 17, in get_category
    category = models.Category.query.filter_by(id=id_category).first()
               │      │                           └ 1
               │      └ <class 'core.models.category.Category'>
               └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/./core/models/__init__.py'>

AttributeError: type object 'Category' has no attribute 'query'
ERROR    2022-05-19 18:03:20.998 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 1130, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function BaseCommand.main at 0x7fc038fc5670>
           └ <Command main>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 1055, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0x7fc038fbc0d0>
         │    └ <function Command.invoke at 0x7fc038fca160>
         └ <Command main>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 1404, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'port': 5008, 'access_log': True, 'app': 'main:app', 'host': '127.0.0.1', 'uds': None, 'fd': None, 'debug': False, 'reload':...
           │   │      │    │           └ <click.core.Context object at 0x7fc038fbc0d0>
           │   │      │    └ <function main at 0x7fc03899e820>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0x7fc038fc1ee0>
           └ <click.core.Context object at 0x7fc038fbc0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 760, in invoke
    return __callback(*args, **kwargs)
                       │       └ {'port': 5008, 'access_log': True, 'app': 'main:app', 'host': '127.0.0.1', 'uds': None, 'fd': None, 'debug': False, 'reload':...
                       └ ()
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/main.py", line 437, in main
    run(app, **kwargs)
    │   │      └ {'host': '127.0.0.1', 'port': 5008, 'uds': None, 'fd': None, 'loop': 'auto', 'http': 'auto', 'ws': 'auto', 'ws_max_size': 167...
    │   └ 'main:app'
    └ <function run at 0x7fc038b7d0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fc038b7cb80>
    └ <uvicorn.server.Server object at 0x7fc038998400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fc038b7cc10>
           │       │   └ <uvicorn.server.Server object at 0x7fc038998400>
           │       └ <function run at 0x7fc0397f14c0>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fc0389c33c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fc0385daaf0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a00>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fc0385dab80>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a00>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a00>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc03899f820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc0385b7130>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc03899f820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc0342cf9d0>
          └ <fastapi.applications.FastAPI object at 0x7fc0385b7130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc033260b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc0342cf9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc0342cf9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc0342cf940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc0342cf9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fc038c85f40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc0342cf940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │     └ <function Route.handle at 0x7fc037242280>
          └ <fastapi.routing.APIRoute object at 0x7fc0342f60a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fc0342ed700>
          └ <fastapi.routing.APIRoute object at 0x7fc0342f60a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fc0331f4e20>
                     └ <function get_request_handler.<locals>.app at 0x7fc0342ed670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc0372b5040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_category': 1}
                 │                 │         └ <function get_category at 0x7fc0344121f0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fc0342f60d0>
                 └ <function run_in_threadpool at 0x7fc0376d4790>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_category at 0x7fc0344121f0>, id_category=1)
                 │     │         └ <function run_sync at 0x7fc038acd4c0>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7fc038aa90d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Category' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_category at 0x7fc0344121f0>, id_category=1)
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fc0311e6ec0>

  File "/home/denius/Desktop/FlaskRestApi/./core/routers/endpoints/category_endpoints.py", line 17, in get_category
    category = models.Category.query.filter_by(id=id_category).first()
               │      │                           └ 1
               │      └ <class 'core.models.category.Category'>
               └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/./core/models/__init__.py'>

AttributeError: type object 'Category' has no attribute 'query'
ERROR    2022-05-19 18:03:21.006 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 1130, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function BaseCommand.main at 0x7fc038fc5670>
           └ <Command main>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 1055, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0x7fc038fbc0d0>
         │    └ <function Command.invoke at 0x7fc038fca160>
         └ <Command main>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 1404, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'port': 5008, 'access_log': True, 'app': 'main:app', 'host': '127.0.0.1', 'uds': None, 'fd': None, 'debug': False, 'reload':...
           │   │      │    │           └ <click.core.Context object at 0x7fc038fbc0d0>
           │   │      │    └ <function main at 0x7fc03899e820>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0x7fc038fc1ee0>
           └ <click.core.Context object at 0x7fc038fbc0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/click/core.py", line 760, in invoke
    return __callback(*args, **kwargs)
                       │       └ {'port': 5008, 'access_log': True, 'app': 'main:app', 'host': '127.0.0.1', 'uds': None, 'fd': None, 'debug': False, 'reload':...
                       └ ()
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/main.py", line 437, in main
    run(app, **kwargs)
    │   │      └ {'host': '127.0.0.1', 'port': 5008, 'uds': None, 'fd': None, 'loop': 'auto', 'http': 'auto', 'ws': 'auto', 'ws_max_size': 167...
    │   └ 'main:app'
    └ <function run at 0x7fc038b7d0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fc038b7cb80>
    └ <uvicorn.server.Server object at 0x7fc038998400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fc038b7cc10>
           │       │   └ <uvicorn.server.Server object at 0x7fc038998400>
           │       └ <function run at 0x7fc0397f14c0>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fc0389c33c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fc0385daaf0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a00>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fc0385dab80>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a00>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a00>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc03899f820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc0385b7130>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc03899f820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331f4a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc0342cf9d0>
          └ <fastapi.applications.FastAPI object at 0x7fc0385b7130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc033260b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc0342cf9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc0342cf9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc0342cf940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc0342cf9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fc038c85f40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc0342cf940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │     └ <function Route.handle at 0x7fc037242280>
          └ <fastapi.routing.APIRoute object at 0x7fc0342f60a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc033260a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc0331...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5008), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fc0342ed700>
          └ <fastapi.routing.APIRoute object at 0x7fc0342f60a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fc0331f4e20>
                     └ <function get_request_handler.<locals>.app at 0x7fc0342ed670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc0372b5040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_category': 1}
                 │                 │         └ <function get_category at 0x7fc0344121f0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fc0342f60d0>
                 └ <function run_in_threadpool at 0x7fc0376d4790>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_category at 0x7fc0344121f0>, id_category=1)
                 │     │         └ <function run_sync at 0x7fc038acd4c0>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7fc038aa90d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Category' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_category at 0x7fc0344121f0>, id_category=1)
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fc0311e6ec0>

  File "/home/denius/Desktop/FlaskRestApi/./core/routers/endpoints/category_endpoints.py", line 17, in get_category
    category = models.Category.query.filter_by(id=id_category).first()
               │      │                           └ 1
               │      └ <class 'core.models.category.Category'>
               └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/./core/models/__init__.py'>

AttributeError: type object 'Category' has no attribute 'query'
INFO     2022-05-19 18:21:16.279 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:21:16.280 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:21:16.280 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:21:16.382 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:21:16.383 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:21:16.383 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:21:16.385 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:21:16.385 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:21:16.386 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:21:16.387 request id: app - uvicorn.server:serve - Finished server process [44945]
INFO     2022-05-19 18:21:16.388 request id: app - uvicorn.server:serve - Finished server process [44945]
INFO     2022-05-19 18:21:16.389 request id: app - uvicorn.server:serve - Finished server process [44945]
INFO     2022-05-19 18:24:30.967 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-19 18:24:30.968 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-19 18:24:31.093 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [46080] using watchgod
INFO     2022-05-19 18:24:31.595 request id: app - uvicorn.server:serve - Started server process [46085]
INFO     2022-05-19 18:24:31.595 request id: app - uvicorn.server:serve - Started server process [46085]
INFO     2022-05-19 18:24:31.595 request id: app - uvicorn.server:serve - Started server process [46085]
INFO     2022-05-19 18:24:31.596 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:24:31.596 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:24:31.596 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:24:31.596 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:24:31.597 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:24:31.597 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:25:47.665 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/main.py']'. Reloading...
INFO     2022-05-19 18:25:47.685 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:25:47.685 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:25:47.686 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:25:47.786 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:25:47.786 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:25:47.787 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:25:47.787 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:25:47.788 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:25:47.788 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:25:47.788 request id: app - uvicorn.server:serve - Finished server process [46085]
INFO     2022-05-19 18:25:47.788 request id: app - uvicorn.server:serve - Finished server process [46085]
INFO     2022-05-19 18:25:47.789 request id: app - uvicorn.server:serve - Finished server process [46085]
INFO     2022-05-19 18:25:48.466 request id: app - uvicorn.server:serve - Started server process [46138]
INFO     2022-05-19 18:25:48.466 request id: app - uvicorn.server:serve - Started server process [46138]
INFO     2022-05-19 18:25:48.467 request id: app - uvicorn.server:serve - Started server process [46138]
INFO     2022-05-19 18:25:48.467 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:25:48.467 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:25:48.467 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:25:48.467 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:25:48.468 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:25:48.468 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:03.708 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:03.708 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:03.709 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:03.810 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:03.810 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:03.811 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:03.812 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:03.813 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:03.814 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:03.815 request id: app - uvicorn.server:serve - Finished server process [46138]
INFO     2022-05-19 18:26:03.816 request id: app - uvicorn.server:serve - Finished server process [46138]
INFO     2022-05-19 18:26:03.817 request id: app - uvicorn.server:serve - Finished server process [46138]
INFO     2022-05-19 18:26:03.885 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [46080]
INFO     2022-05-19 18:26:04.497 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-19 18:26:04.497 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-19 18:26:04.645 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [46166] using watchgod
INFO     2022-05-19 18:26:05.168 request id: app - uvicorn.server:serve - Started server process [46173]
INFO     2022-05-19 18:26:05.169 request id: app - uvicorn.server:serve - Started server process [46173]
INFO     2022-05-19 18:26:05.169 request id: app - uvicorn.server:serve - Started server process [46173]
INFO     2022-05-19 18:26:05.169 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:26:05.169 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:26:05.170 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:26:05.170 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:05.170 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:05.170 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:07.779 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:07.780 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:07.780 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:07.882 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:07.883 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:07.884 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:07.885 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:07.886 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:07.886 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:07.887 request id: app - uvicorn.server:serve - Finished server process [46173]
INFO     2022-05-19 18:26:07.888 request id: app - uvicorn.server:serve - Finished server process [46173]
INFO     2022-05-19 18:26:07.889 request id: app - uvicorn.server:serve - Finished server process [46173]
INFO     2022-05-19 18:26:07.964 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [46166]
INFO     2022-05-19 18:26:08.554 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-19 18:26:08.555 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-19 18:26:08.707 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [46183] using watchgod
INFO     2022-05-19 18:26:09.221 request id: app - uvicorn.server:serve - Started server process [46193]
INFO     2022-05-19 18:26:09.221 request id: app - uvicorn.server:serve - Started server process [46193]
INFO     2022-05-19 18:26:09.222 request id: app - uvicorn.server:serve - Started server process [46193]
INFO     2022-05-19 18:26:09.222 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:26:09.222 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:26:09.222 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:26:09.222 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:09.223 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:09.223 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:22.910 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59890 - "GET / HTTP/1.1" 404
INFO     2022-05-19 18:26:23.163 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59890 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-05-19 18:26:26.393 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59890 - "GET /docs HTTP/1.1" 200
INFO     2022-05-19 18:26:26.736 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59890 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-19 18:26:52.633 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:52.633 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:52.634 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:52.734 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:52.735 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:52.736 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:52.738 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:52.738 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:52.739 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:52.740 request id: app - uvicorn.server:serve - Finished server process [46193]
INFO     2022-05-19 18:26:52.740 request id: app - uvicorn.server:serve - Finished server process [46193]
INFO     2022-05-19 18:26:52.740 request id: app - uvicorn.server:serve - Finished server process [46193]
INFO     2022-05-19 18:26:52.806 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [46183]
INFO     2022-05-19 18:26:53.614 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-19 18:26:53.615 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-19 18:26:53.742 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [46426] using watchgod
INFO     2022-05-19 18:26:54.252 request id: app - uvicorn.server:serve - Started server process [46432]
INFO     2022-05-19 18:26:54.252 request id: app - uvicorn.server:serve - Started server process [46432]
INFO     2022-05-19 18:26:54.253 request id: app - uvicorn.server:serve - Started server process [46432]
INFO     2022-05-19 18:26:54.253 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:26:54.253 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:26:54.253 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:26:54.254 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:54.254 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:54.254 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:26:55.759 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:55.760 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:55.761 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:26:55.863 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:55.864 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:55.865 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:26:55.868 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:55.869 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:55.870 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:26:55.870 request id: app - uvicorn.server:serve - Finished server process [46432]
INFO     2022-05-19 18:26:55.871 request id: app - uvicorn.server:serve - Finished server process [46432]
INFO     2022-05-19 18:26:55.872 request id: app - uvicorn.server:serve - Finished server process [46432]
INFO     2022-05-19 18:26:55.939 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [46426]
INFO     2022-05-19 18:28:01.349 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-19 18:28:01.350 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-19 18:28:01.481 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [46483] using watchgod
INFO     2022-05-19 18:28:02.011 request id: app - uvicorn.server:serve - Started server process [46493]
INFO     2022-05-19 18:28:02.012 request id: app - uvicorn.server:serve - Started server process [46493]
INFO     2022-05-19 18:28:02.012 request id: app - uvicorn.server:serve - Started server process [46493]
INFO     2022-05-19 18:28:02.012 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:28:02.012 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:28:02.012 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:28:02.013 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:28:02.013 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:28:02.013 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:28:07.175 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59904 - "GET /category/1/ HTTP/1.1" 200
INFO     2022-05-19 18:28:18.355 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:28:18.356 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:28:18.356 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:28:18.457 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:28:18.458 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:28:18.458 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:28:18.459 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:28:18.459 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:28:18.460 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:28:18.460 request id: app - uvicorn.server:serve - Finished server process [46493]
INFO     2022-05-19 18:28:18.461 request id: app - uvicorn.server:serve - Finished server process [46493]
INFO     2022-05-19 18:28:18.461 request id: app - uvicorn.server:serve - Finished server process [46493]
INFO     2022-05-19 18:28:18.527 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [46483]
INFO     2022-05-19 18:28:20.074 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-19 18:28:20.075 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-19 18:28:20.611 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [46537] using watchgod
INFO     2022-05-19 18:28:22.109 request id: app - uvicorn.server:serve - Started server process [46549]
INFO     2022-05-19 18:28:22.110 request id: app - uvicorn.server:serve - Started server process [46549]
INFO     2022-05-19 18:28:22.110 request id: app - uvicorn.server:serve - Started server process [46549]
INFO     2022-05-19 18:28:22.110 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:28:22.111 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:28:22.111 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:28:22.112 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:28:22.112 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:28:22.112 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:28:47.031 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:28:47.033 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:28:47.035 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:28:47.139 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-19 18:28:47.141 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-19 18:28:47.142 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-19 18:28:54.838 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-19 18:28:54.838 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-19 18:28:55.347 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [46612] using watchgod
INFO     2022-05-19 18:28:56.852 request id: app - uvicorn.server:serve - Started server process [46622]
INFO     2022-05-19 18:28:56.852 request id: app - uvicorn.server:serve - Started server process [46622]
INFO     2022-05-19 18:28:56.853 request id: app - uvicorn.server:serve - Started server process [46622]
INFO     2022-05-19 18:28:56.853 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:28:56.853 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:28:56.854 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:28:56.854 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:28:56.854 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:28:56.855 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:28:59.060 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59928 - "GET /category/1/ HTTP/1.1" 404
INFO     2022-05-19 18:29:29.762 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59932 - "POST /category/ HTTP/1.1" 500
ERROR    2022-05-19 18:29:29.764 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ CategoryCreate(name='ASd')
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'CategoryCreate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f260ebb1700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f260eb8bb80>
           └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f260eb8b1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f260ec7c250>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    └ <function subprocess_started at 0x7f260c663af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f260ec7c160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f260c659c10>
           │       │   └ <uvicorn.server.Server object at 0x7f260ec7c160>
           │       └ <function run at 0x7f260ecb5790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f25fc07dcc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f25f32211f0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421c0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f25f3221280>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421c0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421c0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
          └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25f2d09430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f25f2d8dac0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f25fedf98b0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f25f2d999d0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f25f2442070>
                     └ <function get_request_handler.<locals>.app at 0x7f25f2d99940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f25fee68430>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f25f2ccaca0>, 'category': CategoryCreate(name='ASd')}
                 │                 │         └ <function add_category at 0x7f25fc228ee0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f25f2da9250>
                 └ <function run_in_threadpool at 0x7f25ff359820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_category at 0x7f25fc228ee0>, db=<sqlalchemy.orm.session.Session object at 0x7f25f2ccaca0>, ca...
                 │     │         └ <function run_sync at 0x7f260c368550>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f260c3beee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is n...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f25f2cb2610>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f25f245a240>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 34, in add_category
    db.add(category)
    │  │   └ CategoryCreate(name='ASd')
    │  └ <function Session.add at 0x7f25fddb3e50>
    └ <sqlalchemy.orm.session.Session object at 0x7f25f2ccaca0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f25fea6e280>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.category.CategoryCreate' is not mapped
ERROR    2022-05-19 18:29:29.835 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ CategoryCreate(name='ASd')
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'CategoryCreate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f260ebb1700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f260eb8bb80>
           └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f260eb8b1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f260ec7c250>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    └ <function subprocess_started at 0x7f260c663af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f260ec7c160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f260c659c10>
           │       │   └ <uvicorn.server.Server object at 0x7f260ec7c160>
           │       └ <function run at 0x7f260ecb5790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f25fc07dcc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f25f32211f0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421c0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f25f3221280>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421c0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421c0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
          └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25f2d09430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f25f2d8dac0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f25fedf98b0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f25f2d999d0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f25f2442070>
                     └ <function get_request_handler.<locals>.app at 0x7f25f2d99940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f25fee68430>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f25f2ccaca0>, 'category': CategoryCreate(name='ASd')}
                 │                 │         └ <function add_category at 0x7f25fc228ee0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f25f2da9250>
                 └ <function run_in_threadpool at 0x7f25ff359820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_category at 0x7f25fc228ee0>, db=<sqlalchemy.orm.session.Session object at 0x7f25f2ccaca0>, ca...
                 │     │         └ <function run_sync at 0x7f260c368550>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f260c3beee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is n...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f25f2cb2610>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f25f245a240>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 34, in add_category
    db.add(category)
    │  │   └ CategoryCreate(name='ASd')
    │  └ <function Session.add at 0x7f25fddb3e50>
    └ <sqlalchemy.orm.session.Session object at 0x7f25f2ccaca0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f25fea6e280>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.category.CategoryCreate' is not mapped
ERROR    2022-05-19 18:29:29.870 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ CategoryCreate(name='ASd')
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'CategoryCreate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f260ebb1700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f260eb8bb80>
           └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f260eb8b1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f260ec7c250>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    └ <function subprocess_started at 0x7f260c663af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f260ec7c160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f260c659c10>
           │       │   └ <uvicorn.server.Server object at 0x7f260ec7c160>
           │       └ <function run at 0x7f260ecb5790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f25fc07dcc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f25f32211f0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421c0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f25f3221280>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421c0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421c0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24421...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
          └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25f2d09430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f25f2d8dac0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f25fedf98b0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f2d095e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f25f2d999d0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f25f2442070>
                     └ <function get_request_handler.<locals>.app at 0x7f25f2d99940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f25fee68430>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f25f2ccaca0>, 'category': CategoryCreate(name='ASd')}
                 │                 │         └ <function add_category at 0x7f25fc228ee0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f25f2da9250>
                 └ <function run_in_threadpool at 0x7f25ff359820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_category at 0x7f25fc228ee0>, db=<sqlalchemy.orm.session.Session object at 0x7f25f2ccaca0>, ca...
                 │     │         └ <function run_sync at 0x7f260c368550>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f260c3beee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is n...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f25f2cb2610>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f25f245a240>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 34, in add_category
    db.add(category)
    │  │   └ CategoryCreate(name='ASd')
    │  └ <function Session.add at 0x7f25fddb3e50>
    └ <sqlalchemy.orm.session.Session object at 0x7f25f2ccaca0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f25fea6e280>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.category.CategoryCreate' is not mapped
INFO     2022-05-19 18:30:23.175 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59942 - "POST /category/ HTTP/1.1" 500
ERROR    2022-05-19 18:30:23.179 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ CategoryCreate(name='ASd')
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'CategoryCreate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f260ebb1700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f260eb8bb80>
           └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f260eb8b1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f260ec7c250>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    └ <function subprocess_started at 0x7f260c663af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f260ec7c160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f260c659c10>
           │       │   └ <uvicorn.server.Server object at 0x7f260ec7c160>
           │       └ <function run at 0x7f260ecb5790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f25fc07dcc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f25f32211f0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f25f3221280>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
          └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25f1b59ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f25f2d8dac0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f25fedf98b0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f25f2d999d0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f25f24691c0>
                     └ <function get_request_handler.<locals>.app at 0x7f25f2d99940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f25fee68430>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f260f0e9070>, 'category': CategoryCreate(name='ASd')}
                 │                 │         └ <function add_category at 0x7f25fc228ee0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f25f2da9250>
                 └ <function run_in_threadpool at 0x7f25ff359820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_category at 0x7f25fc228ee0>, db=<sqlalchemy.orm.session.Session object at 0x7f260f0e9070>, ca...
                 │     │         └ <function run_sync at 0x7f260c368550>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f260c3beee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is n...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f25f24696a0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f25f2c84840>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 34, in add_category
    db.add(category)
    │  │   └ CategoryCreate(name='ASd')
    │  └ <function Session.add at 0x7f25fddb3e50>
    └ <sqlalchemy.orm.session.Session object at 0x7f260f0e9070>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f25fea6e280>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.category.CategoryCreate' is not mapped
ERROR    2022-05-19 18:30:23.245 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ CategoryCreate(name='ASd')
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'CategoryCreate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f260ebb1700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f260eb8bb80>
           └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f260eb8b1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f260ec7c250>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    └ <function subprocess_started at 0x7f260c663af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f260ec7c160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f260c659c10>
           │       │   └ <uvicorn.server.Server object at 0x7f260ec7c160>
           │       └ <function run at 0x7f260ecb5790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f25fc07dcc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f25f32211f0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f25f3221280>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
          └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25f1b59ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f25f2d8dac0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f25fedf98b0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f25f2d999d0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f25f24691c0>
                     └ <function get_request_handler.<locals>.app at 0x7f25f2d99940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f25fee68430>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f260f0e9070>, 'category': CategoryCreate(name='ASd')}
                 │                 │         └ <function add_category at 0x7f25fc228ee0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f25f2da9250>
                 └ <function run_in_threadpool at 0x7f25ff359820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_category at 0x7f25fc228ee0>, db=<sqlalchemy.orm.session.Session object at 0x7f260f0e9070>, ca...
                 │     │         └ <function run_sync at 0x7f260c368550>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f260c3beee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is n...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f25f24696a0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f25f2c84840>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 34, in add_category
    db.add(category)
    │  │   └ CategoryCreate(name='ASd')
    │  └ <function Session.add at 0x7f25fddb3e50>
    └ <sqlalchemy.orm.session.Session object at 0x7f260f0e9070>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f25fea6e280>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.category.CategoryCreate' is not mapped
ERROR    2022-05-19 18:30:23.280 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ CategoryCreate(name='ASd')
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'CategoryCreate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f260ebb1700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f260eb8bb80>
           └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f260eb8b1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f260ec7c250>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
    │    └ <function subprocess_started at 0x7f260c663af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=46612 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f260ec7c160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f260c659c10>
           │       │   └ <uvicorn.server.Server object at 0x7f260ec7c160>
           │       └ <function run at 0x7f260ecb5790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f25fc07dcc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f25f32211f0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f25f3221280>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25fc0204c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f2469b...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
          └ <fastapi.applications.FastAPI object at 0x7f25fc03b5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25f1b59ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25f2d8dd60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25f2d8dd90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f25f2d8dac0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f25f2d8ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f25fedf98b0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25f1b59e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f25f24...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f25f2d999d0>
          └ <fastapi.routing.APIRoute object at 0x7f25f2da9220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f25f24691c0>
                     └ <function get_request_handler.<locals>.app at 0x7f25f2d99940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f25fee68430>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f260f0e9070>, 'category': CategoryCreate(name='ASd')}
                 │                 │         └ <function add_category at 0x7f25fc228ee0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f25f2da9250>
                 └ <function run_in_threadpool at 0x7f25ff359820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_category at 0x7f25fc228ee0>, db=<sqlalchemy.orm.session.Session object at 0x7f260f0e9070>, ca...
                 │     │         └ <function run_sync at 0x7f260c368550>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f260c3beee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.category.CategoryCreate' is n...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f25f24696a0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f25f2c84840>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 34, in add_category
    db.add(category)
    │  │   └ CategoryCreate(name='ASd')
    │  └ <function Session.add at 0x7f25fddb3e50>
    └ <sqlalchemy.orm.session.Session object at 0x7f260f0e9070>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f25fea6e280>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.category.CategoryCreate' is not mapped
INFO     2022-05-19 18:32:11.868 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:32:11.870 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:32:11.872 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:32:11.974 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:32:11.976 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:32:11.978 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:32:11.983 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:32:11.985 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:32:11.987 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:32:11.990 request id: app - uvicorn.server:serve - Finished server process [46622]
INFO     2022-05-19 18:32:11.992 request id: app - uvicorn.server:serve - Finished server process [46622]
INFO     2022-05-19 18:32:11.994 request id: app - uvicorn.server:serve - Finished server process [46622]
INFO     2022-05-19 18:32:12.449 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [46612]
INFO     2022-05-19 18:32:13.537 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-19 18:32:13.538 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-19 18:32:13.699 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [46993] using watchgod
INFO     2022-05-19 18:32:14.248 request id: app - uvicorn.server:serve - Started server process [46999]
INFO     2022-05-19 18:32:14.249 request id: app - uvicorn.server:serve - Started server process [46999]
INFO     2022-05-19 18:32:14.249 request id: app - uvicorn.server:serve - Started server process [46999]
INFO     2022-05-19 18:32:14.249 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:32:14.250 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:32:14.250 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:32:14.250 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:32:14.250 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:32:14.251 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:32:19.641 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59958 - "POST /category/ HTTP/1.1" 201
INFO     2022-05-19 18:32:27.386 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:59960 - "GET /category/1/ HTTP/1.1" 200
INFO     2022-05-19 18:33:58.121 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:33:58.122 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:33:58.122 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:33:58.223 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:33:58.224 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:33:58.225 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:33:58.226 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:33:58.227 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:33:58.228 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:33:58.229 request id: app - uvicorn.server:serve - Finished server process [46999]
INFO     2022-05-19 18:33:58.229 request id: app - uvicorn.server:serve - Finished server process [46999]
INFO     2022-05-19 18:33:58.230 request id: app - uvicorn.server:serve - Finished server process [46999]
INFO     2022-05-19 18:33:58.299 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [46993]
INFO     2022-05-19 18:36:05.017 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-19 18:36:05.017 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-19 18:36:05.144 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [47481] using watchgod
INFO     2022-05-19 18:36:05.668 request id: app - uvicorn.server:serve - Started server process [47491]
INFO     2022-05-19 18:36:05.669 request id: app - uvicorn.server:serve - Started server process [47491]
INFO     2022-05-19 18:36:05.669 request id: app - uvicorn.server:serve - Started server process [47491]
INFO     2022-05-19 18:36:05.669 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:36:05.669 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:36:05.670 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:36:05.670 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:36:05.671 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:36:05.671 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:36:36.477 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-19 18:36:36.558 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:36:36.559 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:36:36.559 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:36:36.660 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:36:36.661 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:36:36.662 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:36:36.663 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:36:36.664 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:36:36.665 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:36:36.666 request id: app - uvicorn.server:serve - Finished server process [47491]
INFO     2022-05-19 18:36:36.666 request id: app - uvicorn.server:serve - Finished server process [47491]
INFO     2022-05-19 18:36:36.667 request id: app - uvicorn.server:serve - Finished server process [47491]
INFO     2022-05-19 18:36:37.416 request id: app - uvicorn.server:serve - Started server process [47563]
INFO     2022-05-19 18:36:37.416 request id: app - uvicorn.server:serve - Started server process [47563]
INFO     2022-05-19 18:36:37.416 request id: app - uvicorn.server:serve - Started server process [47563]
INFO     2022-05-19 18:36:37.416 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:36:37.417 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:36:37.417 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:36:37.417 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:36:37.417 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:36:37.417 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:36:58.970 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:60098 - "GET /docs HTTP/1.1" 200
INFO     2022-05-19 18:36:59.299 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:60098 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-19 18:37:05.134 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:60102 - "POST /category/ HTTP/1.1" 422
WARNING  2022-05-19 18:41:43.245 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:41:43.266 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:41:43.266 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:41:43.266 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:41:43.366 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:41:43.367 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:41:43.368 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:41:43.369 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:41:43.370 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:41:43.371 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:41:43.372 request id: app - uvicorn.server:serve - Finished server process [47563]
INFO     2022-05-19 18:41:43.373 request id: app - uvicorn.server:serve - Finished server process [47563]
INFO     2022-05-19 18:41:43.374 request id: app - uvicorn.server:serve - Finished server process [47563]
INFO     2022-05-19 18:41:43.942 request id: app - uvicorn.server:serve - Started server process [48337]
INFO     2022-05-19 18:41:43.942 request id: app - uvicorn.server:serve - Started server process [48337]
INFO     2022-05-19 18:41:43.943 request id: app - uvicorn.server:serve - Started server process [48337]
INFO     2022-05-19 18:41:43.943 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:41:43.943 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:41:43.943 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:41:43.943 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:41:43.944 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:41:43.944 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:41:54.347 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:41:54.374 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:41:54.375 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:41:54.376 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:41:54.478 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:41:54.479 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:41:54.479 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:41:54.481 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:41:54.481 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:41:54.482 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:41:54.483 request id: app - uvicorn.server:serve - Finished server process [48337]
INFO     2022-05-19 18:41:54.484 request id: app - uvicorn.server:serve - Finished server process [48337]
INFO     2022-05-19 18:41:54.485 request id: app - uvicorn.server:serve - Finished server process [48337]
INFO     2022-05-19 18:41:55.095 request id: app - uvicorn.server:serve - Started server process [48362]
INFO     2022-05-19 18:41:55.095 request id: app - uvicorn.server:serve - Started server process [48362]
INFO     2022-05-19 18:41:55.095 request id: app - uvicorn.server:serve - Started server process [48362]
INFO     2022-05-19 18:41:55.095 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:41:55.096 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:41:55.096 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:41:55.096 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:41:55.096 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:41:55.096 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:42:05.831 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:42:05.925 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:42:05.925 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:42:05.925 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:42:06.026 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:42:06.026 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:42:06.026 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:42:06.027 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:42:06.027 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:42:06.027 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:42:06.028 request id: app - uvicorn.server:serve - Finished server process [48362]
INFO     2022-05-19 18:42:06.028 request id: app - uvicorn.server:serve - Finished server process [48362]
INFO     2022-05-19 18:42:06.028 request id: app - uvicorn.server:serve - Finished server process [48362]
INFO     2022-05-19 18:42:06.594 request id: app - uvicorn.server:serve - Started server process [48383]
INFO     2022-05-19 18:42:06.594 request id: app - uvicorn.server:serve - Started server process [48383]
INFO     2022-05-19 18:42:06.594 request id: app - uvicorn.server:serve - Started server process [48383]
INFO     2022-05-19 18:42:06.595 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:42:06.595 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:42:06.595 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:42:06.595 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:42:06.596 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:42:06.596 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:45:42.589 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:45:42.624 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:45:42.624 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:45:42.625 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:45:42.725 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:45:42.725 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:45:42.726 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:45:42.726 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:45:42.726 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:45:42.726 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:45:42.726 request id: app - uvicorn.server:serve - Finished server process [48383]
INFO     2022-05-19 18:45:42.727 request id: app - uvicorn.server:serve - Finished server process [48383]
INFO     2022-05-19 18:45:42.727 request id: app - uvicorn.server:serve - Finished server process [48383]
INFO     2022-05-19 18:45:43.314 request id: app - uvicorn.server:serve - Started server process [48732]
INFO     2022-05-19 18:45:43.314 request id: app - uvicorn.server:serve - Started server process [48732]
INFO     2022-05-19 18:45:43.315 request id: app - uvicorn.server:serve - Started server process [48732]
INFO     2022-05-19 18:45:43.315 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:45:43.315 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:45:43.315 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:45:43.315 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:45:43.316 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:45:43.316 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:46:06.763 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:46:06.774 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:46:06.775 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:46:06.775 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:46:06.877 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:46:06.879 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:46:06.880 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:46:06.882 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:46:06.884 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:46:06.884 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:46:06.886 request id: app - uvicorn.server:serve - Finished server process [48732]
INFO     2022-05-19 18:46:06.887 request id: app - uvicorn.server:serve - Finished server process [48732]
INFO     2022-05-19 18:46:06.888 request id: app - uvicorn.server:serve - Finished server process [48732]
INFO     2022-05-19 18:46:07.631 request id: app - uvicorn.server:serve - Started server process [48767]
INFO     2022-05-19 18:46:07.631 request id: app - uvicorn.server:serve - Started server process [48767]
INFO     2022-05-19 18:46:07.631 request id: app - uvicorn.server:serve - Started server process [48767]
INFO     2022-05-19 18:46:07.631 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:46:07.631 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:46:07.632 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:46:07.632 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:46:07.632 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:46:07.633 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:46:50.273 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:46:50.340 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:46:50.340 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:46:50.341 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:46:50.441 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:46:50.443 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:46:50.444 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:46:50.446 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:46:50.447 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:46:50.448 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:46:50.449 request id: app - uvicorn.server:serve - Finished server process [48767]
INFO     2022-05-19 18:46:50.450 request id: app - uvicorn.server:serve - Finished server process [48767]
INFO     2022-05-19 18:46:50.451 request id: app - uvicorn.server:serve - Finished server process [48767]
INFO     2022-05-19 18:46:51.039 request id: app - uvicorn.server:serve - Started server process [48858]
INFO     2022-05-19 18:46:51.039 request id: app - uvicorn.server:serve - Started server process [48858]
INFO     2022-05-19 18:46:51.039 request id: app - uvicorn.server:serve - Started server process [48858]
INFO     2022-05-19 18:46:51.040 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:46:51.040 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:46:51.040 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:46:51.040 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:46:51.040 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:46:51.041 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:50:42.050 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:50:42.124 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:50:42.124 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:50:42.124 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:50:42.225 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:50:42.225 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:50:42.226 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:50:42.226 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:50:42.226 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:50:42.226 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:50:42.226 request id: app - uvicorn.server:serve - Finished server process [48858]
INFO     2022-05-19 18:50:42.227 request id: app - uvicorn.server:serve - Finished server process [48858]
INFO     2022-05-19 18:50:42.227 request id: app - uvicorn.server:serve - Finished server process [48858]
INFO     2022-05-19 18:50:42.827 request id: app - uvicorn.server:serve - Started server process [49071]
INFO     2022-05-19 18:50:42.828 request id: app - uvicorn.server:serve - Started server process [49071]
INFO     2022-05-19 18:50:42.828 request id: app - uvicorn.server:serve - Started server process [49071]
INFO     2022-05-19 18:50:42.828 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:50:42.828 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:50:42.828 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:50:42.829 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:50:42.829 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:50:42.829 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:55:43.625 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:55:43.689 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:55:43.689 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:55:43.690 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:55:43.791 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:55:43.792 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:55:43.793 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:55:43.794 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:55:43.795 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:55:43.796 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:55:43.797 request id: app - uvicorn.server:serve - Finished server process [49071]
INFO     2022-05-19 18:55:43.798 request id: app - uvicorn.server:serve - Finished server process [49071]
INFO     2022-05-19 18:55:43.799 request id: app - uvicorn.server:serve - Finished server process [49071]
INFO     2022-05-19 18:55:44.378 request id: app - uvicorn.server:serve - Started server process [49675]
INFO     2022-05-19 18:55:44.378 request id: app - uvicorn.server:serve - Started server process [49675]
INFO     2022-05-19 18:55:44.379 request id: app - uvicorn.server:serve - Started server process [49675]
INFO     2022-05-19 18:55:44.379 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:55:44.379 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:55:44.379 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:55:44.379 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:55:44.380 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:55:44.380 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:56:53.800 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:56:53.852 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:56:53.853 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:56:53.853 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:56:53.954 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:56:53.955 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:56:53.955 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:56:53.955 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:56:53.955 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:56:53.956 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:56:53.956 request id: app - uvicorn.server:serve - Finished server process [49675]
INFO     2022-05-19 18:56:53.956 request id: app - uvicorn.server:serve - Finished server process [49675]
INFO     2022-05-19 18:56:53.956 request id: app - uvicorn.server:serve - Finished server process [49675]
INFO     2022-05-19 18:56:54.527 request id: app - uvicorn.server:serve - Started server process [49780]
INFO     2022-05-19 18:56:54.527 request id: app - uvicorn.server:serve - Started server process [49780]
INFO     2022-05-19 18:56:54.527 request id: app - uvicorn.server:serve - Started server process [49780]
INFO     2022-05-19 18:56:54.528 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:56:54.528 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:56:54.528 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:56:54.528 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:56:54.529 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:56:54.529 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 18:57:23.512 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 18:57:23.598 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:57:23.598 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:57:23.598 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 18:57:23.699 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:57:23.700 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:57:23.701 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 18:57:23.701 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:57:23.702 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:57:23.702 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 18:57:23.703 request id: app - uvicorn.server:serve - Finished server process [49780]
INFO     2022-05-19 18:57:23.704 request id: app - uvicorn.server:serve - Finished server process [49780]
INFO     2022-05-19 18:57:23.704 request id: app - uvicorn.server:serve - Finished server process [49780]
INFO     2022-05-19 18:57:24.374 request id: app - uvicorn.server:serve - Started server process [49833]
INFO     2022-05-19 18:57:24.375 request id: app - uvicorn.server:serve - Started server process [49833]
INFO     2022-05-19 18:57:24.375 request id: app - uvicorn.server:serve - Started server process [49833]
INFO     2022-05-19 18:57:24.375 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:57:24.375 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:57:24.375 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 18:57:24.376 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:57:24.376 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 18:57:24.376 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 19:01:10.795 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 19:01:10.841 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:01:10.842 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:01:10.843 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:01:10.944 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:01:10.946 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:01:10.946 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:01:10.947 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:01:10.948 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:01:10.949 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:01:10.950 request id: app - uvicorn.server:serve - Finished server process [49833]
INFO     2022-05-19 19:01:10.951 request id: app - uvicorn.server:serve - Finished server process [49833]
INFO     2022-05-19 19:01:10.952 request id: app - uvicorn.server:serve - Finished server process [49833]
INFO     2022-05-19 19:01:11.534 request id: app - uvicorn.server:serve - Started server process [50173]
INFO     2022-05-19 19:01:11.535 request id: app - uvicorn.server:serve - Started server process [50173]
INFO     2022-05-19 19:01:11.535 request id: app - uvicorn.server:serve - Started server process [50173]
INFO     2022-05-19 19:01:11.535 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:01:11.535 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:01:11.535 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:01:11.536 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:01:11.536 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:01:11.536 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 19:05:50.395 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/env.py']'. Reloading...
INFO     2022-05-19 19:05:50.462 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:05:50.462 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:05:50.463 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:05:50.564 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:05:50.564 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:05:50.565 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:05:50.565 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:05:50.565 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:05:50.566 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:05:50.566 request id: app - uvicorn.server:serve - Finished server process [50173]
INFO     2022-05-19 19:05:50.566 request id: app - uvicorn.server:serve - Finished server process [50173]
INFO     2022-05-19 19:05:50.566 request id: app - uvicorn.server:serve - Finished server process [50173]
INFO     2022-05-19 19:05:51.142 request id: app - uvicorn.server:serve - Started server process [50666]
INFO     2022-05-19 19:05:51.142 request id: app - uvicorn.server:serve - Started server process [50666]
INFO     2022-05-19 19:05:51.142 request id: app - uvicorn.server:serve - Started server process [50666]
INFO     2022-05-19 19:05:51.143 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:05:51.143 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:05:51.143 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:05:51.143 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:05:51.144 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:05:51.144 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 19:05:52.595 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migrations/versions/8a60a05589e1_added_required_tables.py']'. Reloading...
INFO     2022-05-19 19:05:52.648 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:05:52.648 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:05:52.648 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:05:52.748 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:05:52.749 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:05:52.750 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:05:52.751 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:05:52.752 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:05:52.753 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:05:52.754 request id: app - uvicorn.server:serve - Finished server process [50666]
INFO     2022-05-19 19:05:52.754 request id: app - uvicorn.server:serve - Finished server process [50666]
INFO     2022-05-19 19:05:52.755 request id: app - uvicorn.server:serve - Finished server process [50666]
INFO     2022-05-19 19:05:53.321 request id: app - uvicorn.server:serve - Started server process [50675]
INFO     2022-05-19 19:05:53.321 request id: app - uvicorn.server:serve - Started server process [50675]
INFO     2022-05-19 19:05:53.321 request id: app - uvicorn.server:serve - Started server process [50675]
INFO     2022-05-19 19:05:53.322 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:05:53.322 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:05:53.322 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:05:53.323 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:05:53.323 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:05:53.323 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 19:06:03.291 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/migration/env.py']'. Reloading...
INFO     2022-05-19 19:06:03.350 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:06:03.351 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:06:03.352 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:06:03.453 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:06:03.454 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:06:03.455 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:06:03.456 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:06:03.457 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:06:03.458 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:06:03.459 request id: app - uvicorn.server:serve - Finished server process [50675]
INFO     2022-05-19 19:06:03.460 request id: app - uvicorn.server:serve - Finished server process [50675]
INFO     2022-05-19 19:06:03.460 request id: app - uvicorn.server:serve - Finished server process [50675]
INFO     2022-05-19 19:06:04.067 request id: app - uvicorn.server:serve - Started server process [50690]
INFO     2022-05-19 19:06:04.068 request id: app - uvicorn.server:serve - Started server process [50690]
INFO     2022-05-19 19:06:04.068 request id: app - uvicorn.server:serve - Started server process [50690]
INFO     2022-05-19 19:06:04.068 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:06:04.068 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:06:04.068 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:06:04.069 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:06:04.069 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:06:04.069 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-19 19:06:37.396 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py', '/home/denius/Desktop/FlaskRestApi/core/schemas/category.py', '/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py', '/home/denius/Desktop/FlaskRestApi/core/main/database.py', '/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py', '/home/denius/Desktop/FlaskRestApi/tests/integration/test_user.py', '/home/denius/Desktop/FlaskRestApi/core/migrations/versions/8a60a05589e1_added_required_tables.py', '/home/denius/Desktop/FlaskRestApi/core/routers/api.py', '/home/denius/Desktop/FlaskRestApi/core/models/order.py', '/home/denius/Desktop/FlaskRestApi/core/migrations/env.py', '/home/denius/Desktop/FlaskRestApi/tests/integration/test_category.py', '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py', '/home/denius/Desktop/FlaskRestApi/core/schemas/__init__.py', '/home/denius/Desktop/FlaskRestApi/tests/unit/test_modules.py', '/home/denius/Desktop/FlaskRestApi/tests/unit/test_server.py', '/home/denius/Desktop/FlaskRestApi/core/schemas/product.py', '/home/denius/Desktop/FlaskRestApi/tests/conftest.py', '/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
INFO     2022-05-19 19:06:37.452 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:06:37.453 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:06:37.454 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:06:37.556 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:06:37.557 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:06:37.558 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:06:37.559 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:06:37.560 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:06:37.561 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:06:37.562 request id: app - uvicorn.server:serve - Finished server process [50690]
INFO     2022-05-19 19:06:37.563 request id: app - uvicorn.server:serve - Finished server process [50690]
INFO     2022-05-19 19:06:37.564 request id: app - uvicorn.server:serve - Finished server process [50690]
INFO     2022-05-19 19:06:38.215 request id: app - uvicorn.server:serve - Started server process [50775]
INFO     2022-05-19 19:06:38.216 request id: app - uvicorn.server:serve - Started server process [50775]
INFO     2022-05-19 19:06:38.216 request id: app - uvicorn.server:serve - Started server process [50775]
INFO     2022-05-19 19:06:38.216 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:06:38.216 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:06:38.216 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-19 19:06:38.217 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:06:38.217 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:06:38.217 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-19 19:08:34.912 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:08:34.913 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:08:34.914 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-19 19:08:35.015 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:08:35.016 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:08:35.018 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-19 19:08:35.019 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:08:35.020 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:08:35.021 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-19 19:08:35.022 request id: app - uvicorn.server:serve - Finished server process [50775]
INFO     2022-05-19 19:08:35.022 request id: app - uvicorn.server:serve - Finished server process [50775]
INFO     2022-05-19 19:08:35.023 request id: app - uvicorn.server:serve - Finished server process [50775]
INFO     2022-05-19 19:08:35.103 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [47481]
INFO     2022-05-20 12:43:32.646 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 12:43:32.647 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 12:43:32.779 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [15668] using watchgod
INFO     2022-05-20 12:43:33.323 request id: app - uvicorn.server:serve - Started server process [15678]
INFO     2022-05-20 12:43:33.323 request id: app - uvicorn.server:serve - Started server process [15678]
INFO     2022-05-20 12:43:33.323 request id: app - uvicorn.server:serve - Started server process [15678]
INFO     2022-05-20 12:43:33.323 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:43:33.324 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:43:33.324 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:43:33.324 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:43:33.324 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:43:33.324 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:43:37.022 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46952 - "GET / HTTP/1.1" 404
INFO     2022-05-20 12:43:37.299 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46952 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-05-20 12:43:42.446 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46954 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 12:43:43.022 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46954 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 12:44:02.443 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46956 - "GET /category/-3/ HTTP/1.1" 404
INFO     2022-05-20 12:44:06.868 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46956 - "GET /category/1/ HTTP/1.1" 200
INFO     2022-05-20 12:44:28.376 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46962 - "POST /category/ HTTP/1.1" 201
INFO     2022-05-20 12:44:37.508 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46964 - "GET /category/ HTTP/1.1" 500
ERROR    2022-05-20 12:44:37.509 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f188f1e65e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f188f28e3a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f188f2849d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f188f16af70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
    │    └ <function subprocess_started at 0x7f188e6651f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f188f16afa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f188e658430>
           │       │   └ <uvicorn.server.Server object at 0x7f188f16afa0>
           │       └ <function run at 0x7f188f166c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f188979b740>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1888fa09d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa00>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1888fa0a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa00>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa00>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1889819ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1888d27850>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1889819ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1888d27e50>
          └ <fastapi.applications.FastAPI object at 0x7f1888d27850>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f18883f88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1888d27ac0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1888d27e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1888d27cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1888d27ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1888d279d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1888d27cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f188d86a3a0>
          └ <fastapi.routing.APIRoute object at 0x7f1888d197c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1888d2a550>
          └ <fastapi.routing.APIRoute object at 0x7f1888d197c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f18883f3d90>
                     └ <function get_request_handler.<locals>.app at 0x7f1888d2a4c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f188d84ef70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_category__get', type=Optional[Category], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Category', errors=[{'loc': ('name',), 'msg': 'field required', 'type': 'value_error....
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Category
response -> name
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
ERROR    2022-05-20 12:44:37.522 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f188f1e65e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f188f28e3a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f188f2849d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f188f16af70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
    │    └ <function subprocess_started at 0x7f188e6651f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f188f16afa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f188e658430>
           │       │   └ <uvicorn.server.Server object at 0x7f188f16afa0>
           │       └ <function run at 0x7f188f166c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f188979b740>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1888fa09d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa00>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1888fa0a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa00>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa00>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1889819ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1888d27850>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1889819ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1888d27e50>
          └ <fastapi.applications.FastAPI object at 0x7f1888d27850>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f18883f88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1888d27ac0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1888d27e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1888d27cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1888d27ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1888d279d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1888d27cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f188d86a3a0>
          └ <fastapi.routing.APIRoute object at 0x7f1888d197c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1888d2a550>
          └ <fastapi.routing.APIRoute object at 0x7f1888d197c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f18883f3d90>
                     └ <function get_request_handler.<locals>.app at 0x7f1888d2a4c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f188d84ef70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_category__get', type=Optional[Category], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Category', errors=[{'loc': ('name',), 'msg': 'field required', 'type': 'value_error....
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Category
response -> name
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
ERROR    2022-05-20 12:44:37.528 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f188f1e65e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f188f28e3a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f188f2849d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f188f16af70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
    │    └ <function subprocess_started at 0x7f188e6651f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f188f16afa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f188e658430>
           │       │   └ <uvicorn.server.Server object at 0x7f188f16afa0>
           │       └ <function run at 0x7f188f166c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f188979b740>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1888fa09d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa00>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1888fa0a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa00>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa00>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1889819ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1888d27850>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1889819ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f188840aa...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1888d27e50>
          └ <fastapi.applications.FastAPI object at 0x7f1888d27850>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f18883f88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1888d27ac0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1888d27e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1888d27cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1888d27ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1888d279d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1888d27cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f188d86a3a0>
          └ <fastapi.routing.APIRoute object at 0x7f1888d197c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f18883f8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f18884...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1888d2a550>
          └ <fastapi.routing.APIRoute object at 0x7f1888d197c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f18883f3d90>
                     └ <function get_request_handler.<locals>.app at 0x7f1888d2a4c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f188d84ef70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_category__get', type=Optional[Category], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Category', errors=[{'loc': ('name',), 'msg': 'field required', 'type': 'value_error....
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Category
response -> name
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
WARNING  2022-05-20 12:46:32.503 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 12:46:32.587 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:46:32.588 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:46:32.588 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:46:32.689 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:46:32.691 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:46:32.692 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:46:32.694 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:46:32.695 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:46:32.698 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:46:32.700 request id: app - uvicorn.server:serve - Finished server process [15678]
INFO     2022-05-20 12:46:32.701 request id: app - uvicorn.server:serve - Finished server process [15678]
INFO     2022-05-20 12:46:32.702 request id: app - uvicorn.server:serve - Finished server process [15678]
INFO     2022-05-20 12:46:33.339 request id: app - uvicorn.server:serve - Started server process [15982]
INFO     2022-05-20 12:46:33.340 request id: app - uvicorn.server:serve - Started server process [15982]
INFO     2022-05-20 12:46:33.340 request id: app - uvicorn.server:serve - Started server process [15982]
INFO     2022-05-20 12:46:33.340 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:46:33.340 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:46:33.341 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:46:33.341 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:46:33.341 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:46:33.342 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:46:36.095 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46972 - "GET /category/ HTTP/1.1" 200
INFO     2022-05-20 12:47:10.023 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46974 - "PUT /category/2/ HTTP/1.1" 500
ERROR    2022-05-20 12:47:10.023 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f74cf2175e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f74cf2bf3a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f74cf2b59d0>
    └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f74cf19bf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
    │    └ <function subprocess_started at 0x7f74ce6961f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f74cf19bfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f74ce689430>
           │       │   └ <uvicorn.server.Server object at 0x7f74cf19bfa0>
           │       └ <function run at 0x7f74cf197c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f74c97dc6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f74c8fd39d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c8470490>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f74c8fd3a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c8470490>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c8470490>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74c984aaf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84704...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f74c97ec7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74c984aaf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84704...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84704...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74c8d4a7c0>
          └ <fastapi.applications.FastAPI object at 0x7f74c97ec7f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f74c8cd31f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74c8d4acd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74c8d4a7c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74c8d4aa00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74c8d4acd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f74c8d4afa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74c8d4aa00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f74cd89b3a0>
          └ <fastapi.routing.APIRoute object at 0x7f74c8d66970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f74c8d5b790>
          └ <fastapi.routing.APIRoute object at 0x7f74c8d66970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f74c8470d90>
                     └ <function get_request_handler.<locals>.app at 0x7f74c8d5b700>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f74cd88b160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f74c8cd2910>, 'id_category': 2, 'category': CategoryUpdate(name='Desta')}
                 │                 │         └ <function update_category at 0x7f74ca9f0c10>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f74c8d669a0>
                 └ <function run_in_threadpool at 0x7f74cddbad30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function update_category at 0x7f74ca9f0c10>, db=<sqlalchemy.orm.session.Session object at 0x7f74c8cd2910>,...
                 │     │         └ <function run_sync at 0x7f74ce5aea60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f74ce66b670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Category' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'AttributeError'>, AttributeError("type object 'Category' has no attribute 'query'"), None)
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f74c84701f0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f74c8c9f440>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 40, in update_category
    db_category = models.Category.query.filter_by(id=id_category).first()
                  │      │                           └ 2
                  │      └ <class 'core.models.category.Category'>
                  └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>

AttributeError: type object 'Category' has no attribute 'query'
ERROR    2022-05-20 12:47:10.043 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f74cf2175e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f74cf2bf3a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f74cf2b59d0>
    └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f74cf19bf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
    │    └ <function subprocess_started at 0x7f74ce6961f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f74cf19bfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f74ce689430>
           │       │   └ <uvicorn.server.Server object at 0x7f74cf19bfa0>
           │       └ <function run at 0x7f74cf197c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f74c97dc6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f74c8fd39d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c8470490>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f74c8fd3a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c8470490>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c8470490>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74c984aaf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84704...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f74c97ec7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74c984aaf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84704...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84704...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74c8d4a7c0>
          └ <fastapi.applications.FastAPI object at 0x7f74c97ec7f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f74c8cd31f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74c8d4acd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74c8d4a7c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74c8d4aa00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74c8d4acd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f74c8d4afa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74c8d4aa00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f74cd89b3a0>
          └ <fastapi.routing.APIRoute object at 0x7f74c8d66970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f74c8d5b790>
          └ <fastapi.routing.APIRoute object at 0x7f74c8d66970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f74c8470d90>
                     └ <function get_request_handler.<locals>.app at 0x7f74c8d5b700>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f74cd88b160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f74c8cd2910>, 'id_category': 2, 'category': CategoryUpdate(name='Desta')}
                 │                 │         └ <function update_category at 0x7f74ca9f0c10>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f74c8d669a0>
                 └ <function run_in_threadpool at 0x7f74cddbad30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function update_category at 0x7f74ca9f0c10>, db=<sqlalchemy.orm.session.Session object at 0x7f74c8cd2910>,...
                 │     │         └ <function run_sync at 0x7f74ce5aea60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f74ce66b670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Category' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'AttributeError'>, AttributeError("type object 'Category' has no attribute 'query'"), None)
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f74c84701f0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f74c8c9f440>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 40, in update_category
    db_category = models.Category.query.filter_by(id=id_category).first()
                  │      │                           └ 2
                  │      └ <class 'core.models.category.Category'>
                  └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>

AttributeError: type object 'Category' has no attribute 'query'
ERROR    2022-05-20 12:47:10.050 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f74cf2175e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f74cf2bf3a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f74cf2b59d0>
    └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f74cf19bf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
    │    └ <function subprocess_started at 0x7f74ce6961f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f74cf19bfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f74ce689430>
           │       │   └ <uvicorn.server.Server object at 0x7f74cf19bfa0>
           │       └ <function run at 0x7f74cf197c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f74c97dc6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f74c8fd39d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c8470490>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f74c8fd3a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c8470490>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c8470490>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74c984aaf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84704...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f74c97ec7f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74c984aaf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84704...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84704...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74c8d4a7c0>
          └ <fastapi.applications.FastAPI object at 0x7f74c97ec7f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f74c8cd31f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74c8d4acd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74c8d4a7c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74c8d4aa00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74c8d4acd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f74c8d4afa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74c8d4aa00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f74cd89b3a0>
          └ <fastapi.routing.APIRoute object at 0x7f74c8d66970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74c8cd3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74c84...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f74c8d5b790>
          └ <fastapi.routing.APIRoute object at 0x7f74c8d66970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f74c8470d90>
                     └ <function get_request_handler.<locals>.app at 0x7f74c8d5b700>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f74cd88b160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f74c8cd2910>, 'id_category': 2, 'category': CategoryUpdate(name='Desta')}
                 │                 │         └ <function update_category at 0x7f74ca9f0c10>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f74c8d669a0>
                 └ <function run_in_threadpool at 0x7f74cddbad30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function update_category at 0x7f74ca9f0c10>, db=<sqlalchemy.orm.session.Session object at 0x7f74c8cd2910>,...
                 │     │         └ <function run_sync at 0x7f74ce5aea60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f74ce66b670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Category' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'AttributeError'>, AttributeError("type object 'Category' has no attribute 'query'"), None)
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f74c84701f0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f74c8c9f440>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 40, in update_category
    db_category = models.Category.query.filter_by(id=id_category).first()
                  │      │                           └ 2
                  │      └ <class 'core.models.category.Category'>
                  └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>

AttributeError: type object 'Category' has no attribute 'query'
WARNING  2022-05-20 12:47:40.023 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 12:47:40.033 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:47:40.033 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:47:40.033 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:47:40.134 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:47:40.134 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:47:40.134 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:47:40.135 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:47:40.135 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:47:40.136 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:47:40.136 request id: app - uvicorn.server:serve - Finished server process [15982]
INFO     2022-05-20 12:47:40.136 request id: app - uvicorn.server:serve - Finished server process [15982]
INFO     2022-05-20 12:47:40.136 request id: app - uvicorn.server:serve - Finished server process [15982]
INFO     2022-05-20 12:47:40.757 request id: app - uvicorn.server:serve - Started server process [16059]
INFO     2022-05-20 12:47:40.757 request id: app - uvicorn.server:serve - Started server process [16059]
INFO     2022-05-20 12:47:40.758 request id: app - uvicorn.server:serve - Started server process [16059]
INFO     2022-05-20 12:47:40.758 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:47:40.758 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:47:40.758 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:47:40.759 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:47:40.759 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:47:40.759 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:47:42.517 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46978 - "PUT /category/2/ HTTP/1.1" 500
ERROR    2022-05-20 12:47:42.517 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f483cad25e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f483cb7a3a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f483cb709d0>
    └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f483ca56f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
    │    └ <function subprocess_started at 0x7f483bf511f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f483ca56fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f483bf44430>
           │       │   └ <uvicorn.server.Server object at 0x7f483ca56fa0>
           │       └ <function run at 0x7f483ca52c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f48370976c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f483688e9d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f610>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f483688ea60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f610>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f610>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4837105af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f48370a77f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4837105af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f48366057c0>
          └ <fastapi.applications.FastAPI object at 0x7f48370a77f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f4836591160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4836605cd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f48366057c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4836605a00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4836605cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f4836605fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4836605a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f483b1563a0>
          └ <fastapi.routing.APIRoute object at 0x7f4836621970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f4836616790>
          └ <fastapi.routing.APIRoute object at 0x7f4836621970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f483658f7c0>
                     └ <function get_request_handler.<locals>.app at 0x7f4836616700>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f483b13af70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_update_category_category__id_category___put', type=Optional[ProductUpdate], required=False, default...
          │               └ [ErrorWrapper(exc=ValidationError(model='ProductUpdate', errors=[{'loc': ('description',), 'msg': 'field required', 'type': '...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for ProductUpdate
response -> description
  field required (type=value_error.missing)
response -> price
  field required (type=value_error.missing)
ERROR    2022-05-20 12:47:42.526 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f483cad25e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f483cb7a3a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f483cb709d0>
    └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f483ca56f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
    │    └ <function subprocess_started at 0x7f483bf511f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f483ca56fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f483bf44430>
           │       │   └ <uvicorn.server.Server object at 0x7f483ca56fa0>
           │       └ <function run at 0x7f483ca52c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f48370976c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f483688e9d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f610>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f483688ea60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f610>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f610>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4837105af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f48370a77f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4837105af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f48366057c0>
          └ <fastapi.applications.FastAPI object at 0x7f48370a77f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f4836591160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4836605cd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f48366057c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4836605a00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4836605cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f4836605fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4836605a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f483b1563a0>
          └ <fastapi.routing.APIRoute object at 0x7f4836621970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f4836616790>
          └ <fastapi.routing.APIRoute object at 0x7f4836621970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f483658f7c0>
                     └ <function get_request_handler.<locals>.app at 0x7f4836616700>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f483b13af70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_update_category_category__id_category___put', type=Optional[ProductUpdate], required=False, default...
          │               └ [ErrorWrapper(exc=ValidationError(model='ProductUpdate', errors=[{'loc': ('description',), 'msg': 'field required', 'type': '...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for ProductUpdate
response -> description
  field required (type=value_error.missing)
response -> price
  field required (type=value_error.missing)
ERROR    2022-05-20 12:47:42.532 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f483cad25e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f483cb7a3a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f483cb709d0>
    └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f483ca56f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
    │    └ <function subprocess_started at 0x7f483bf511f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f483ca56fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f483bf44430>
           │       │   └ <uvicorn.server.Server object at 0x7f483ca56fa0>
           │       └ <function run at 0x7f483ca52c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f48370976c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f483688e9d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f610>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f483688ea60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f610>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f610>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4837105af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f48370a77f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4837105af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f483658f6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f48366057c0>
          └ <fastapi.applications.FastAPI object at 0x7f48370a77f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f4836591160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4836605cd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f48366057c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4836605a00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4836605cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f4836605fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4836605a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f483b1563a0>
          └ <fastapi.routing.APIRoute object at 0x7f4836621970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f48365911f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f48365...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f4836616790>
          └ <fastapi.routing.APIRoute object at 0x7f4836621970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f483658f7c0>
                     └ <function get_request_handler.<locals>.app at 0x7f4836616700>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f483b13af70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_update_category_category__id_category___put', type=Optional[ProductUpdate], required=False, default...
          │               └ [ErrorWrapper(exc=ValidationError(model='ProductUpdate', errors=[{'loc': ('description',), 'msg': 'field required', 'type': '...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for ProductUpdate
response -> description
  field required (type=value_error.missing)
response -> price
  field required (type=value_error.missing)
WARNING  2022-05-20 12:48:12.170 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 12:48:12.242 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:48:12.244 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:48:12.245 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:48:12.347 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:48:12.348 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:48:12.348 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:48:12.348 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:48:12.348 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:48:12.349 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:48:12.349 request id: app - uvicorn.server:serve - Finished server process [16059]
INFO     2022-05-20 12:48:12.350 request id: app - uvicorn.server:serve - Finished server process [16059]
INFO     2022-05-20 12:48:12.350 request id: app - uvicorn.server:serve - Finished server process [16059]
INFO     2022-05-20 12:48:12.995 request id: app - uvicorn.server:serve - Started server process [16110]
INFO     2022-05-20 12:48:12.996 request id: app - uvicorn.server:serve - Started server process [16110]
INFO     2022-05-20 12:48:12.996 request id: app - uvicorn.server:serve - Started server process [16110]
INFO     2022-05-20 12:48:12.996 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:48:12.996 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:48:12.997 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:48:12.997 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:48:12.997 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:48:12.997 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:48:13.641 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46982 - "PUT /category/2/ HTTP/1.1" 202
INFO     2022-05-20 12:48:25.123 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46984 - "POST /category/ HTTP/1.1" 422
INFO     2022-05-20 12:48:27.400 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46984 - "GET /category/ HTTP/1.1" 200
INFO     2022-05-20 12:48:39.549 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46986 - "POST /category/ HTTP/1.1" 422
INFO     2022-05-20 12:48:43.979 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46986 - "POST /category/ HTTP/1.1" 201
INFO     2022-05-20 12:48:48.243 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46986 - "GET /category/ HTTP/1.1" 200
INFO     2022-05-20 12:48:53.073 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46986 - "DELETE /category/3/ HTTP/1.1" 500
ERROR    2022-05-20 12:48:53.073 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f5ce4adb5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f5ce4b833a0>
           └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5ce4b799d0>
    └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5ce4a5ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
    │    └ <function subprocess_started at 0x7f5ce3f5a1f0>
    └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5ce4a5ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5ce3f4d430>
           │       │   └ <uvicorn.server.Server object at 0x7f5ce4a5ffa0>
           │       └ <function run at 0x7f5ce4a5bc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5cdf09c6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5cde8949d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e490>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5cde894a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e490>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e490>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5cdf093160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e4...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5cdf0b5970>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5cdf093160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e4...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e4...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5cde60f8e0>
          └ <fastapi.applications.FastAPI object at 0x7f5cdf0b5970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5cde593280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5cde60fe20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5cde60f8e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5cde60fc10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5cde60fe20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5cde60ffa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5cde60fc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5ce315e3a0>
          └ <fastapi.routing.APIRoute object at 0x7f5cde62bb20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5cde6198b0>
          └ <fastapi.routing.APIRoute object at 0x7f5cde62bb20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5cddc8ec10>
                     └ <function get_request_handler.<locals>.app at 0x7f5cde619820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5ce314f160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f5cde589a90>, 'id_category': 3}
                 │                 │         └ <function delete_category at 0x7f5ce02b4dc0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f5cde62bb50>
                 └ <function run_in_threadpool at 0x7f5ce367ed30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function delete_category at 0x7f5ce02b4dc0>, db=<sqlalchemy.orm.session.Session object at 0x7f5cde589a90>,...
                 │     │         └ <function run_sync at 0x7f5ce3e72a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5ce3f2f670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Category' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'AttributeError'>, AttributeError("type object 'Category' has no attribute 'query'"), None)
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f5cddc8ea60>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f5cddce2d40>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 55, in delete_category
    category = models.Category.query.filter_by(id=id_category).first()
               │      │                           └ 3
               │      └ <class 'core.models.category.Category'>
               └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>

AttributeError: type object 'Category' has no attribute 'query'
ERROR    2022-05-20 12:48:53.083 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f5ce4adb5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f5ce4b833a0>
           └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5ce4b799d0>
    └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5ce4a5ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
    │    └ <function subprocess_started at 0x7f5ce3f5a1f0>
    └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5ce4a5ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5ce3f4d430>
           │       │   └ <uvicorn.server.Server object at 0x7f5ce4a5ffa0>
           │       └ <function run at 0x7f5ce4a5bc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5cdf09c6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5cde8949d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e490>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5cde894a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e490>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e490>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5cdf093160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e4...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5cdf0b5970>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5cdf093160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e4...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e4...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5cde60f8e0>
          └ <fastapi.applications.FastAPI object at 0x7f5cdf0b5970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5cde593280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5cde60fe20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5cde60f8e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5cde60fc10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5cde60fe20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5cde60ffa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5cde60fc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5ce315e3a0>
          └ <fastapi.routing.APIRoute object at 0x7f5cde62bb20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5cde6198b0>
          └ <fastapi.routing.APIRoute object at 0x7f5cde62bb20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5cddc8ec10>
                     └ <function get_request_handler.<locals>.app at 0x7f5cde619820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5ce314f160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f5cde589a90>, 'id_category': 3}
                 │                 │         └ <function delete_category at 0x7f5ce02b4dc0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f5cde62bb50>
                 └ <function run_in_threadpool at 0x7f5ce367ed30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function delete_category at 0x7f5ce02b4dc0>, db=<sqlalchemy.orm.session.Session object at 0x7f5cde589a90>,...
                 │     │         └ <function run_sync at 0x7f5ce3e72a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5ce3f2f670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Category' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'AttributeError'>, AttributeError("type object 'Category' has no attribute 'query'"), None)
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f5cddc8ea60>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f5cddce2d40>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 55, in delete_category
    category = models.Category.query.filter_by(id=id_category).first()
               │      │                           └ 3
               │      └ <class 'core.models.category.Category'>
               └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>

AttributeError: type object 'Category' has no attribute 'query'
ERROR    2022-05-20 12:48:53.090 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f5ce4adb5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f5ce4b833a0>
           └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5ce4b799d0>
    └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5ce4a5ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
    │    └ <function subprocess_started at 0x7f5ce3f5a1f0>
    └ <SpawnProcess name='SpawnProcess-4' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5ce4a5ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5ce3f4d430>
           │       │   └ <uvicorn.server.Server object at 0x7f5ce4a5ffa0>
           │       └ <function run at 0x7f5ce4a5bc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5cdf09c6c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5cde8949d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e490>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5cde894a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e490>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e490>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5cdf093160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e4...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5cdf0b5970>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5cdf093160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e4...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc8e4...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5cde60f8e0>
          └ <fastapi.applications.FastAPI object at 0x7f5cdf0b5970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5cde593280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5cde60fe20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5cde60f8e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5cde60fc10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5cde60fe20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5cde60ffa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5cde60fc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5ce315e3a0>
          └ <fastapi.routing.APIRoute object at 0x7f5cde62bb20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5cde5931f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5cddc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5cde6198b0>
          └ <fastapi.routing.APIRoute object at 0x7f5cde62bb20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5cddc8ec10>
                     └ <function get_request_handler.<locals>.app at 0x7f5cde619820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5ce314f160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f5cde589a90>, 'id_category': 3}
                 │                 │         └ <function delete_category at 0x7f5ce02b4dc0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f5cde62bb50>
                 └ <function run_in_threadpool at 0x7f5ce367ed30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function delete_category at 0x7f5ce02b4dc0>, db=<sqlalchemy.orm.session.Session object at 0x7f5cde589a90>,...
                 │     │         └ <function run_sync at 0x7f5ce3e72a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5ce3f2f670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Category' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'AttributeError'>, AttributeError("type object 'Category' has no attribute 'query'"), None)
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f5cddc8ea60>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f5cddce2d40>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py", line 55, in delete_category
    category = models.Category.query.filter_by(id=id_category).first()
               │      │                           └ 3
               │      └ <class 'core.models.category.Category'>
               └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>

AttributeError: type object 'Category' has no attribute 'query'
WARNING  2022-05-20 12:49:11.190 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 12:49:11.249 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:49:11.249 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:49:11.250 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:49:11.350 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:49:11.352 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:49:11.353 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:49:11.354 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:49:11.355 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:49:11.356 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:49:11.357 request id: app - uvicorn.server:serve - Finished server process [16110]
INFO     2022-05-20 12:49:11.358 request id: app - uvicorn.server:serve - Finished server process [16110]
INFO     2022-05-20 12:49:11.358 request id: app - uvicorn.server:serve - Finished server process [16110]
INFO     2022-05-20 12:49:12.007 request id: app - uvicorn.server:serve - Started server process [16156]
INFO     2022-05-20 12:49:12.007 request id: app - uvicorn.server:serve - Started server process [16156]
INFO     2022-05-20 12:49:12.007 request id: app - uvicorn.server:serve - Started server process [16156]
INFO     2022-05-20 12:49:12.007 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:49:12.007 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:49:12.008 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:49:12.008 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:49:12.008 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:49:12.009 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:49:13.197 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46992 - "DELETE /category/3/ HTTP/1.1" 202
WARNING  2022-05-20 12:49:22.672 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 12:49:22.740 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:49:22.740 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:49:22.740 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:49:22.841 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:49:22.841 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:49:22.842 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:49:22.842 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:49:22.843 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:49:22.843 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:49:22.844 request id: app - uvicorn.server:serve - Finished server process [16156]
INFO     2022-05-20 12:49:22.844 request id: app - uvicorn.server:serve - Finished server process [16156]
INFO     2022-05-20 12:49:22.845 request id: app - uvicorn.server:serve - Finished server process [16156]
INFO     2022-05-20 12:49:23.492 request id: app - uvicorn.server:serve - Started server process [16169]
INFO     2022-05-20 12:49:23.493 request id: app - uvicorn.server:serve - Started server process [16169]
INFO     2022-05-20 12:49:23.493 request id: app - uvicorn.server:serve - Started server process [16169]
INFO     2022-05-20 12:49:23.493 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:49:23.493 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:49:23.493 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:49:23.494 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:49:23.494 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:49:23.494 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:49:25.571 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46996 - "DELETE /category/3/ HTTP/1.1" 404
INFO     2022-05-20 12:49:28.077 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:46996 - "DELETE /category/2/ HTTP/1.1" 202
WARNING  2022-05-20 12:49:31.873 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 12:49:31.916 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:49:31.916 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:49:31.917 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:49:32.018 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:49:32.018 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:49:32.018 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:49:32.018 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:49:32.018 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:49:32.019 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:49:32.019 request id: app - uvicorn.server:serve - Finished server process [16169]
INFO     2022-05-20 12:49:32.019 request id: app - uvicorn.server:serve - Finished server process [16169]
INFO     2022-05-20 12:49:32.019 request id: app - uvicorn.server:serve - Finished server process [16169]
INFO     2022-05-20 12:49:32.646 request id: app - uvicorn.server:serve - Started server process [16187]
INFO     2022-05-20 12:49:32.646 request id: app - uvicorn.server:serve - Started server process [16187]
INFO     2022-05-20 12:49:32.646 request id: app - uvicorn.server:serve - Started server process [16187]
INFO     2022-05-20 12:49:32.646 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:49:32.647 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:49:32.647 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:49:32.647 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:49:32.647 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:49:32.648 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 12:50:50.303 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 12:50:50.354 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:50:50.354 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:50:50.354 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:50:50.455 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:50:50.455 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:50:50.455 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:50:50.456 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:50:50.456 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:50:50.456 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:50:50.457 request id: app - uvicorn.server:serve - Finished server process [16187]
INFO     2022-05-20 12:50:50.457 request id: app - uvicorn.server:serve - Finished server process [16187]
INFO     2022-05-20 12:50:50.457 request id: app - uvicorn.server:serve - Finished server process [16187]
INFO     2022-05-20 12:50:51.181 request id: app - uvicorn.server:serve - Started server process [16271]
INFO     2022-05-20 12:50:51.181 request id: app - uvicorn.server:serve - Started server process [16271]
INFO     2022-05-20 12:50:51.181 request id: app - uvicorn.server:serve - Started server process [16271]
INFO     2022-05-20 12:50:51.181 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:50:51.182 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:50:51.182 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:50:51.182 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:50:51.182 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:50:51.183 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:50:51.184 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47000 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 12:50:51.623 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47000 - "GET /openapi.json HTTP/1.1" 200
WARNING  2022-05-20 12:51:13.472 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 12:51:13.539 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:51:13.539 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:51:13.539 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:51:13.640 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:51:13.640 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:51:13.640 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:51:13.640 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:51:13.641 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:51:13.641 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:51:13.641 request id: app - uvicorn.server:serve - Finished server process [16271]
INFO     2022-05-20 12:51:13.641 request id: app - uvicorn.server:serve - Finished server process [16271]
INFO     2022-05-20 12:51:13.642 request id: app - uvicorn.server:serve - Finished server process [16271]
INFO     2022-05-20 12:51:14.270 request id: app - uvicorn.server:serve - Started server process [16319]
INFO     2022-05-20 12:51:14.270 request id: app - uvicorn.server:serve - Started server process [16319]
INFO     2022-05-20 12:51:14.270 request id: app - uvicorn.server:serve - Started server process [16319]
INFO     2022-05-20 12:51:14.270 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:51:14.271 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:51:14.271 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:51:14.271 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:51:14.271 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:51:14.271 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:51:15.461 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47010 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 12:51:15.786 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47010 - "GET /openapi.json HTTP/1.1" 200
WARNING  2022-05-20 12:52:07.922 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 12:52:07.925 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:52:07.925 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:52:07.925 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:52:08.025 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:52:08.025 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:52:08.026 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:52:08.026 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:52:08.026 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:52:08.026 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:52:08.027 request id: app - uvicorn.server:serve - Finished server process [16319]
INFO     2022-05-20 12:52:08.027 request id: app - uvicorn.server:serve - Finished server process [16319]
INFO     2022-05-20 12:52:08.027 request id: app - uvicorn.server:serve - Finished server process [16319]
WARNING  2022-05-20 12:52:24.033 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 12:52:24.574 request id: app - uvicorn.server:serve - Started server process [16408]
INFO     2022-05-20 12:52:24.574 request id: app - uvicorn.server:serve - Started server process [16408]
INFO     2022-05-20 12:52:24.574 request id: app - uvicorn.server:serve - Started server process [16408]
INFO     2022-05-20 12:52:24.574 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:52:24.574 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:52:24.575 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:52:24.575 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:52:24.575 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:52:24.575 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:52:25.450 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47016 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 12:52:25.777 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47016 - "GET /openapi.json HTTP/1.1" 200
WARNING  2022-05-20 12:52:35.088 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 12:52:35.104 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:52:35.105 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:52:35.105 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:52:35.206 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:52:35.207 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:52:35.208 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:52:35.209 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:52:35.210 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:52:35.210 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:52:35.211 request id: app - uvicorn.server:serve - Finished server process [16408]
INFO     2022-05-20 12:52:35.212 request id: app - uvicorn.server:serve - Finished server process [16408]
INFO     2022-05-20 12:52:35.213 request id: app - uvicorn.server:serve - Finished server process [16408]
INFO     2022-05-20 12:52:35.821 request id: app - uvicorn.server:serve - Started server process [16439]
INFO     2022-05-20 12:52:35.821 request id: app - uvicorn.server:serve - Started server process [16439]
INFO     2022-05-20 12:52:35.821 request id: app - uvicorn.server:serve - Started server process [16439]
INFO     2022-05-20 12:52:35.822 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:52:35.822 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:52:35.822 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:52:35.823 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:52:35.823 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:52:35.823 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:52:36.075 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47024 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 12:52:36.414 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47024 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 12:52:58.914 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47026 - "POST /product/ HTTP/1.1" 422
INFO     2022-05-20 12:53:19.016 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47028 - "POST /product/ HTTP/1.1" 422
INFO     2022-05-20 12:53:24.321 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47030 - "POST /product/ HTTP/1.1" 422
INFO     2022-05-20 12:53:42.090 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47032 - "POST /product/ HTTP/1.1" 422
WARNING  2022-05-20 12:55:20.739 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/product.py']'. Reloading...
INFO     2022-05-20 12:55:20.754 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:55:20.755 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:55:20.755 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:55:20.856 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:55:20.856 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:55:20.857 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:55:20.857 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:55:20.858 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:55:20.858 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:55:20.859 request id: app - uvicorn.server:serve - Finished server process [16439]
INFO     2022-05-20 12:55:20.860 request id: app - uvicorn.server:serve - Finished server process [16439]
INFO     2022-05-20 12:55:20.860 request id: app - uvicorn.server:serve - Finished server process [16439]
INFO     2022-05-20 12:55:21.534 request id: app - uvicorn.server:serve - Started server process [16641]
INFO     2022-05-20 12:55:21.535 request id: app - uvicorn.server:serve - Started server process [16641]
INFO     2022-05-20 12:55:21.535 request id: app - uvicorn.server:serve - Started server process [16641]
INFO     2022-05-20 12:55:21.535 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:55:21.535 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:55:21.536 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:55:21.536 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:55:21.536 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:55:21.536 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:55:24.373 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47046 - "POST /product/ HTTP/1.1" 409
INFO     2022-05-20 12:55:41.461 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47050 - "POST /product/ HTTP/1.1" 409
WARNING  2022-05-20 12:56:08.403 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 12:56:08.448 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:56:08.450 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:56:08.450 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 12:56:08.552 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:56:08.553 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:56:08.554 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 12:56:08.555 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:56:08.556 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:56:08.557 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 12:56:08.558 request id: app - uvicorn.server:serve - Finished server process [16641]
INFO     2022-05-20 12:56:08.559 request id: app - uvicorn.server:serve - Finished server process [16641]
INFO     2022-05-20 12:56:08.560 request id: app - uvicorn.server:serve - Finished server process [16641]
INFO     2022-05-20 12:56:09.230 request id: app - uvicorn.server:serve - Started server process [16748]
INFO     2022-05-20 12:56:09.230 request id: app - uvicorn.server:serve - Started server process [16748]
INFO     2022-05-20 12:56:09.231 request id: app - uvicorn.server:serve - Started server process [16748]
INFO     2022-05-20 12:56:09.231 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:56:09.231 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:56:09.231 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 12:56:09.231 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:56:09.232 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:56:09.232 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 12:56:10.806 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47060 - "POST /product/ HTTP/1.1" 500
ERROR    2022-05-20 12:56:10.807 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ ProductUpdate(name='some', description='des for saome', price=Decimal('25.25'))
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'ProductUpdate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f43dbfc45e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f43dc06c3a0>
           └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f43dc0629d0>
    └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f43dbf49f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
    │    └ <function subprocess_started at 0x7f43db4431f0>
    └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f43dbf49fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f43db436430>
           │       │   └ <uvicorn.server.Server object at 0x7f43dbf49fa0>
           │       └ <function run at 0x7f43dbf44c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f43d65856c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f43d5d7d9d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f43d5d7da60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f43d657c3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f43d659ce50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f43d657c3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f43d5af98e0>
          └ <fastapi.applications.FastAPI object at 0x7f43d659ce50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f43d5a80160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f43d5af9e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f43d5af98e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f43d5af9c10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f43d5af9e20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f43d5af9fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f43d5af9c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f43da6473a0>
          └ <fastapi.routing.APIRoute object at 0x7f43d5b26490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f43d5b03dc0>
          └ <fastapi.routing.APIRoute object at 0x7f43d5b26490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f43d5a87040>
                     └ <function get_request_handler.<locals>.app at 0x7f43d5b03d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f43da638160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f43d5a873a0>, 'product': ProductUpdate(name='some', description='des for ...
                 │                 │         └ <function add_product at 0x7f43d7769e50>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f43d5b264c0>
                 └ <function run_in_threadpool at 0x7f43dab67d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_product at 0x7f43d7769e50>, db=<sqlalchemy.orm.session.Session object at 0x7f43d5a873a0>, pro...
                 │     │         └ <function run_sync at 0x7f43db35ba60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f43db418670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f43d5a872b0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f43d5a48a00>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 27, in add_product
    db.add(product)
    │  │   └ ProductUpdate(name='some', description='des for saome', price=Decimal('25.25'))
    │  └ <function Session.add at 0x7f43d92ad550>
    └ <sqlalchemy.orm.session.Session object at 0x7f43d5a873a0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f43d9f7b9d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.product.ProductUpdate' is not mapped
ERROR    2022-05-20 12:56:10.821 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ ProductUpdate(name='some', description='des for saome', price=Decimal('25.25'))
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'ProductUpdate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f43dbfc45e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f43dc06c3a0>
           └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f43dc0629d0>
    └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f43dbf49f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
    │    └ <function subprocess_started at 0x7f43db4431f0>
    └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f43dbf49fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f43db436430>
           │       │   └ <uvicorn.server.Server object at 0x7f43dbf49fa0>
           │       └ <function run at 0x7f43dbf44c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f43d65856c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f43d5d7d9d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f43d5d7da60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f43d657c3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f43d659ce50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f43d657c3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f43d5af98e0>
          └ <fastapi.applications.FastAPI object at 0x7f43d659ce50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f43d5a80160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f43d5af9e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f43d5af98e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f43d5af9c10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f43d5af9e20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f43d5af9fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f43d5af9c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f43da6473a0>
          └ <fastapi.routing.APIRoute object at 0x7f43d5b26490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f43d5b03dc0>
          └ <fastapi.routing.APIRoute object at 0x7f43d5b26490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f43d5a87040>
                     └ <function get_request_handler.<locals>.app at 0x7f43d5b03d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f43da638160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f43d5a873a0>, 'product': ProductUpdate(name='some', description='des for ...
                 │                 │         └ <function add_product at 0x7f43d7769e50>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f43d5b264c0>
                 └ <function run_in_threadpool at 0x7f43dab67d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_product at 0x7f43d7769e50>, db=<sqlalchemy.orm.session.Session object at 0x7f43d5a873a0>, pro...
                 │     │         └ <function run_sync at 0x7f43db35ba60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f43db418670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f43d5a872b0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f43d5a48a00>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 27, in add_product
    db.add(product)
    │  │   └ ProductUpdate(name='some', description='des for saome', price=Decimal('25.25'))
    │  └ <function Session.add at 0x7f43d92ad550>
    └ <sqlalchemy.orm.session.Session object at 0x7f43d5a873a0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f43d9f7b9d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.product.ProductUpdate' is not mapped
ERROR    2022-05-20 12:56:10.828 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ ProductUpdate(name='some', description='des for saome', price=Decimal('25.25'))
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'ProductUpdate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f43dbfc45e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f43dc06c3a0>
           └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f43dc0629d0>
    └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f43dbf49f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
    │    └ <function subprocess_started at 0x7f43db4431f0>
    └ <SpawnProcess name='SpawnProcess-14' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f43dbf49fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f43db436430>
           │       │   └ <uvicorn.server.Server object at 0x7f43dbf49fa0>
           │       └ <function run at 0x7f43dbf44c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f43d65856c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f43d5d7d9d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f43d5d7da60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f43d657c3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f43d659ce50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f43d657c3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a70e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f43d5af98e0>
          └ <fastapi.applications.FastAPI object at 0x7f43d659ce50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f43d5a80160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f43d5af9e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f43d5af98e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f43d5af9c10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f43d5af9e20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f43d5af9fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f43d5af9c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f43da6473a0>
          └ <fastapi.routing.APIRoute object at 0x7f43d5b26490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f43d5a801f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f43d5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f43d5b03dc0>
          └ <fastapi.routing.APIRoute object at 0x7f43d5b26490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f43d5a87040>
                     └ <function get_request_handler.<locals>.app at 0x7f43d5b03d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f43da638160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f43d5a873a0>, 'product': ProductUpdate(name='some', description='des for ...
                 │                 │         └ <function add_product at 0x7f43d7769e50>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f43d5b264c0>
                 └ <function run_in_threadpool at 0x7f43dab67d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_product at 0x7f43d7769e50>, db=<sqlalchemy.orm.session.Session object at 0x7f43d5a873a0>, pro...
                 │     │         └ <function run_sync at 0x7f43db35ba60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f43db418670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f43d5a872b0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f43d5a48a00>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 27, in add_product
    db.add(product)
    │  │   └ ProductUpdate(name='some', description='des for saome', price=Decimal('25.25'))
    │  └ <function Session.add at 0x7f43d92ad550>
    └ <sqlalchemy.orm.session.Session object at 0x7f43d5a873a0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f43d9f7b9d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.product.ProductUpdate' is not mapped
WARNING  2022-05-20 13:00:55.475 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/product.py']'. Reloading...
INFO     2022-05-20 13:00:55.568 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:00:55.568 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:00:55.569 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:00:55.669 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:00:55.669 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:00:55.670 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:00:55.670 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:00:55.670 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:00:55.671 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:00:55.671 request id: app - uvicorn.server:serve - Finished server process [16748]
INFO     2022-05-20 13:00:55.671 request id: app - uvicorn.server:serve - Finished server process [16748]
INFO     2022-05-20 13:00:55.672 request id: app - uvicorn.server:serve - Finished server process [16748]
INFO     2022-05-20 13:00:56.411 request id: app - uvicorn.server:serve - Started server process [17265]
INFO     2022-05-20 13:00:56.411 request id: app - uvicorn.server:serve - Started server process [17265]
INFO     2022-05-20 13:00:56.411 request id: app - uvicorn.server:serve - Started server process [17265]
INFO     2022-05-20 13:00:56.411 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:00:56.412 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:00:56.412 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:00:56.412 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:00:56.412 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:00:56.413 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:01:02.169 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47122 - "POST /product/ HTTP/1.1" 500
ERROR    2022-05-20 13:01:02.170 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ ProductUpdate(name='some', description='des for saome', price=25.25)
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'ProductUpdate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f509594d5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f50959f53a0>
           └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f50959eb9d0>
    └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f50958d1f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
    │    └ <function subprocess_started at 0x7f5094dcc1f0>
    └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f50958d1fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5094dbf430>
           │       │   └ <uvicorn.server.Server object at 0x7f50958d1fa0>
           │       └ <function run at 0x7f50958cdc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f509077b740>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f50901139d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1f0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5090113a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1f0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1f0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5090779a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f50907381c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5090779a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f509010ca90>
          └ <fastapi.applications.FastAPI object at 0x7f50907381c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5090017160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f509010ccd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f509010ca90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f509010c940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f509010ccd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f509010cdc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f509010c940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5093fd13a0>
          └ <fastapi.routing.APIRoute object at 0x7f50900bba30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f509009bdc0>
          └ <fastapi.routing.APIRoute object at 0x7f50900bba30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f509001b3a0>
                     └ <function get_request_handler.<locals>.app at 0x7f509009bd30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5093fc1160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f509002cf40>, 'product': ProductUpdate(name='some', description='des for ...
                 │                 │         └ <function add_product at 0x7f50910f1ee0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f50900bba60>
                 └ <function run_in_threadpool at 0x7f50944f0d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_product at 0x7f50910f1ee0>, db=<sqlalchemy.orm.session.Session object at 0x7f509002cf40>, pro...
                 │     │         └ <function run_sync at 0x7f5094ce4a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5094da1670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f509001b610>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f509003f800>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 27, in add_product
    db.add(product)
    │  │   └ ProductUpdate(name='some', description='des for saome', price=25.25)
    │  └ <function Session.add at 0x7f5092c36550>
    └ <sqlalchemy.orm.session.Session object at 0x7f509002cf40>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f50939049d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.product.ProductUpdate' is not mapped
ERROR    2022-05-20 13:01:02.181 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ ProductUpdate(name='some', description='des for saome', price=25.25)
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'ProductUpdate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f509594d5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f50959f53a0>
           └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f50959eb9d0>
    └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f50958d1f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
    │    └ <function subprocess_started at 0x7f5094dcc1f0>
    └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f50958d1fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5094dbf430>
           │       │   └ <uvicorn.server.Server object at 0x7f50958d1fa0>
           │       └ <function run at 0x7f50958cdc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f509077b740>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f50901139d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1f0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5090113a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1f0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1f0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5090779a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f50907381c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5090779a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f509010ca90>
          └ <fastapi.applications.FastAPI object at 0x7f50907381c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5090017160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f509010ccd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f509010ca90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f509010c940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f509010ccd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f509010cdc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f509010c940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5093fd13a0>
          └ <fastapi.routing.APIRoute object at 0x7f50900bba30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f509009bdc0>
          └ <fastapi.routing.APIRoute object at 0x7f50900bba30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f509001b3a0>
                     └ <function get_request_handler.<locals>.app at 0x7f509009bd30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5093fc1160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f509002cf40>, 'product': ProductUpdate(name='some', description='des for ...
                 │                 │         └ <function add_product at 0x7f50910f1ee0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f50900bba60>
                 └ <function run_in_threadpool at 0x7f50944f0d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_product at 0x7f50910f1ee0>, db=<sqlalchemy.orm.session.Session object at 0x7f509002cf40>, pro...
                 │     │         └ <function run_sync at 0x7f5094ce4a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5094da1670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f509001b610>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f509003f800>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 27, in add_product
    db.add(product)
    │  │   └ ProductUpdate(name='some', description='des for saome', price=25.25)
    │  └ <function Session.add at 0x7f5092c36550>
    └ <sqlalchemy.orm.session.Session object at 0x7f509002cf40>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f50939049d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.product.ProductUpdate' is not mapped
ERROR    2022-05-20 13:01:02.189 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2603, in add
    state = attributes.instance_state(instance)
            │          │              └ ProductUpdate(name='some', description='des for saome', price=25.25)
            │          └ operator.attrgetter('_sa_instance_state')
            └ <module 'sqlalchemy.orm.attributes' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/a...

AttributeError: 'ProductUpdate' object has no attribute '_sa_instance_state'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f509594d5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f50959f53a0>
           └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f50959eb9d0>
    └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f50958d1f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
    │    └ <function subprocess_started at 0x7f5094dcc1f0>
    └ <SpawnProcess name='SpawnProcess-15' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f50958d1fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5094dbf430>
           │       │   └ <uvicorn.server.Server object at 0x7f50958d1fa0>
           │       └ <function run at 0x7f50958cdc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f509077b740>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f50901139d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1f0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5090113a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1f0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1f0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5090779a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f50907381c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5090779a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f509001b1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f509010ca90>
          └ <fastapi.applications.FastAPI object at 0x7f50907381c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5090017160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f509010ccd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f509010ca90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f509010c940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f509010ccd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f509010cdc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f509010c940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5093fd13a0>
          └ <fastapi.routing.APIRoute object at 0x7f50900bba30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f50900171f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f50900...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f509009bdc0>
          └ <fastapi.routing.APIRoute object at 0x7f50900bba30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f509001b3a0>
                     └ <function get_request_handler.<locals>.app at 0x7f509009bd30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5093fc1160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f509002cf40>, 'product': ProductUpdate(name='some', description='des for ...
                 │                 │         └ <function add_product at 0x7f50910f1ee0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f50900bba60>
                 └ <function run_in_threadpool at 0x7f50944f0d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_product at 0x7f50910f1ee0>, db=<sqlalchemy.orm.session.Session object at 0x7f509002cf40>, pro...
                 │     │         └ <function run_sync at 0x7f5094ce4a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5094da1670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not mapped")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.orm.exc.UnmappedInstanceError'>, UnmappedInstanceError("Class 'core.schemas.product.ProductUpdate' is not...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f509001b610>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f509003f800>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 27, in add_product
    db.add(product)
    │  │   └ ProductUpdate(name='some', description='des for saome', price=25.25)
    │  └ <function Session.add at 0x7f5092c36550>
    └ <sqlalchemy.orm.session.Session object at 0x7f509002cf40>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2605, in add
    util.raise_(
    │    └ <function raise_ at 0x7f50939049d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception

sqlalchemy.orm.exc.UnmappedInstanceError: Class 'core.schemas.product.ProductUpdate' is not mapped
WARNING  2022-05-20 13:03:30.189 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:03:30.218 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:03:30.219 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:03:30.219 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:03:30.320 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:03:30.320 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:03:30.321 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:03:30.321 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:03:30.321 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:03:30.322 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:03:30.323 request id: app - uvicorn.server:serve - Finished server process [17265]
INFO     2022-05-20 13:03:30.323 request id: app - uvicorn.server:serve - Finished server process [17265]
INFO     2022-05-20 13:03:30.323 request id: app - uvicorn.server:serve - Finished server process [17265]
INFO     2022-05-20 13:03:31.062 request id: app - uvicorn.server:serve - Started server process [17570]
INFO     2022-05-20 13:03:31.062 request id: app - uvicorn.server:serve - Started server process [17570]
INFO     2022-05-20 13:03:31.062 request id: app - uvicorn.server:serve - Started server process [17570]
INFO     2022-05-20 13:03:31.062 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:03:31.062 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:03:31.063 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:03:31.063 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:03:31.063 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:03:31.063 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:03:33.089 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47136 - "POST /product/ HTTP/1.1" 201
INFO     2022-05-20 13:03:43.420 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47138 - "POST /product/ HTTP/1.1" 409
INFO     2022-05-20 13:03:55.678 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47140 - "POST /product/ HTTP/1.1" 201
INFO     2022-05-20 13:04:05.425 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47144 - "GET /product/ HTTP/1.1" 500
ERROR    2022-05-20 13:04:05.426 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f0d342785e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f0d343203a0>
           └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f0d343169d0>
    └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f0d341fcf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
    │    └ <function subprocess_started at 0x7f0d336f71f0>
    └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f0d341fcfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f0d336ea430>
           │       │   └ <uvicorn.server.Server object at 0x7f0d341fcfa0>
           │       └ <function run at 0x7f0d341f8c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f0d2e8a57c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f0d2e02c9d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f0d2e02ca60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0d2e8a4a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f0d2e8621f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0d2e8a4a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0d2de218b0>
          └ <fastapi.applications.FastAPI object at 0x7f0d2e8621f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f0d2dd27040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0d2de21cd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0d2de218b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0d2de21a30>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0d2de21cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f0d2de21dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0d2de21a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f0d328fb3a0>
          └ <fastapi.routing.APIRoute object at 0x7f0d2dde20a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f0d2dde3160>
          └ <fastapi.routing.APIRoute object at 0x7f0d2dde20a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f0d2d4cb160>
                     └ <function get_request_handler.<locals>.app at 0x7f0d2dde30d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f0d328e0f70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('name',), 'msg': 'field required', 'type': 'value_error.m...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 4 validation errors for Product
response -> name
  field required (type=value_error.missing)
response -> description
  field required (type=value_error.missing)
response -> price
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
ERROR    2022-05-20 13:04:05.434 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f0d342785e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f0d343203a0>
           └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f0d343169d0>
    └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f0d341fcf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
    │    └ <function subprocess_started at 0x7f0d336f71f0>
    └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f0d341fcfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f0d336ea430>
           │       │   └ <uvicorn.server.Server object at 0x7f0d341fcfa0>
           │       └ <function run at 0x7f0d341f8c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f0d2e8a57c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f0d2e02c9d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f0d2e02ca60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0d2e8a4a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f0d2e8621f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0d2e8a4a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0d2de218b0>
          └ <fastapi.applications.FastAPI object at 0x7f0d2e8621f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f0d2dd27040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0d2de21cd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0d2de218b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0d2de21a30>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0d2de21cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f0d2de21dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0d2de21a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f0d328fb3a0>
          └ <fastapi.routing.APIRoute object at 0x7f0d2dde20a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f0d2dde3160>
          └ <fastapi.routing.APIRoute object at 0x7f0d2dde20a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f0d2d4cb160>
                     └ <function get_request_handler.<locals>.app at 0x7f0d2dde30d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f0d328e0f70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('name',), 'msg': 'field required', 'type': 'value_error.m...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 4 validation errors for Product
response -> name
  field required (type=value_error.missing)
response -> description
  field required (type=value_error.missing)
response -> price
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
ERROR    2022-05-20 13:04:05.440 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f0d342785e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f0d343203a0>
           └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f0d343169d0>
    └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f0d341fcf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
    │    └ <function subprocess_started at 0x7f0d336f71f0>
    └ <SpawnProcess name='SpawnProcess-16' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f0d341fcfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f0d336ea430>
           │       │   └ <uvicorn.server.Server object at 0x7f0d341fcfa0>
           │       └ <function run at 0x7f0d341f8c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f0d2e8a57c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f0d2e02c9d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f0d2e02ca60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0d2e8a4a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f0d2e8621f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0d2e8a4a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4cb3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0d2de218b0>
          └ <fastapi.applications.FastAPI object at 0x7f0d2e8621f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f0d2dd27040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0d2de21cd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0d2de218b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0d2de21a30>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0d2de21cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f0d2de21dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0d2de21a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f0d328fb3a0>
          └ <fastapi.routing.APIRoute object at 0x7f0d2dde20a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0d2dd27f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0d2d4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f0d2dde3160>
          └ <fastapi.routing.APIRoute object at 0x7f0d2dde20a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f0d2d4cb160>
                     └ <function get_request_handler.<locals>.app at 0x7f0d2dde30d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f0d328e0f70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('name',), 'msg': 'field required', 'type': 'value_error.m...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 4 validation errors for Product
response -> name
  field required (type=value_error.missing)
response -> description
  field required (type=value_error.missing)
response -> price
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
WARNING  2022-05-20 13:04:53.689 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:04:53.778 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:04:53.778 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:04:53.778 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:04:53.879 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:04:53.879 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:04:53.880 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:04:53.880 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:04:53.880 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:04:53.881 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:04:53.881 request id: app - uvicorn.server:serve - Finished server process [17570]
INFO     2022-05-20 13:04:53.881 request id: app - uvicorn.server:serve - Finished server process [17570]
INFO     2022-05-20 13:04:53.882 request id: app - uvicorn.server:serve - Finished server process [17570]
INFO     2022-05-20 13:04:54.523 request id: app - uvicorn.server:serve - Started server process [17668]
INFO     2022-05-20 13:04:54.524 request id: app - uvicorn.server:serve - Started server process [17668]
INFO     2022-05-20 13:04:54.524 request id: app - uvicorn.server:serve - Started server process [17668]
INFO     2022-05-20 13:04:54.524 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:04:54.525 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:04:54.525 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:04:54.526 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:04:54.527 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:04:54.527 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:04:55.693 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47148 - "GET /product/ HTTP/1.1" 200
INFO     2022-05-20 13:05:01.328 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47150 - "GET /product/1 HTTP/1.1" 500
ERROR    2022-05-20 13:05:01.328 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f026d6645e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f026d70c3a0>
           └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f026d7029d0>
    └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f026d5e8f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
    │    └ <function subprocess_started at 0x7f026cae31f0>
    └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f026d5e8fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f026cad6430>
           │       │   └ <uvicorn.server.Server object at 0x7f026d5e8fa0>
           │       └ <function run at 0x7f026d5e4c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f02684927c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f02680489d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f0268048a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f026cbc32b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f026844f220>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f026cbc32b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f026803fb20>
          └ <fastapi.applications.FastAPI object at 0x7f026844f220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f02631141f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f026803fcd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f026803fb20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f026803f9d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f026803fcd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f026803fdc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f026803f9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f026bce73a0>
          └ <fastapi.routing.APIRoute object at 0x7f02631b91f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f026319aca0>
          └ <fastapi.routing.APIRoute object at 0x7f02631b91f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f0262891f70>
                     └ <function get_request_handler.<locals>.app at 0x7f026319ac10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f026bcd8160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_product': 1}
                 │                 │         └ <function get_product at 0x7f0268e08ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f02631b9220>
                 └ <function run_in_threadpool at 0x7f026c207d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_product at 0x7f0268e08ca0>, id_product=1)
                 │     │         └ <function run_sync at 0x7f026c9fba60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f026cab8670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Product' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_product at 0x7f0268e08ca0>, id_product=1)
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f02630db2c0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 16, in get_product
    product = models.Product.query.filter_by(id=id_product).first()
              │      │                          └ 1
              │      └ <class 'core.models.product.Product'>
              └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>

AttributeError: type object 'Product' has no attribute 'query'
ERROR    2022-05-20 13:05:01.342 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f026d6645e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f026d70c3a0>
           └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f026d7029d0>
    └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f026d5e8f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
    │    └ <function subprocess_started at 0x7f026cae31f0>
    └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f026d5e8fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f026cad6430>
           │       │   └ <uvicorn.server.Server object at 0x7f026d5e8fa0>
           │       └ <function run at 0x7f026d5e4c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f02684927c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f02680489d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f0268048a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f026cbc32b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f026844f220>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f026cbc32b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f026803fb20>
          └ <fastapi.applications.FastAPI object at 0x7f026844f220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f02631141f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f026803fcd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f026803fb20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f026803f9d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f026803fcd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f026803fdc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f026803f9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f026bce73a0>
          └ <fastapi.routing.APIRoute object at 0x7f02631b91f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f026319aca0>
          └ <fastapi.routing.APIRoute object at 0x7f02631b91f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f0262891f70>
                     └ <function get_request_handler.<locals>.app at 0x7f026319ac10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f026bcd8160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_product': 1}
                 │                 │         └ <function get_product at 0x7f0268e08ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f02631b9220>
                 └ <function run_in_threadpool at 0x7f026c207d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_product at 0x7f0268e08ca0>, id_product=1)
                 │     │         └ <function run_sync at 0x7f026c9fba60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f026cab8670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Product' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_product at 0x7f0268e08ca0>, id_product=1)
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f02630db2c0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 16, in get_product
    product = models.Product.query.filter_by(id=id_product).first()
              │      │                          └ 1
              │      └ <class 'core.models.product.Product'>
              └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>

AttributeError: type object 'Product' has no attribute 'query'
ERROR    2022-05-20 13:05:01.348 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f026d6645e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f026d70c3a0>
           └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f026d7029d0>
    └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f026d5e8f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
    │    └ <function subprocess_started at 0x7f026cae31f0>
    └ <SpawnProcess name='SpawnProcess-17' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f026d5e8fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f026cad6430>
           │       │   └ <uvicorn.server.Server object at 0x7f026d5e8fa0>
           │       └ <function run at 0x7f026d5e4c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f02684927c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f02680489d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f0268048a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f026cbc32b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f026844f220>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f026cbc32b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628913...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f026803fb20>
          └ <fastapi.applications.FastAPI object at 0x7f026844f220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f02631141f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f026803fcd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f026803fb20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f026803f9d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f026803fcd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f026803fdc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f026803f9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f026bce73a0>
          └ <fastapi.routing.APIRoute object at 0x7f02631b91f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f0263114280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f02628...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f026319aca0>
          └ <fastapi.routing.APIRoute object at 0x7f02631b91f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f0262891f70>
                     └ <function get_request_handler.<locals>.app at 0x7f026319ac10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f026bcd8160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_product': 1}
                 │                 │         └ <function get_product at 0x7f0268e08ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f02631b9220>
                 └ <function run_in_threadpool at 0x7f026c207d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_product at 0x7f0268e08ca0>, id_product=1)
                 │     │         └ <function run_sync at 0x7f026c9fba60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f026cab8670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Product' has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_product at 0x7f0268e08ca0>, id_product=1)
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f02630db2c0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 16, in get_product
    product = models.Product.query.filter_by(id=id_product).first()
              │      │                          └ 1
              │      └ <class 'core.models.product.Product'>
              └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>

AttributeError: type object 'Product' has no attribute 'query'
WARNING  2022-05-20 13:05:45.566 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:05:45.576 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:05:45.577 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:05:45.577 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:05:45.678 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:05:45.679 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:05:45.680 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:05:45.681 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:05:45.682 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:05:45.682 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:05:45.684 request id: app - uvicorn.server:serve - Finished server process [17668]
INFO     2022-05-20 13:05:45.684 request id: app - uvicorn.server:serve - Finished server process [17668]
INFO     2022-05-20 13:05:45.685 request id: app - uvicorn.server:serve - Finished server process [17668]
INFO     2022-05-20 13:05:46.309 request id: app - uvicorn.server:serve - Started server process [17728]
INFO     2022-05-20 13:05:46.310 request id: app - uvicorn.server:serve - Started server process [17728]
INFO     2022-05-20 13:05:46.310 request id: app - uvicorn.server:serve - Started server process [17728]
INFO     2022-05-20 13:05:46.310 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:05:46.310 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:05:46.310 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:05:46.311 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:05:46.311 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:05:46.311 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:05:47.253 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47154 - "GET /product/1 HTTP/1.1" 404
WARNING  2022-05-20 13:06:02.357 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:06:02.453 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:06:02.453 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:06:02.453 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:06:02.554 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:06:02.555 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:06:02.557 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:06:02.558 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:06:02.559 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:06:02.561 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:06:02.562 request id: app - uvicorn.server:serve - Finished server process [17728]
INFO     2022-05-20 13:06:02.563 request id: app - uvicorn.server:serve - Finished server process [17728]
INFO     2022-05-20 13:06:02.564 request id: app - uvicorn.server:serve - Finished server process [17728]
INFO     2022-05-20 13:06:03.270 request id: app - uvicorn.server:serve - Started server process [17748]
INFO     2022-05-20 13:06:03.270 request id: app - uvicorn.server:serve - Started server process [17748]
INFO     2022-05-20 13:06:03.270 request id: app - uvicorn.server:serve - Started server process [17748]
INFO     2022-05-20 13:06:03.271 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:06:03.271 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:06:03.271 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:06:03.271 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:06:03.271 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:06:03.272 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:06:03.696 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47158 - "GET /product/1 HTTP/1.1" 200
INFO     2022-05-20 13:06:06.013 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47158 - "GET /product/2 HTTP/1.1" 200
INFO     2022-05-20 13:06:08.253 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47158 - "GET /product/3 HTTP/1.1" 404
INFO     2022-05-20 13:06:21.009 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47160 - "PUT /product/3 HTTP/1.1" 404
INFO     2022-05-20 13:06:35.607 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47162 - "PUT /product/2 HTTP/1.1" 202
INFO     2022-05-20 13:06:43.378 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47164 - "GET /product/ HTTP/1.1" 200
WARNING  2022-05-20 13:07:13.656 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:07:13.757 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:07:13.757 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:07:13.757 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:07:13.858 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:07:13.859 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:07:13.859 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:07:13.860 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:07:13.860 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:07:13.860 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:07:13.861 request id: app - uvicorn.server:serve - Finished server process [17748]
INFO     2022-05-20 13:07:13.861 request id: app - uvicorn.server:serve - Finished server process [17748]
INFO     2022-05-20 13:07:13.861 request id: app - uvicorn.server:serve - Finished server process [17748]
INFO     2022-05-20 13:07:14.555 request id: app - uvicorn.server:serve - Started server process [17839]
INFO     2022-05-20 13:07:14.556 request id: app - uvicorn.server:serve - Started server process [17839]
INFO     2022-05-20 13:07:14.556 request id: app - uvicorn.server:serve - Started server process [17839]
INFO     2022-05-20 13:07:14.556 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:07:14.556 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:07:14.557 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:07:14.557 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:07:14.557 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:07:14.557 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:07:14.559 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47166 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 13:07:14.922 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47166 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 13:07:41.174 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47168 - "POST /product/all HTTP/1.1" 500
ERROR    2022-05-20 13:07:41.174 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fadd94af0d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fadd91620d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fadd5a74a90; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7faddbf6d5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7faddc0153a0>
           └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7faddc00b9d0>
    └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7faddbef1f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
    │    └ <function subprocess_started at 0x7faddb3eb1f0>
    └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7faddbef1fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7faddb3df430>
           │       │   └ <uvicorn.server.Server object at 0x7faddbef1fa0>
           │       └ <function run at 0x7faddbeedc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fadd659b7c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fadd5d229d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fadd5d22a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7faddb4cc2b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fadd6557340>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7faddb4cc2b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fadd5b17970>
          └ <fastapi.applications.FastAPI object at 0x7fadd6557340>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fadd5a4f0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fadd5b17c10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fadd5b17970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fadd5b17a90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fadd5b17c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fadd5b17dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fadd5b17a90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fadda5f03a0>
          └ <fastapi.routing.APIRoute object at 0x7fadd5ad8a90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fadd5a5c280>
          └ <fastapi.routing.APIRoute object at 0x7fadd5ad8a90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fadd5a25df0>
                     └ <function get_request_handler.<locals>.app at 0x7fadd5a5c1f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fadda5e1160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>, 'products': [ProductCreate(name='string333', description='s...
                 │                 │         └ <function add_all_products at 0x7fadd76d7550>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fadd5ad8ac0>
                 └ <function run_in_threadpool at 0x7faddab10d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_all_products at 0x7fadd76d7550>, db=<sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>...
                 │     │         └ <function run_sync at 0x7faddb304a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7faddb3c1670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "str...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fadd5a25f10>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fadd59e0740>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 69, in add_all_products
    db_product = db.query(models.Product).filter_by(id=product.name).first()
                 │  │     │      │                     │       └ 'string333'
                 │  │     │      │                     └ ProductCreate(name='string333', description='st3ring', price=3.3)
                 │  │     │      └ <class 'core.models.product.Product'>
                 │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
                 │  └ <function Session.query at 0x7fadd9255ca0>
                 └ <sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7fadd92f83a0>
           └ <sqlalchemy.orm.query.Query object at 0x7fadd59ee220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7fadd9255670>
             │    └ <sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>
             └ <sqlalchemy.orm.query.Query object at 0x7fadd516c940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7fadd59ee850>
             │    └ <function Connection._execute_20 at 0x7fadd976e1f0>
             └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fadd59ee850>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fadd976e040>
           └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fadd976e310>
          └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fadd976e4c0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7fadd9f249d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fadd94af0d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fadd91620d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fadd5a74a90; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^

[SQL: SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.price AS products_price 
FROM products 
WHERE products.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'string333', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:07:41.192 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fadd94af0d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fadd91620d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fadd5a74a90; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7faddbf6d5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7faddc0153a0>
           └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7faddc00b9d0>
    └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7faddbef1f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
    │    └ <function subprocess_started at 0x7faddb3eb1f0>
    └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7faddbef1fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7faddb3df430>
           │       │   └ <uvicorn.server.Server object at 0x7faddbef1fa0>
           │       └ <function run at 0x7faddbeedc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fadd659b7c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fadd5d229d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fadd5d22a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7faddb4cc2b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fadd6557340>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7faddb4cc2b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fadd5b17970>
          └ <fastapi.applications.FastAPI object at 0x7fadd6557340>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fadd5a4f0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fadd5b17c10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fadd5b17970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fadd5b17a90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fadd5b17c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fadd5b17dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fadd5b17a90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fadda5f03a0>
          └ <fastapi.routing.APIRoute object at 0x7fadd5ad8a90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fadd5a5c280>
          └ <fastapi.routing.APIRoute object at 0x7fadd5ad8a90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fadd5a25df0>
                     └ <function get_request_handler.<locals>.app at 0x7fadd5a5c1f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fadda5e1160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>, 'products': [ProductCreate(name='string333', description='s...
                 │                 │         └ <function add_all_products at 0x7fadd76d7550>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fadd5ad8ac0>
                 └ <function run_in_threadpool at 0x7faddab10d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_all_products at 0x7fadd76d7550>, db=<sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>...
                 │     │         └ <function run_sync at 0x7faddb304a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7faddb3c1670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "str...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fadd5a25f10>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fadd59e0740>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 69, in add_all_products
    db_product = db.query(models.Product).filter_by(id=product.name).first()
                 │  │     │      │                     │       └ 'string333'
                 │  │     │      │                     └ ProductCreate(name='string333', description='st3ring', price=3.3)
                 │  │     │      └ <class 'core.models.product.Product'>
                 │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
                 │  └ <function Session.query at 0x7fadd9255ca0>
                 └ <sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7fadd92f83a0>
           └ <sqlalchemy.orm.query.Query object at 0x7fadd59ee220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7fadd9255670>
             │    └ <sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>
             └ <sqlalchemy.orm.query.Query object at 0x7fadd516c940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7fadd59ee850>
             │    └ <function Connection._execute_20 at 0x7fadd976e1f0>
             └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fadd59ee850>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fadd976e040>
           └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fadd976e310>
          └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fadd976e4c0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7fadd9f249d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fadd94af0d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fadd91620d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fadd5a74a90; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^

[SQL: SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.price AS products_price 
FROM products 
WHERE products.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'string333', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:07:41.201 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fadd94af0d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fadd91620d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fadd5a74a90; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7faddbf6d5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7faddc0153a0>
           └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7faddc00b9d0>
    └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7faddbef1f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
    │    └ <function subprocess_started at 0x7faddb3eb1f0>
    └ <SpawnProcess name='SpawnProcess-20' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7faddbef1fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7faddb3df430>
           │       │   └ <uvicorn.server.Server object at 0x7faddbef1fa0>
           │       └ <function run at 0x7faddbeedc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fadd659b7c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fadd5d229d0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fadd5d22a60>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7faddb4cc2b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fadd6557340>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7faddb4cc2b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a25e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fadd5b17970>
          └ <fastapi.applications.FastAPI object at 0x7fadd6557340>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fadd5a4f0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fadd5b17c10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fadd5b17970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fadd5b17a90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fadd5b17c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fadd5b17dc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fadd5b17a90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fadda5f03a0>
          └ <fastapi.routing.APIRoute object at 0x7fadd5ad8a90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fadd5a4f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fadd5a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fadd5a5c280>
          └ <fastapi.routing.APIRoute object at 0x7fadd5ad8a90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fadd5a25df0>
                     └ <function get_request_handler.<locals>.app at 0x7fadd5a5c1f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fadda5e1160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>, 'products': [ProductCreate(name='string333', description='s...
                 │                 │         └ <function add_all_products at 0x7fadd76d7550>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fadd5ad8ac0>
                 └ <function run_in_threadpool at 0x7faddab10d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_all_products at 0x7fadd76d7550>, db=<sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>...
                 │     │         └ <function run_sync at 0x7faddb304a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7faddb3c1670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "str...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fadd5a25f10>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fadd59e0740>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 69, in add_all_products
    db_product = db.query(models.Product).filter_by(id=product.name).first()
                 │  │     │      │                     │       └ 'string333'
                 │  │     │      │                     └ ProductCreate(name='string333', description='st3ring', price=3.3)
                 │  │     │      └ <class 'core.models.product.Product'>
                 │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
                 │  └ <function Session.query at 0x7fadd9255ca0>
                 └ <sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7fadd92f83a0>
           └ <sqlalchemy.orm.query.Query object at 0x7fadd59ee220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7fadd9255670>
             │    └ <sqlalchemy.orm.session.Session object at 0x7fadd5a25d60>
             └ <sqlalchemy.orm.query.Query object at 0x7fadd516c940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7fadd59ee850>
             │    └ <function Connection._execute_20 at 0x7fadd976e1f0>
             └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fadd59ee850>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fadd976e040>
           └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fadd976e310>
          └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fadd976e4c0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7fadd9f249d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fadd94af0d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fadd91620d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fadd51795b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fadd5a74a90; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^

[SQL: SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.price AS products_price 
FROM products 
WHERE products.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'string333', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
WARNING  2022-05-20 13:09:45.638 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:09:45.657 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:09:45.658 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:09:45.658 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:09:45.758 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:09:45.759 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:09:45.759 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:09:45.760 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:09:45.760 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:09:45.760 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:09:45.760 request id: app - uvicorn.server:serve - Finished server process [17839]
INFO     2022-05-20 13:09:45.761 request id: app - uvicorn.server:serve - Finished server process [17839]
INFO     2022-05-20 13:09:45.761 request id: app - uvicorn.server:serve - Finished server process [17839]
INFO     2022-05-20 13:09:46.359 request id: app - uvicorn.server:serve - Started server process [17929]
INFO     2022-05-20 13:09:46.359 request id: app - uvicorn.server:serve - Started server process [17929]
INFO     2022-05-20 13:09:46.360 request id: app - uvicorn.server:serve - Started server process [17929]
INFO     2022-05-20 13:09:46.360 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:09:46.360 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:09:46.360 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:09:46.361 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:09:46.361 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:09:46.361 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:09:51.830 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47178 - "POST /product/all HTTP/1.1" 500
ERROR    2022-05-20 13:09:51.831 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fed0fd840d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fed0fa370d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fed0c3495e0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fed128425e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fed128ea3a0>
           └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fed128e09d0>
    └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fed127c6f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
    │    └ <function subprocess_started at 0x7fed11cc01f0>
    └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fed127c6fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fed11cb4430>
           │       │   └ <uvicorn.server.Server object at 0x7fed127c6fa0>
           │       └ <function run at 0x7fed127c2c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fed0ce707c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fed0c5f7a60>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f9370>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fed0c5f7af0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f9370>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f9370>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fed11da12b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f93...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fed0ce2c310>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fed11da12b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f93...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f93...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fed0c3eca30>
          └ <fastapi.applications.FastAPI object at 0x7fed0ce2c310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fed0c2f31f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fed0c3ecc10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fed0c3eca30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fed0c3eca90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fed0c3ecc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fed0c3ecdc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fed0c3eca90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fed10ec53a0>
          └ <fastapi.routing.APIRoute object at 0x7fed0c32ea60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fed0c331310>
          └ <fastapi.routing.APIRoute object at 0x7fed0c32ea60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fed0c2f9520>
                     └ <function get_request_handler.<locals>.app at 0x7fed0c331280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fed10eb6160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>, 'products': [ProductCreate(name='string333', description='s...
                 │                 │         └ <function add_all_products at 0x7fed0dfac5e0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fed0c32ea90>
                 └ <function run_in_threadpool at 0x7fed113e5d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_all_products at 0x7fed0dfac5e0>, db=<sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>...
                 │     │         └ <function run_sync at 0x7fed11bd9a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7fed11c96670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "str...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fed0c2f9790>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fed0c2c1540>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 69, in add_all_products
    db_product = db.query(models.Product).filter_by(id=product.name).first()
                 │  │     │      │                     │       └ 'string333'
                 │  │     │      │                     └ ProductCreate(name='string333', description='st3ring', price=3.3)
                 │  │     │      └ <class 'core.models.product.Product'>
                 │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
                 │  └ <function Session.query at 0x7fed0fb28ca0>
                 └ <sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7fed0fbcd3a0>
           └ <sqlalchemy.orm.query.Query object at 0x7fed0c2deb80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7fed0fb28670>
             │    └ <sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>
             └ <sqlalchemy.orm.query.Query object at 0x7fed0c2b47c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7fed0c2deb50>
             │    └ <function Connection._execute_20 at 0x7fed100431f0>
             └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fed0c2deb50>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fed10043040>
           └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fed10043310>
          └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fed100434c0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7fed107f99d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fed0fd840d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fed0fa370d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fed0c3495e0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^

[SQL: SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.price AS products_price 
FROM products 
WHERE products.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'string333', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:09:51.845 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fed0fd840d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fed0fa370d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fed0c3495e0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fed128425e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fed128ea3a0>
           └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fed128e09d0>
    └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fed127c6f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
    │    └ <function subprocess_started at 0x7fed11cc01f0>
    └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fed127c6fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fed11cb4430>
           │       │   └ <uvicorn.server.Server object at 0x7fed127c6fa0>
           │       └ <function run at 0x7fed127c2c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fed0ce707c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fed0c5f7a60>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f9370>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fed0c5f7af0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f9370>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f9370>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fed11da12b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f93...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fed0ce2c310>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fed11da12b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f93...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f93...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fed0c3eca30>
          └ <fastapi.applications.FastAPI object at 0x7fed0ce2c310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fed0c2f31f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fed0c3ecc10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fed0c3eca30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fed0c3eca90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fed0c3ecc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fed0c3ecdc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fed0c3eca90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fed10ec53a0>
          └ <fastapi.routing.APIRoute object at 0x7fed0c32ea60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fed0c331310>
          └ <fastapi.routing.APIRoute object at 0x7fed0c32ea60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fed0c2f9520>
                     └ <function get_request_handler.<locals>.app at 0x7fed0c331280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fed10eb6160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>, 'products': [ProductCreate(name='string333', description='s...
                 │                 │         └ <function add_all_products at 0x7fed0dfac5e0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fed0c32ea90>
                 └ <function run_in_threadpool at 0x7fed113e5d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_all_products at 0x7fed0dfac5e0>, db=<sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>...
                 │     │         └ <function run_sync at 0x7fed11bd9a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7fed11c96670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "str...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fed0c2f9790>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fed0c2c1540>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 69, in add_all_products
    db_product = db.query(models.Product).filter_by(id=product.name).first()
                 │  │     │      │                     │       └ 'string333'
                 │  │     │      │                     └ ProductCreate(name='string333', description='st3ring', price=3.3)
                 │  │     │      └ <class 'core.models.product.Product'>
                 │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
                 │  └ <function Session.query at 0x7fed0fb28ca0>
                 └ <sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7fed0fbcd3a0>
           └ <sqlalchemy.orm.query.Query object at 0x7fed0c2deb80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7fed0fb28670>
             │    └ <sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>
             └ <sqlalchemy.orm.query.Query object at 0x7fed0c2b47c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7fed0c2deb50>
             │    └ <function Connection._execute_20 at 0x7fed100431f0>
             └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fed0c2deb50>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fed10043040>
           └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fed10043310>
          └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fed100434c0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7fed107f99d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fed0fd840d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fed0fa370d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fed0c3495e0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^

[SQL: SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.price AS products_price 
FROM products 
WHERE products.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'string333', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:09:51.855 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fed0fd840d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fed0fa370d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fed0c3495e0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fed128425e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fed128ea3a0>
           └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fed128e09d0>
    └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fed127c6f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
    │    └ <function subprocess_started at 0x7fed11cc01f0>
    └ <SpawnProcess name='SpawnProcess-21' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fed127c6fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fed11cb4430>
           │       │   └ <uvicorn.server.Server object at 0x7fed127c6fa0>
           │       └ <function run at 0x7fed127c2c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fed0ce707c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fed0c5f7a60>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f9370>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fed0c5f7af0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f9370>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f9370>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fed11da12b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f93...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fed0ce2c310>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fed11da12b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f93...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2f93...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fed0c3eca30>
          └ <fastapi.applications.FastAPI object at 0x7fed0ce2c310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fed0c2f31f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fed0c3ecc10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fed0c3eca30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fed0c3eca90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fed0c3ecc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fed0c3ecdc0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fed0c3eca90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fed10ec53a0>
          └ <fastapi.routing.APIRoute object at 0x7fed0c32ea60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fed0c2f3280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fed0c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fed0c331310>
          └ <fastapi.routing.APIRoute object at 0x7fed0c32ea60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fed0c2f9520>
                     └ <function get_request_handler.<locals>.app at 0x7fed0c331280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fed10eb6160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>, 'products': [ProductCreate(name='string333', description='s...
                 │                 │         └ <function add_all_products at 0x7fed0dfac5e0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fed0c32ea90>
                 └ <function run_in_threadpool at 0x7fed113e5d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function add_all_products at 0x7fed0dfac5e0>, db=<sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>...
                 │     │         └ <function run_sync at 0x7fed11bd9a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7fed11c96670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "str...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fed0c2f9790>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fed0c2c1540>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 69, in add_all_products
    db_product = db.query(models.Product).filter_by(id=product.name).first()
                 │  │     │      │                     │       └ 'string333'
                 │  │     │      │                     └ ProductCreate(name='string333', description='st3ring', price=3.3)
                 │  │     │      └ <class 'core.models.product.Product'>
                 │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
                 │  └ <function Session.query at 0x7fed0fb28ca0>
                 └ <sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7fed0fbcd3a0>
           └ <sqlalchemy.orm.query.Query object at 0x7fed0c2deb80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7fed0fb28670>
             │    └ <sqlalchemy.orm.session.Session object at 0x7fed0c2f9880>
             └ <sqlalchemy.orm.query.Query object at 0x7fed0c2b47c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7fed0c2deb50>
             │    └ <function Connection._execute_20 at 0x7fed100431f0>
             └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fed0c2deb50>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fed10043040>
           └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fed10043310>
          └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fed100434c0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7fed107f99d0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fed0fd840d0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fed0fa370d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fed0c2910d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'string333', 'param_1': 1}
    │      │       └ 'SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.pr...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fed0c3495e0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "string333"
LINE 3: WHERE products.id = 'string333' 
                            ^

[SQL: SELECT products.id AS products_id, products.name AS products_name, products.description AS products_description, products.price AS products_price 
FROM products 
WHERE products.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'string333', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
WARNING  2022-05-20 13:10:47.997 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:10:48.025 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:10:48.025 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:10:48.026 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:10:48.126 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:10:48.128 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:10:48.128 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:10:48.130 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:10:48.130 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:10:48.133 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:10:48.134 request id: app - uvicorn.server:serve - Finished server process [17929]
INFO     2022-05-20 13:10:48.135 request id: app - uvicorn.server:serve - Finished server process [17929]
INFO     2022-05-20 13:10:48.136 request id: app - uvicorn.server:serve - Finished server process [17929]
INFO     2022-05-20 13:10:48.789 request id: app - uvicorn.server:serve - Started server process [17992]
INFO     2022-05-20 13:10:48.790 request id: app - uvicorn.server:serve - Started server process [17992]
INFO     2022-05-20 13:10:48.790 request id: app - uvicorn.server:serve - Started server process [17992]
INFO     2022-05-20 13:10:48.790 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:10:48.790 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:10:48.790 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:10:48.791 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:10:48.791 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:10:48.791 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 13:10:56.469 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/__init__.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/types.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/errors.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/fields.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/config.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/tools.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/class_validators.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/main.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/schema.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/dataclasses.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/validators.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/networks.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/datetime_parse.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/env_settings.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/mypy.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/utils.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/parse.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/decorator.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/annotated_types.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/color.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/version.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/error_wrappers.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/typing.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/_hypothesis_plugin.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/json.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/generics.py']'. Reloading...
INFO     2022-05-20 13:10:56.512 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:10:56.512 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:10:56.512 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:10:56.612 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:10:56.613 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:10:56.613 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:10:56.614 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:10:56.614 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:10:56.614 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:10:56.614 request id: app - uvicorn.server:serve - Finished server process [17992]
INFO     2022-05-20 13:10:56.614 request id: app - uvicorn.server:serve - Finished server process [17992]
INFO     2022-05-20 13:10:56.615 request id: app - uvicorn.server:serve - Finished server process [17992]
WARNING  2022-05-20 13:10:56.980 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/mypy.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/_hypothesis_plugin.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/tools.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/datetime_parse.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/generics.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/__init__.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/utils.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/env_settings.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/decorator.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/config.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/schema.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/color.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/main.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/version.py', '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/pydantic/validators.py']'. Reloading...
INFO     2022-05-20 13:10:57.606 request id: app - uvicorn.server:serve - Started server process [18016]
INFO     2022-05-20 13:10:57.607 request id: app - uvicorn.server:serve - Started server process [18016]
INFO     2022-05-20 13:10:57.607 request id: app - uvicorn.server:serve - Started server process [18016]
INFO     2022-05-20 13:10:57.607 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:10:57.608 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:10:57.608 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:10:57.609 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:10:57.609 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:10:57.609 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:11:06.241 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47188 - "POST /product/all HTTP/1.1" 500
ERROR    2022-05-20 13:11:06.242 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f6236ed75e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f6236f7f3a0>
           └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f6236f759d0>
    └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f6236e5bf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
    │    └ <function subprocess_started at 0x7f62363561f0>
    └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f6236e5bfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f6236349430>
           │       │   └ <uvicorn.server.Server object at 0x7f6236e5bfa0>
           │       └ <function run at 0x7f6236e57c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f62314ef840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f6230c76b80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6230970760>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f6230c76c10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6230970760>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6230970760>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62314989d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309707...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6230a6ae50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62314989d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309707...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309707...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62309f94c0>
          └ <fastapi.applications.FastAPI object at 0x7f6230a6ae50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f62309ea310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62309f90d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62309f94c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62309f92e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62309f90d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f6230a6ac40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62309f92e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f62355494c0>
          └ <fastapi.routing.APIRoute object at 0x7f6230a29d90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f6230a24430>
          └ <fastapi.routing.APIRoute object at 0x7f6230a29d90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f6230970910>
                     └ <function get_request_handler.<locals>.app at 0x7f6230a243a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f62355360d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_add_all_products_product_all_post', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('id',), 'msg': 'field required', 'type': 'value_error.mi...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> id
  field required (type=value_error.missing)
response -> 1 -> id
  field required (type=value_error.missing)
ERROR    2022-05-20 13:11:06.250 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f6236ed75e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f6236f7f3a0>
           └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f6236f759d0>
    └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f6236e5bf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
    │    └ <function subprocess_started at 0x7f62363561f0>
    └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f6236e5bfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f6236349430>
           │       │   └ <uvicorn.server.Server object at 0x7f6236e5bfa0>
           │       └ <function run at 0x7f6236e57c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f62314ef840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f6230c76b80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6230970760>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f6230c76c10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6230970760>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6230970760>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62314989d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309707...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6230a6ae50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62314989d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309707...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309707...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62309f94c0>
          └ <fastapi.applications.FastAPI object at 0x7f6230a6ae50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f62309ea310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62309f90d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62309f94c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62309f92e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62309f90d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f6230a6ac40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62309f92e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f62355494c0>
          └ <fastapi.routing.APIRoute object at 0x7f6230a29d90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f6230a24430>
          └ <fastapi.routing.APIRoute object at 0x7f6230a29d90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f6230970910>
                     └ <function get_request_handler.<locals>.app at 0x7f6230a243a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f62355360d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_add_all_products_product_all_post', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('id',), 'msg': 'field required', 'type': 'value_error.mi...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> id
  field required (type=value_error.missing)
response -> 1 -> id
  field required (type=value_error.missing)
ERROR    2022-05-20 13:11:06.256 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f6236ed75e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f6236f7f3a0>
           └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f6236f759d0>
    └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f6236e5bf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
    │    └ <function subprocess_started at 0x7f62363561f0>
    └ <SpawnProcess name='SpawnProcess-24' parent=15668 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f6236e5bfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f6236349430>
           │       │   └ <uvicorn.server.Server object at 0x7f6236e5bfa0>
           │       └ <function run at 0x7f6236e57c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f62314ef840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f6230c76b80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6230970760>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f6230c76c10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6230970760>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6230970760>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62314989d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309707...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6230a6ae50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62314989d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309707...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309707...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62309f94c0>
          └ <fastapi.applications.FastAPI object at 0x7f6230a6ae50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f62309ea310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62309f90d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62309f94c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62309f92e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62309f90d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f6230a6ac40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62309f92e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f62355494c0>
          └ <fastapi.routing.APIRoute object at 0x7f6230a29d90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f62309ea3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f62309...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f6230a24430>
          └ <fastapi.routing.APIRoute object at 0x7f6230a29d90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f6230970910>
                     └ <function get_request_handler.<locals>.app at 0x7f6230a243a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f62355360d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_add_all_products_product_all_post', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('id',), 'msg': 'field required', 'type': 'value_error.mi...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> id
  field required (type=value_error.missing)
response -> 1 -> id
  field required (type=value_error.missing)
WARNING  2022-05-20 13:12:40.486 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:12:40.584 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:12:40.584 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:12:40.585 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:12:40.685 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:12:40.685 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:12:40.686 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:12:40.686 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:12:40.687 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:12:40.687 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:12:40.687 request id: app - uvicorn.server:serve - Finished server process [18016]
INFO     2022-05-20 13:12:40.688 request id: app - uvicorn.server:serve - Finished server process [18016]
INFO     2022-05-20 13:12:40.688 request id: app - uvicorn.server:serve - Finished server process [18016]
INFO     2022-05-20 13:12:41.380 request id: app - uvicorn.server:serve - Started server process [18165]
INFO     2022-05-20 13:12:41.381 request id: app - uvicorn.server:serve - Started server process [18165]
INFO     2022-05-20 13:12:41.381 request id: app - uvicorn.server:serve - Started server process [18165]
INFO     2022-05-20 13:12:41.381 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:12:41.381 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:12:41.381 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:12:41.382 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:12:41.382 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:12:41.382 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:12:42.786 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47192 - "POST /product/all HTTP/1.1" 409
INFO     2022-05-20 13:12:53.471 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47194 - "GET /product/ HTTP/1.1" 200
INFO     2022-05-20 13:13:37.827 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:13:37.828 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:13:37.828 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:13:37.928 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:13:37.930 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:13:37.931 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:13:37.932 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:13:37.932 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:13:37.933 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:13:37.934 request id: app - uvicorn.server:serve - Finished server process [18165]
INFO     2022-05-20 13:13:37.934 request id: app - uvicorn.server:serve - Finished server process [18165]
INFO     2022-05-20 13:13:37.934 request id: app - uvicorn.server:serve - Finished server process [18165]
INFO     2022-05-20 13:13:37.999 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [15668]
INFO     2022-05-20 13:13:38.715 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 13:13:38.716 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 13:13:38.844 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [18203] using watchgod
INFO     2022-05-20 13:13:39.362 request id: app - uvicorn.server:serve - Started server process [18209]
INFO     2022-05-20 13:13:39.363 request id: app - uvicorn.server:serve - Started server process [18209]
INFO     2022-05-20 13:13:39.363 request id: app - uvicorn.server:serve - Started server process [18209]
INFO     2022-05-20 13:13:39.363 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:13:39.363 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:13:39.363 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:13:39.364 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:13:39.364 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:13:39.364 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:13:41.423 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47200 - "POST /product/all HTTP/1.1" 409
WARNING  2022-05-20 13:13:52.142 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:13:52.198 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:13:52.198 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:13:52.198 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:13:52.298 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:13:52.298 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:13:52.298 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:13:52.299 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:13:52.299 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:13:52.300 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:13:52.300 request id: app - uvicorn.server:serve - Finished server process [18209]
INFO     2022-05-20 13:13:52.300 request id: app - uvicorn.server:serve - Finished server process [18209]
INFO     2022-05-20 13:13:52.300 request id: app - uvicorn.server:serve - Finished server process [18209]
INFO     2022-05-20 13:13:53.019 request id: app - uvicorn.server:serve - Started server process [18244]
INFO     2022-05-20 13:13:53.019 request id: app - uvicorn.server:serve - Started server process [18244]
INFO     2022-05-20 13:13:53.019 request id: app - uvicorn.server:serve - Started server process [18244]
INFO     2022-05-20 13:13:53.020 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:13:53.020 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:13:53.020 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:13:53.021 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:13:53.021 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:13:53.021 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:13:53.554 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47204 - "POST /product/all HTTP/1.1" 500
ERROR    2022-05-20 13:13:53.555 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f2c862605e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f2c863083a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f2c862fe9d0>
    └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f2c861e4f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
    │    └ <function subprocess_started at 0x7f2c856df1f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f2c861e4fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f2c856d2430>
           │       │   └ <uvicorn.server.Server object at 0x7f2c861e4fa0>
           │       └ <function run at 0x7f2c861e0c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2c80878840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f2c7bfc3b80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd790>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f2c7bfc3c10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd790>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd790>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2c808219d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2c7bdb7df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2c808219d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2c7bd464f0>
          └ <fastapi.applications.FastAPI object at 0x7f2c7bdb7df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2c7bd36310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2c7bd46100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2c7bd464f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2c7bd46310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2c7bd46100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f2c7bdb7c10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2c7bd46310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f2c848d24c0>
          └ <fastapi.routing.APIRoute object at 0x7f2c7bd76dc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f2c7bd75430>
          └ <fastapi.routing.APIRoute object at 0x7f2c7bd76dc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f2c7bcbd940>
                     └ <function get_request_handler.<locals>.app at 0x7f2c7bd753a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f2c848bf0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_add_all_products_product_all_post', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('name',), 'msg': 'field required', 'type': 'value_error....
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 8 validation errors for Product
response -> 0 -> name
  field required (type=value_error.missing)
response -> 0 -> description
  field required (type=value_error.missing)
response -> 0 -> price
  field required (type=value_error.missing)
response -> 0 -> id
  field required (type=value_error.missing)
response -> 2 -> name
  field required (type=value_error.missing)
response -> 2 -> description
  field required (type=value_error.missing)
response -> 2 -> price
  field required (type=value_error.missing)
response -> 2 -> id
  field required (type=value_error.missing)
ERROR    2022-05-20 13:13:53.563 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f2c862605e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f2c863083a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f2c862fe9d0>
    └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f2c861e4f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
    │    └ <function subprocess_started at 0x7f2c856df1f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f2c861e4fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f2c856d2430>
           │       │   └ <uvicorn.server.Server object at 0x7f2c861e4fa0>
           │       └ <function run at 0x7f2c861e0c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2c80878840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f2c7bfc3b80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd790>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f2c7bfc3c10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd790>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd790>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2c808219d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2c7bdb7df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2c808219d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2c7bd464f0>
          └ <fastapi.applications.FastAPI object at 0x7f2c7bdb7df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2c7bd36310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2c7bd46100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2c7bd464f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2c7bd46310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2c7bd46100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f2c7bdb7c10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2c7bd46310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f2c848d24c0>
          └ <fastapi.routing.APIRoute object at 0x7f2c7bd76dc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f2c7bd75430>
          └ <fastapi.routing.APIRoute object at 0x7f2c7bd76dc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f2c7bcbd940>
                     └ <function get_request_handler.<locals>.app at 0x7f2c7bd753a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f2c848bf0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_add_all_products_product_all_post', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('name',), 'msg': 'field required', 'type': 'value_error....
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 8 validation errors for Product
response -> 0 -> name
  field required (type=value_error.missing)
response -> 0 -> description
  field required (type=value_error.missing)
response -> 0 -> price
  field required (type=value_error.missing)
response -> 0 -> id
  field required (type=value_error.missing)
response -> 2 -> name
  field required (type=value_error.missing)
response -> 2 -> description
  field required (type=value_error.missing)
response -> 2 -> price
  field required (type=value_error.missing)
response -> 2 -> id
  field required (type=value_error.missing)
ERROR    2022-05-20 13:13:53.569 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f2c862605e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f2c863083a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f2c862fe9d0>
    └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f2c861e4f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
    │    └ <function subprocess_started at 0x7f2c856df1f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f2c861e4fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f2c856d2430>
           │       │   └ <uvicorn.server.Server object at 0x7f2c861e4fa0>
           │       └ <function run at 0x7f2c861e0c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2c80878840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f2c7bfc3b80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd790>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f2c7bfc3c10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd790>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd790>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2c808219d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2c7bdb7df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2c808219d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bcbd7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2c7bd464f0>
          └ <fastapi.applications.FastAPI object at 0x7f2c7bdb7df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2c7bd36310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2c7bd46100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2c7bd464f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2c7bd46310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2c7bd46100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f2c7bdb7c10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2c7bd46310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f2c848d24c0>
          └ <fastapi.routing.APIRoute object at 0x7f2c7bd76dc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2c7bd363a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2c7bc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f2c7bd75430>
          └ <fastapi.routing.APIRoute object at 0x7f2c7bd76dc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f2c7bcbd940>
                     └ <function get_request_handler.<locals>.app at 0x7f2c7bd753a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f2c848bf0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_add_all_products_product_all_post', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('name',), 'msg': 'field required', 'type': 'value_error....
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 8 validation errors for Product
response -> 0 -> name
  field required (type=value_error.missing)
response -> 0 -> description
  field required (type=value_error.missing)
response -> 0 -> price
  field required (type=value_error.missing)
response -> 0 -> id
  field required (type=value_error.missing)
response -> 2 -> name
  field required (type=value_error.missing)
response -> 2 -> description
  field required (type=value_error.missing)
response -> 2 -> price
  field required (type=value_error.missing)
response -> 2 -> id
  field required (type=value_error.missing)
WARNING  2022-05-20 13:14:10.435 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:14:10.472 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:14:10.473 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:14:10.474 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:14:10.575 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:14:10.577 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:14:10.577 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:14:10.578 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:14:10.579 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:14:10.580 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:14:10.581 request id: app - uvicorn.server:serve - Finished server process [18244]
INFO     2022-05-20 13:14:10.582 request id: app - uvicorn.server:serve - Finished server process [18244]
INFO     2022-05-20 13:14:10.583 request id: app - uvicorn.server:serve - Finished server process [18244]
INFO     2022-05-20 13:14:11.247 request id: app - uvicorn.server:serve - Started server process [18275]
INFO     2022-05-20 13:14:11.247 request id: app - uvicorn.server:serve - Started server process [18275]
INFO     2022-05-20 13:14:11.247 request id: app - uvicorn.server:serve - Started server process [18275]
INFO     2022-05-20 13:14:11.247 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:14:11.248 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:14:11.248 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:14:11.248 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:14:11.248 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:14:11.249 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:14:13.380 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47210 - "POST /product/all HTTP/1.1" 200
INFO     2022-05-20 13:14:20.572 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47212 - "POST /product/all HTTP/1.1" 200
INFO     2022-05-20 13:14:30.123 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47214 - "GET /product/ HTTP/1.1" 200
INFO     2022-05-20 13:14:43.566 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47218 - "DELETE /product/6 HTTP/1.1" 204
ERROR    2022-05-20 13:14:43.569 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fab104955e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fab1053d3a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fab105339d0>
    └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fab10419f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
    │    └ <function subprocess_started at 0x7fab0f9141f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fab10419fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fab0f907430>
           │       │   └ <uvicorn.server.Server object at 0x7fab10419fa0>
           │       └ <function run at 0x7fab10415c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fab0aaad840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fab0a234b80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced90>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fab0a234c10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced90>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced90>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fab0aa569d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fab0a028df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fab0aa569d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fab09fb74f0>
          └ <fastapi.applications.FastAPI object at 0x7fab0a028df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fab096b8af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fab09fb7100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fab09fb74f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fab09fb7310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fab09fb7100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fab0a028c10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fab09fb7310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fab0eb064c0>
          └ <fastapi.routing.APIRoute object at 0x7fab09fe79a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fab09fe3310>
          └ <fastapi.routing.APIRoute object at 0x7fab09fe79a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 63, in app
    await response(scope, receive, send)
          │        │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          └ <starlette.responses.JSONResponse object at 0x7fab096cef70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/responses.py", line 167, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'null'
          │                                           └ <starlette.responses.JSONResponse object at 0x7fab096cef70>
          └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 79, in sender
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fab096b8af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 501, in send
    raise RuntimeError("Response content longer than Content-Length")

RuntimeError: Response content longer than Content-Length
ERROR    2022-05-20 13:14:43.600 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fab104955e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fab1053d3a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fab105339d0>
    └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fab10419f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
    │    └ <function subprocess_started at 0x7fab0f9141f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fab10419fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fab0f907430>
           │       │   └ <uvicorn.server.Server object at 0x7fab10419fa0>
           │       └ <function run at 0x7fab10415c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fab0aaad840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fab0a234b80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced90>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fab0a234c10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced90>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced90>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fab0aa569d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fab0a028df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fab0aa569d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fab09fb74f0>
          └ <fastapi.applications.FastAPI object at 0x7fab0a028df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fab096b8af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fab09fb7100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fab09fb74f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fab09fb7310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fab09fb7100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fab0a028c10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fab09fb7310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fab0eb064c0>
          └ <fastapi.routing.APIRoute object at 0x7fab09fe79a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fab09fe3310>
          └ <fastapi.routing.APIRoute object at 0x7fab09fe79a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 63, in app
    await response(scope, receive, send)
          │        │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          └ <starlette.responses.JSONResponse object at 0x7fab096cef70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/responses.py", line 167, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'null'
          │                                           └ <starlette.responses.JSONResponse object at 0x7fab096cef70>
          └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 79, in sender
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fab096b8af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 501, in send
    raise RuntimeError("Response content longer than Content-Length")

RuntimeError: Response content longer than Content-Length
ERROR    2022-05-20 13:14:43.608 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fab104955e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fab1053d3a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fab105339d0>
    └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fab10419f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
    │    └ <function subprocess_started at 0x7fab0f9141f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fab10419fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fab0f907430>
           │       │   └ <uvicorn.server.Server object at 0x7fab10419fa0>
           │       └ <function run at 0x7fab10415c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fab0aaad840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fab0a234b80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced90>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fab0a234c10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced90>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced90>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fab0aa569d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fab0a028df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fab0aa569d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fab09fb74f0>
          └ <fastapi.applications.FastAPI object at 0x7fab0a028df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fab096b8af0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fab09fb7100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fab09fb74f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fab09fb7310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fab09fb7100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fab0a028c10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fab09fb7310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fab0eb064c0>
          └ <fastapi.routing.APIRoute object at 0x7fab09fe79a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fab09fe3310>
          └ <fastapi.routing.APIRoute object at 0x7fab09fe79a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 63, in app
    await response(scope, receive, send)
          │        │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096...
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          └ <starlette.responses.JSONResponse object at 0x7fab096cef70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/responses.py", line 167, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'null'
          │                                           └ <starlette.responses.JSONResponse object at 0x7fab096cef70>
          └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fab09fa73a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 79, in sender
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fab096b8af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fab096ced...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 501, in send
    raise RuntimeError("Response content longer than Content-Length")

RuntimeError: Response content longer than Content-Length
WARNING  2022-05-20 13:15:05.157 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 13:15:05.192 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:15:05.193 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:15:05.193 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:15:05.293 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:15:05.294 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:15:05.294 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:15:05.294 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:15:05.295 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:15:05.295 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:15:05.296 request id: app - uvicorn.server:serve - Finished server process [18275]
INFO     2022-05-20 13:15:05.296 request id: app - uvicorn.server:serve - Finished server process [18275]
INFO     2022-05-20 13:15:05.296 request id: app - uvicorn.server:serve - Finished server process [18275]
INFO     2022-05-20 13:15:05.994 request id: app - uvicorn.server:serve - Started server process [18323]
INFO     2022-05-20 13:15:05.994 request id: app - uvicorn.server:serve - Started server process [18323]
INFO     2022-05-20 13:15:05.994 request id: app - uvicorn.server:serve - Started server process [18323]
INFO     2022-05-20 13:15:05.994 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:15:05.994 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:15:05.995 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:15:05.995 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:15:05.995 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:15:05.995 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:15:07.241 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47222 - "DELETE /product/6 HTTP/1.1" 404
INFO     2022-05-20 13:15:11.378 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47222 - "DELETE /product/7 HTTP/1.1" 200
INFO     2022-05-20 13:15:20.266 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47224 - "GET /product/ HTTP/1.1" 200
INFO     2022-05-20 13:16:33.089 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47226 - "POST /user/ HTTP/1.1" 500
ERROR    2022-05-20 13:16:33.090 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fedcb1331f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fedcb130a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fedc80b67c0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fedcdc075e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fedcdcaf3a0>
           └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fedcdca59d0>
    └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fedcdb8bf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
    │    └ <function subprocess_started at 0x7fedcd0861f0>
    └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fedcdb8bfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fedcd079430>
           │       │   └ <uvicorn.server.Server object at 0x7fedcdb8bfa0>
           │       └ <function run at 0x7fedcdb87c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fedc821e840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fedc816cb80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154c0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fedc816cc10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154c0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154c0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fedc81c89d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fedc8163df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fedc81c89d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fedc80f24f0>
          └ <fastapi.applications.FastAPI object at 0x7fedc8163df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fedc2dffb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fedc80f2100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fedc80f24f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fedc80f2310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fedc80f2100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fedc8163c10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fedc80f2310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fedcc2784c0>
          └ <fastapi.routing.APIRoute object at 0x7fedc80cf130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fedc8121d30>
          └ <fastapi.routing.APIRoute object at 0x7fedc80cf130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fedc2de2b50>
                     └ <function get_request_handler.<locals>.app at 0x7fedc8121ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fedcc266280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7fedc93a5c10>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fedc80cf160>
                 └ <function run_in_threadpool at 0x7fedcc792e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7fedc93a5c10>, db=<sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>, use...
                 │     │         └ <function run_sync at 0x7fedccf9ea60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7fedcd05b670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "use...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fedc2de2d30>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fedc8032d80>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 26, in create_user
    db_user = db.query(models.User).filter_by(id=user.email).first()
              │  │     │      │                  │    └ 'user@example.com'
              │  │     │      │                  └ UserCreate(fullname='string', username='string', email='user@example.com', password='string')
              │  │     │      └ <class 'core.models.user.User'>
              │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
              │  └ <function Session.query at 0x7fedcaedcdc0>
              └ <sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7fedcaf7d4c0>
           └ <sqlalchemy.orm.query.Query object at 0x7fedc2de25e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7fedcaedc790>
             │    └ <sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>
             └ <sqlalchemy.orm.query.Query object at 0x7fedc2de2070>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7fedc2ce34c0>
             │    └ <function Connection._execute_20 at 0x7fedcb3ef310>
             └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fedc2ce34c0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fedcb3ef160>
           └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fedcb3ef430>
          └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fedcb3ef5e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7fedcbba9af0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fedcb1331f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fedcb130a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fedc80b67c0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^

[SQL: SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_password, users.email AS users_email 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'user@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:16:33.105 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fedcb1331f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fedcb130a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fedc80b67c0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fedcdc075e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fedcdcaf3a0>
           └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fedcdca59d0>
    └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fedcdb8bf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
    │    └ <function subprocess_started at 0x7fedcd0861f0>
    └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fedcdb8bfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fedcd079430>
           │       │   └ <uvicorn.server.Server object at 0x7fedcdb8bfa0>
           │       └ <function run at 0x7fedcdb87c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fedc821e840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fedc816cb80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154c0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fedc816cc10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154c0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154c0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fedc81c89d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fedc8163df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fedc81c89d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fedc80f24f0>
          └ <fastapi.applications.FastAPI object at 0x7fedc8163df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fedc2dffb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fedc80f2100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fedc80f24f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fedc80f2310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fedc80f2100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fedc8163c10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fedc80f2310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fedcc2784c0>
          └ <fastapi.routing.APIRoute object at 0x7fedc80cf130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fedc8121d30>
          └ <fastapi.routing.APIRoute object at 0x7fedc80cf130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fedc2de2b50>
                     └ <function get_request_handler.<locals>.app at 0x7fedc8121ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fedcc266280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7fedc93a5c10>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fedc80cf160>
                 └ <function run_in_threadpool at 0x7fedcc792e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7fedc93a5c10>, db=<sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>, use...
                 │     │         └ <function run_sync at 0x7fedccf9ea60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7fedcd05b670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "use...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fedc2de2d30>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fedc8032d80>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 26, in create_user
    db_user = db.query(models.User).filter_by(id=user.email).first()
              │  │     │      │                  │    └ 'user@example.com'
              │  │     │      │                  └ UserCreate(fullname='string', username='string', email='user@example.com', password='string')
              │  │     │      └ <class 'core.models.user.User'>
              │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
              │  └ <function Session.query at 0x7fedcaedcdc0>
              └ <sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7fedcaf7d4c0>
           └ <sqlalchemy.orm.query.Query object at 0x7fedc2de25e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7fedcaedc790>
             │    └ <sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>
             └ <sqlalchemy.orm.query.Query object at 0x7fedc2de2070>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7fedc2ce34c0>
             │    └ <function Connection._execute_20 at 0x7fedcb3ef310>
             └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fedc2ce34c0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fedcb3ef160>
           └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fedcb3ef430>
          └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fedcb3ef5e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7fedcbba9af0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fedcb1331f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fedcb130a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fedc80b67c0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^

[SQL: SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_password, users.email AS users_email 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'user@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:16:33.114 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fedcb1331f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fedcb130a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fedc80b67c0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fedcdc075e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fedcdcaf3a0>
           └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fedcdca59d0>
    └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fedcdb8bf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
    │    └ <function subprocess_started at 0x7fedcd0861f0>
    └ <SpawnProcess name='SpawnProcess-4' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fedcdb8bfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fedcd079430>
           │       │   └ <uvicorn.server.Server object at 0x7fedcdb8bfa0>
           │       └ <function run at 0x7fedcdb87c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fedc821e840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fedc816cb80>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154c0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fedc816cc10>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154c0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154c0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fedc81c89d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fedc8163df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fedc81c89d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e154...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fedc80f24f0>
          └ <fastapi.applications.FastAPI object at 0x7fedc8163df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fedc2dffb80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fedc80f2100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fedc80f24f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fedc80f2310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fedc80f2100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fedc8163c10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fedc80f2310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fedcc2784c0>
          └ <fastapi.routing.APIRoute object at 0x7fedc80cf130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fedc2dffaf0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fedc2e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fedc8121d30>
          └ <fastapi.routing.APIRoute object at 0x7fedc80cf130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fedc2de2b50>
                     └ <function get_request_handler.<locals>.app at 0x7fedc8121ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fedcc266280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7fedc93a5c10>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7fedc80cf160>
                 └ <function run_in_threadpool at 0x7fedcc792e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7fedc93a5c10>, db=<sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>, use...
                 │     │         └ <function run_sync at 0x7fedccf9ea60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7fedcd05b670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "use...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fedc2de2d30>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7fedc8032d80>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 26, in create_user
    db_user = db.query(models.User).filter_by(id=user.email).first()
              │  │     │      │                  │    └ 'user@example.com'
              │  │     │      │                  └ UserCreate(fullname='string', username='string', email='user@example.com', password='string')
              │  │     │      └ <class 'core.models.user.User'>
              │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
              │  └ <function Session.query at 0x7fedcaedcdc0>
              └ <sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7fedcaf7d4c0>
           └ <sqlalchemy.orm.query.Query object at 0x7fedc2de25e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7fedcaedc790>
             │    └ <sqlalchemy.orm.session.Session object at 0x7fedc2dc7e50>
             └ <sqlalchemy.orm.query.Query object at 0x7fedc2de2070>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7fedc2ce34c0>
             │    └ <function Connection._execute_20 at 0x7fedcb3ef310>
             └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fedc2ce34c0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fedcb3ef160>
           └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fedcb3ef430>
          └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fedcb3ef5e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7fedcbba9af0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fedcb1331f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fedcb130a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7fedc2ce3400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fedc80b67c0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^

[SQL: SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_password, users.email AS users_email 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'user@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
WARNING  2022-05-20 13:17:57.026 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:17:57.057 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:17:57.058 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:17:57.058 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:17:57.159 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:17:57.160 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:17:57.160 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:17:57.161 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:17:57.162 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:17:57.162 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:17:57.163 request id: app - uvicorn.server:serve - Finished server process [18323]
INFO     2022-05-20 13:17:57.164 request id: app - uvicorn.server:serve - Finished server process [18323]
INFO     2022-05-20 13:17:57.164 request id: app - uvicorn.server:serve - Finished server process [18323]
INFO     2022-05-20 13:17:57.832 request id: app - uvicorn.server:serve - Started server process [18498]
INFO     2022-05-20 13:17:57.832 request id: app - uvicorn.server:serve - Started server process [18498]
INFO     2022-05-20 13:17:57.832 request id: app - uvicorn.server:serve - Started server process [18498]
INFO     2022-05-20 13:17:57.832 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:17:57.832 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:17:57.833 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:17:57.833 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:17:57.833 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:17:57.834 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:17:58.594 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47230 - "POST /user/ HTTP/1.1" 500
ERROR    2022-05-20 13:17:58.594 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796a4c07c0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f79709da5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7970a823a0>
           └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7970a789d0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f797095ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    └ <function subprocess_started at 0x7f796fe591f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f797095ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f796fe4c430>
           │       │   └ <uvicorn.server.Server object at 0x7f797095ffa0>
           │       └ <function run at 0x7f797095ac10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f796aff18c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f796a779c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f2790>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f796a779ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f2790>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f2790>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f27...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f27...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f27...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
          └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f796a4ec430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f796a56dc10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f796f04b4c0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f796a527dc0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f796a4f2940>
                     └ <function get_request_handler.<locals>.app at 0x7f796a527d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f796f039280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7f796c130ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f796a4da160>
                 └ <function run_in_threadpool at 0x7f796f565e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7f796c130ca0>, db=<sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>, use...
                 │     │         └ <function run_sync at 0x7f796fd71a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f796fe2e670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "use...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f796a4f2bb0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f796a442500>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 26, in create_user
    db_user = db.query(models.User).filter_by(id=user.email).first()
              │  │     │      │                  │    └ 'user@example.com'
              │  │     │      │                  └ UserCreate(fullname='string', username='string', email='user@example.com', password='string')
              │  │     │      └ <class 'core.models.user.User'>
              │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
              │  └ <function Session.query at 0x7f796dcafdc0>
              └ <sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7f796dd504c0>
           └ <sqlalchemy.orm.query.Query object at 0x7f7969af8460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f796dcaf790>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>
             └ <sqlalchemy.orm.query.Query object at 0x7f796a4f2c40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7f7969b16610>
             │    └ <function Connection._execute_20 at 0x7f796e1c5310>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f7969b16610>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f796e1c5160>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f796e1c5430>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f796e1c55e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f796e97caf0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796a4c07c0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^

[SQL: SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_password, users.email AS users_email 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'user@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:17:58.608 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796a4c07c0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f79709da5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7970a823a0>
           └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7970a789d0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f797095ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    └ <function subprocess_started at 0x7f796fe591f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f797095ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f796fe4c430>
           │       │   └ <uvicorn.server.Server object at 0x7f797095ffa0>
           │       └ <function run at 0x7f797095ac10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f796aff18c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f796a779c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f2790>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f796a779ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f2790>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f2790>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f27...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f27...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f27...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
          └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f796a4ec430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f796a56dc10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f796f04b4c0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f796a527dc0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f796a4f2940>
                     └ <function get_request_handler.<locals>.app at 0x7f796a527d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f796f039280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7f796c130ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f796a4da160>
                 └ <function run_in_threadpool at 0x7f796f565e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7f796c130ca0>, db=<sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>, use...
                 │     │         └ <function run_sync at 0x7f796fd71a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f796fe2e670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "use...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f796a4f2bb0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f796a442500>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 26, in create_user
    db_user = db.query(models.User).filter_by(id=user.email).first()
              │  │     │      │                  │    └ 'user@example.com'
              │  │     │      │                  └ UserCreate(fullname='string', username='string', email='user@example.com', password='string')
              │  │     │      └ <class 'core.models.user.User'>
              │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
              │  └ <function Session.query at 0x7f796dcafdc0>
              └ <sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7f796dd504c0>
           └ <sqlalchemy.orm.query.Query object at 0x7f7969af8460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f796dcaf790>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>
             └ <sqlalchemy.orm.query.Query object at 0x7f796a4f2c40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7f7969b16610>
             │    └ <function Connection._execute_20 at 0x7f796e1c5310>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f7969b16610>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f796e1c5160>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f796e1c5430>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f796e1c55e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f796e97caf0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796a4c07c0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^

[SQL: SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_password, users.email AS users_email 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'user@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:17:58.618 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796a4c07c0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f79709da5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7970a823a0>
           └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7970a789d0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f797095ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    └ <function subprocess_started at 0x7f796fe591f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f797095ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f796fe4c430>
           │       │   └ <uvicorn.server.Server object at 0x7f797095ffa0>
           │       └ <function run at 0x7f797095ac10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f796aff18c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f796a779c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f2790>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f796a779ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f2790>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f2790>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f27...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f27...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4f27...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
          └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f796a4ec430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f796a56dc10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f796f04b4c0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f796a4ec4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f796a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f796a527dc0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f796a4f2940>
                     └ <function get_request_handler.<locals>.app at 0x7f796a527d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f796f039280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7f796c130ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f796a4da160>
                 └ <function run_in_threadpool at 0x7f796f565e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7f796c130ca0>, db=<sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>, use...
                 │     │         └ <function run_sync at 0x7f796fd71a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f796fe2e670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "use...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f796a4f2bb0>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f796a442500>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 26, in create_user
    db_user = db.query(models.User).filter_by(id=user.email).first()
              │  │     │      │                  │    └ 'user@example.com'
              │  │     │      │                  └ UserCreate(fullname='string', username='string', email='user@example.com', password='string')
              │  │     │      └ <class 'core.models.user.User'>
              │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
              │  └ <function Session.query at 0x7f796dcafdc0>
              └ <sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7f796dd504c0>
           └ <sqlalchemy.orm.query.Query object at 0x7f7969af8460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f796dcaf790>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f796a4f2ca0>
             └ <sqlalchemy.orm.query.Query object at 0x7f796a4f2c40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7f7969b16610>
             │    └ <function Connection._execute_20 at 0x7f796e1c5310>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f7969b16610>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f796e1c5160>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f796e1c5430>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f796e1c55e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f796e97caf0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969b11580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796a4c07c0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^

[SQL: SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_password, users.email AS users_email 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'user@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
INFO     2022-05-20 13:18:16.478 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47232 - "POST /user/ HTTP/1.1" 500
ERROR    2022-05-20 13:18:16.479 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796988a130; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f79709da5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7970a823a0>
           └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7970a789d0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f797095ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    └ <function subprocess_started at 0x7f796fe591f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f797095ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f796fe4c430>
           │       │   └ <uvicorn.server.Server object at 0x7f797095ffa0>
           │       └ <function run at 0x7f797095ac10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f796aff18c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f796a779c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b11700>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f796a779ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b11700>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b11700>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b117...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b117...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b117...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
          └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7969b24ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f796a56dc10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f796f04b4c0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f796a527dc0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f7969b11850>
                     └ <function get_request_handler.<locals>.app at 0x7f796a527d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f796f039280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7f796c130ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f796a4da160>
                 └ <function run_in_threadpool at 0x7f796f565e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7f796c130ca0>, db=<sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>, use...
                 │     │         └ <function run_sync at 0x7f796fd71a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f796fe2e670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "use...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f7969b11c40>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f796988b740>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 26, in create_user
    db_user = db.query(models.User).filter_by(id=user.email).first()
              │  │     │      │                  │    └ 'user@example.com'
              │  │     │      │                  └ UserCreate(fullname='string', username='string', email='user@example.com', password='string')
              │  │     │      └ <class 'core.models.user.User'>
              │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
              │  └ <function Session.query at 0x7f796dcafdc0>
              └ <sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7f796dd504c0>
           └ <sqlalchemy.orm.query.Query object at 0x7f7969b11fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f796dcaf790>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>
             └ <sqlalchemy.orm.query.Query object at 0x7f7969b119a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7f7969b11f40>
             │    └ <function Connection._execute_20 at 0x7f796e1c5310>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f7969b11f40>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f796e1c5160>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f796e1c5430>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f796e1c55e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f796e97caf0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796988a130; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^

[SQL: SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_password, users.email AS users_email 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'user@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:18:16.488 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796988a130; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f79709da5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7970a823a0>
           └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7970a789d0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f797095ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    └ <function subprocess_started at 0x7f796fe591f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f797095ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f796fe4c430>
           │       │   └ <uvicorn.server.Server object at 0x7f797095ffa0>
           │       └ <function run at 0x7f797095ac10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f796aff18c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f796a779c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b11700>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f796a779ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b11700>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b11700>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b117...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b117...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b117...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
          └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7969b24ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f796a56dc10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f796f04b4c0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f796a527dc0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f7969b11850>
                     └ <function get_request_handler.<locals>.app at 0x7f796a527d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f796f039280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7f796c130ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f796a4da160>
                 └ <function run_in_threadpool at 0x7f796f565e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7f796c130ca0>, db=<sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>, use...
                 │     │         └ <function run_sync at 0x7f796fd71a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f796fe2e670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "use...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f7969b11c40>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f796988b740>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 26, in create_user
    db_user = db.query(models.User).filter_by(id=user.email).first()
              │  │     │      │                  │    └ 'user@example.com'
              │  │     │      │                  └ UserCreate(fullname='string', username='string', email='user@example.com', password='string')
              │  │     │      └ <class 'core.models.user.User'>
              │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
              │  └ <function Session.query at 0x7f796dcafdc0>
              └ <sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7f796dd504c0>
           └ <sqlalchemy.orm.query.Query object at 0x7f7969b11fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f796dcaf790>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>
             └ <sqlalchemy.orm.query.Query object at 0x7f7969b119a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7f7969b11f40>
             │    └ <function Connection._execute_20 at 0x7f796e1c5310>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f7969b11f40>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f796e1c5160>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f796e1c5430>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f796e1c55e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f796e97caf0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796988a130; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^

[SQL: SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_password, users.email AS users_email 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'user@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
ERROR    2022-05-20 13:18:16.498 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796988a130; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f79709da5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7970a823a0>
           └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7970a789d0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f797095ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
    │    └ <function subprocess_started at 0x7f796fe591f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f797095ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f796fe4c430>
           │       │   └ <uvicorn.server.Server object at 0x7f797095ffa0>
           │       └ <function run at 0x7f797095ac10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f796aff18c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f796a779c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b11700>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f796a779ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b11700>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b11700>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b117...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f796af9b9d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b117...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b117...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
          └ <fastapi.applications.FastAPI object at 0x7f796a56ddf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7969b24ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f796a4fc4f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f796a4fc100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f796a56dc10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f796a4fc310>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f796f04b4c0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f79698cf820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7969b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f796a527dc0>
          └ <fastapi.routing.APIRoute object at 0x7f796a4da130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f7969b11850>
                     └ <function get_request_handler.<locals>.app at 0x7f796a527d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f796f039280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7f796c130ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f796a4da160>
                 └ <function run_in_threadpool at 0x7f796f565e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7f796c130ca0>, db=<sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>, use...
                 │     │         └ <function run_sync at 0x7f796fd71a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f796fe2e670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "use...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.DataError'>, DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type int...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f7969b11c40>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f796988b740>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 26, in create_user
    db_user = db.query(models.User).filter_by(id=user.email).first()
              │  │     │      │                  │    └ 'user@example.com'
              │  │     │      │                  └ UserCreate(fullname='string', username='string', email='user@example.com', password='string')
              │  │     │      └ <class 'core.models.user.User'>
              │  │     └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
              │  └ <function Session.query at 0x7f796dcafdc0>
              └ <sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2819, in first
    return self.limit(1)._iter().first()
           │    └ <function Query.limit at 0x7f796dd504c0>
           └ <sqlalchemy.orm.query.Query object at 0x7f7969b11fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f796dcaf790>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f7969b16fd0>
             └ <sqlalchemy.orm.query.Query object at 0x7f7969b119a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x7f7969b11f40>
             │    └ <function Connection._execute_20 at 0x7f796e1c5310>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'_sa_orm_load_options': default_load_options(_legacy_uniquing=True), '_result_disable_adapt_to_context': True,...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f7969b11f40>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f796e1c5160>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f796e1c5430>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f796e1c55e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f796e97caf0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f796df061f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f796df03a60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7969ab9cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'id_1': 'user@example.com', 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_pas...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f796988a130; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "user@example.com"
LINE 3: WHERE users.id = 'user@example.com' 
                         ^

[SQL: SELECT users.id AS users_id, users.fullname AS users_fullname, users.username AS users_username, users.password AS users_password, users.email AS users_email 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s]
[parameters: {'id_1': 'user@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
WARNING  2022-05-20 13:18:16.525 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:18:16.607 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:18:16.608 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:18:16.609 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:18:16.710 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:18:16.711 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:18:16.711 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:18:16.711 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:18:16.712 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:18:16.712 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:18:16.712 request id: app - uvicorn.server:serve - Finished server process [18498]
INFO     2022-05-20 13:18:16.713 request id: app - uvicorn.server:serve - Finished server process [18498]
INFO     2022-05-20 13:18:16.713 request id: app - uvicorn.server:serve - Finished server process [18498]
INFO     2022-05-20 13:18:17.340 request id: app - uvicorn.server:serve - Started server process [18534]
INFO     2022-05-20 13:18:17.340 request id: app - uvicorn.server:serve - Started server process [18534]
INFO     2022-05-20 13:18:17.340 request id: app - uvicorn.server:serve - Started server process [18534]
INFO     2022-05-20 13:18:17.340 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:18:17.340 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:18:17.341 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:18:17.341 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:18:17.341 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:18:17.341 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:18:22.450 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47236 - "POST /user/ HTTP/1.1" 201
INFO     2022-05-20 13:18:26.719 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47236 - "POST /user/ HTTP/1.1" 409
INFO     2022-05-20 13:18:32.068 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47238 - "POST /user/ HTTP/1.1" 500
ERROR    2022-05-20 13:18:32.069 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f74c030f1f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f74c030da60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'fullname': 'string', 'username': 'string', 'password': 'string', 'email': 'user123@example.com'}
    │      │       └ 'INSERT INTO users (fullname, username, password, email) VALUES (%(fullname)s, %(username)s, %(password)s, %(email)s) RETURNI...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f74afe51040; closed: -1>

psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "users_username_key"
DETAIL:  Key (username)=(string) already exists.



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f74c2de35e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f74c2e8b3a0>
           └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f74c2e819d0>
    └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f74c2d67f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
    │    └ <function subprocess_started at 0x7f74c22621f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f74c2d67fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f74c2255430>
           │       │   └ <uvicorn.server.Server object at 0x7f74c2d67fa0>
           │       └ <function run at 0x7f74c2d63c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f74bd3fb8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f74bcb82c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878b0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f74bcb82ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878b0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878b0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74bd3a49d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f74bc975df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74bd3a49d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74bc905520>
          └ <fastapi.applications.FastAPI object at 0x7f74bc975df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f74bc8f44c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74bc905130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74bc905520>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74bc905340>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74bc905130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f74bc975d00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74bc905340>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f74c14544c0>
          └ <fastapi.routing.APIRoute object at 0x7f74bc8e3160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f74bc930dc0>
          └ <fastapi.routing.APIRoute object at 0x7f74bc8e3160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f74afe875b0>
                     └ <function get_request_handler.<locals>.app at 0x7f74bc930d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f74c1442280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7f74be539ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f74bc8e3190>
                 └ <function run_in_threadpool at 0x7f74c196ee50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7f74be539ca0>, db=<sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>, use...
                 │     │         └ <function run_sync at 0x7f74c217aa60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f74c2237670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.IntegrityError'>, IntegrityError('(psycopg2.errors.UniqueViolation) duplicate key value violates uniq...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f74afe87910>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f74bc8871c0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 31, in create_user
    db.commit()
    │  └ <function Session.commit at 0x7f74c00b84c0>
    └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1435, in commit
    self._transaction.commit(_to_root=self.future)
    │    │                            │    └ False
    │    │                            └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>
    │    └ None
    └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f74c00b53a0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f74afe877f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    │    └ None
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f74afe877f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3367, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f74c00b9310>
    └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3507, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x7f74c00b54c0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f74bc8fa880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    │      └ <function raise_ at 0x7f74c0d85af0>
    └ <module 'sqlalchemy.util.compat' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/com...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3467, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f74c00aeaf0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f74bc8fa640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f74bc8fa640>
    │   └ <function SaveUpdateAll.execute at 0x7f74c00af430>
    └ SaveUpdateAll(mapped class User->users)
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f74c011f4c0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/...
    │    └ <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7f74c25d2bb0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 245, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f74c011faf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
             │          └ <function Connection._execute_20 at 0x7f74c05cb310>
             └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ {'compiled_cache': {(<sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f74c030da60>, ('0', <class 'sql...
           │    │     │             └ immutabledict({})
           │    │     └ ({'username': 'string', 'password': 'string', 'email': 'user123@example.com', 'fullname': 'string'},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f74afe8c730>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f74c05cb160>
           └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f74c05cb430>
          └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f74c05cb5e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f74c0d85af0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f74c030f1f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f74c030da60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'fullname': 'string', 'username': 'string', 'password': 'string', 'email': 'user123@example.com'}
    │      │       └ 'INSERT INTO users (fullname, username, password, email) VALUES (%(fullname)s, %(username)s, %(password)s, %(email)s) RETURNI...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f74afe51040; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "users_username_key"
DETAIL:  Key (username)=(string) already exists.

[SQL: INSERT INTO users (fullname, username, password, email) VALUES (%(fullname)s, %(username)s, %(password)s, %(email)s) RETURNING users.id]
[parameters: {'fullname': 'string', 'username': 'string', 'password': 'string', 'email': 'user123@example.com'}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
ERROR    2022-05-20 13:18:32.089 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f74c030f1f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f74c030da60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'fullname': 'string', 'username': 'string', 'password': 'string', 'email': 'user123@example.com'}
    │      │       └ 'INSERT INTO users (fullname, username, password, email) VALUES (%(fullname)s, %(username)s, %(password)s, %(email)s) RETURNI...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f74afe51040; closed: -1>

psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "users_username_key"
DETAIL:  Key (username)=(string) already exists.



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f74c2de35e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f74c2e8b3a0>
           └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f74c2e819d0>
    └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f74c2d67f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
    │    └ <function subprocess_started at 0x7f74c22621f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f74c2d67fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f74c2255430>
           │       │   └ <uvicorn.server.Server object at 0x7f74c2d67fa0>
           │       └ <function run at 0x7f74c2d63c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f74bd3fb8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f74bcb82c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878b0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f74bcb82ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878b0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878b0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74bd3a49d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f74bc975df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74bd3a49d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74bc905520>
          └ <fastapi.applications.FastAPI object at 0x7f74bc975df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f74bc8f44c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74bc905130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74bc905520>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74bc905340>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74bc905130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f74bc975d00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74bc905340>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f74c14544c0>
          └ <fastapi.routing.APIRoute object at 0x7f74bc8e3160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f74bc930dc0>
          └ <fastapi.routing.APIRoute object at 0x7f74bc8e3160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f74afe875b0>
                     └ <function get_request_handler.<locals>.app at 0x7f74bc930d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f74c1442280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7f74be539ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f74bc8e3190>
                 └ <function run_in_threadpool at 0x7f74c196ee50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7f74be539ca0>, db=<sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>, use...
                 │     │         └ <function run_sync at 0x7f74c217aa60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f74c2237670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.IntegrityError'>, IntegrityError('(psycopg2.errors.UniqueViolation) duplicate key value violates uniq...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f74afe87910>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f74bc8871c0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 31, in create_user
    db.commit()
    │  └ <function Session.commit at 0x7f74c00b84c0>
    └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1435, in commit
    self._transaction.commit(_to_root=self.future)
    │    │                            │    └ False
    │    │                            └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>
    │    └ None
    └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f74c00b53a0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f74afe877f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    │    └ None
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f74afe877f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3367, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f74c00b9310>
    └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3507, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x7f74c00b54c0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f74bc8fa880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    │      └ <function raise_ at 0x7f74c0d85af0>
    └ <module 'sqlalchemy.util.compat' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/com...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3467, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f74c00aeaf0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f74bc8fa640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f74bc8fa640>
    │   └ <function SaveUpdateAll.execute at 0x7f74c00af430>
    └ SaveUpdateAll(mapped class User->users)
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f74c011f4c0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/...
    │    └ <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7f74c25d2bb0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 245, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f74c011faf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
             │          └ <function Connection._execute_20 at 0x7f74c05cb310>
             └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ {'compiled_cache': {(<sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f74c030da60>, ('0', <class 'sql...
           │    │     │             └ immutabledict({})
           │    │     └ ({'username': 'string', 'password': 'string', 'email': 'user123@example.com', 'fullname': 'string'},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f74afe8c730>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f74c05cb160>
           └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f74c05cb430>
          └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f74c05cb5e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f74c0d85af0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f74c030f1f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f74c030da60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'fullname': 'string', 'username': 'string', 'password': 'string', 'email': 'user123@example.com'}
    │      │       └ 'INSERT INTO users (fullname, username, password, email) VALUES (%(fullname)s, %(username)s, %(password)s, %(email)s) RETURNI...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f74afe51040; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "users_username_key"
DETAIL:  Key (username)=(string) already exists.

[SQL: INSERT INTO users (fullname, username, password, email) VALUES (%(fullname)s, %(username)s, %(password)s, %(email)s) RETURNING users.id]
[parameters: {'fullname': 'string', 'username': 'string', 'password': 'string', 'email': 'user123@example.com'}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
ERROR    2022-05-20 13:18:32.100 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f74c030f1f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f74c030da60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'fullname': 'string', 'username': 'string', 'password': 'string', 'email': 'user123@example.com'}
    │      │       └ 'INSERT INTO users (fullname, username, password, email) VALUES (%(fullname)s, %(username)s, %(password)s, %(email)s) RETURNI...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f74afe51040; closed: -1>

psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "users_username_key"
DETAIL:  Key (username)=(string) already exists.



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f74c2de35e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f74c2e8b3a0>
           └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f74c2e819d0>
    └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f74c2d67f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
    │    └ <function subprocess_started at 0x7f74c22621f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f74c2d67fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f74c2255430>
           │       │   └ <uvicorn.server.Server object at 0x7f74c2d67fa0>
           │       └ <function run at 0x7f74c2d63c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f74bd3fb8c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f74bcb82c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878b0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f74bcb82ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878b0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878b0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74bd3a49d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f74bc975df0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74bd3a49d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe878...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74bc905520>
          └ <fastapi.applications.FastAPI object at 0x7f74bc975df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f74bc8f44c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74bc905130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74bc905520>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74bc905340>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74bc905130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f74bc975d00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74bc905340>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f74c14544c0>
          └ <fastapi.routing.APIRoute object at 0x7f74bc8e3160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f74bc8f4430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f74afe...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f74bc930dc0>
          └ <fastapi.routing.APIRoute object at 0x7f74bc8e3160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f74afe875b0>
                     └ <function get_request_handler.<locals>.app at 0x7f74bc930d30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f74c1442280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>, 'user': UserCreate(fullname='string', username='string', em...
                 │                 │         └ <function create_user at 0x7f74be539ca0>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f74bc8e3190>
                 └ <function run_in_threadpool at 0x7f74c196ee50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function create_user at 0x7f74be539ca0>, db=<sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>, use...
                 │     │         └ <function run_sync at 0x7f74c217aa60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f74c2237670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'sqlalchemy.exc.IntegrityError'>, IntegrityError('(psycopg2.errors.UniqueViolation) duplicate key value violates uniq...
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f74afe87910>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f74bc8871c0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 31, in create_user
    db.commit()
    │  └ <function Session.commit at 0x7f74c00b84c0>
    └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1435, in commit
    self._transaction.commit(_to_root=self.future)
    │    │                            │    └ False
    │    │                            └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>
    │    └ None
    └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f74c00b53a0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f74afe877f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
    │    └ None
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f74afe877f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3367, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f74c00b9310>
    └ <sqlalchemy.orm.session.Session object at 0x7f74bc8fa5b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3507, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x7f74c00b54c0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f74bc8fa880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
    │      └ <function raise_ at 0x7f74c0d85af0>
    └ <module 'sqlalchemy.util.compat' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/com...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3467, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f74c00aeaf0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f74bc8fa640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f74bc8fa640>
    │   └ <function SaveUpdateAll.execute at 0x7f74c00af430>
    └ SaveUpdateAll(mapped class User->users)
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f74c011f4c0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/...
    │    └ <sqlalchemy.util._preloaded._ModuleRegistry object at 0x7f74c25d2bb0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 245, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f74c011faf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
             │          └ <function Connection._execute_20 at 0x7f74c05cb310>
             └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ {'compiled_cache': {(<sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f74c030da60>, ('0', <class 'sql...
           │    │     │             └ immutabledict({})
           │    │     └ ({'username': 'string', 'password': 'string', 'email': 'user123@example.com', 'fullname': 'string'},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f74afe8c730>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f74c05cb160>
           └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f74c05cb430>
          └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f74c05cb5e0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f74c0d85af0>
    └ <module 'sqlalchemy.util' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f74c030f1f0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f74c030da60>
    └ <sqlalchemy.engine.base.Connection object at 0x7f74afe50100>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'fullname': 'string', 'username': 'string', 'password': 'string', 'email': 'user123@example.com'}
    │      │       └ 'INSERT INTO users (fullname, username, password, email) VALUES (%(fullname)s, %(username)s, %(password)s, %(email)s) RETURNI...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f74afe51040; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "users_username_key"
DETAIL:  Key (username)=(string) already exists.

[SQL: INSERT INTO users (fullname, username, password, email) VALUES (%(fullname)s, %(username)s, %(password)s, %(email)s) RETURNING users.id]
[parameters: {'fullname': 'string', 'username': 'string', 'password': 'string', 'email': 'user123@example.com'}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
WARNING  2022-05-20 13:19:48.105 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:19:48.118 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:19:48.119 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:19:48.119 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:19:48.219 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:19:48.219 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:19:48.220 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:19:48.220 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:19:48.221 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:19:48.221 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:19:48.222 request id: app - uvicorn.server:serve - Finished server process [18534]
INFO     2022-05-20 13:19:48.222 request id: app - uvicorn.server:serve - Finished server process [18534]
INFO     2022-05-20 13:19:48.223 request id: app - uvicorn.server:serve - Finished server process [18534]
INFO     2022-05-20 13:19:49.053 request id: app - uvicorn.server:serve - Started server process [18595]
INFO     2022-05-20 13:19:49.053 request id: app - uvicorn.server:serve - Started server process [18595]
INFO     2022-05-20 13:19:49.053 request id: app - uvicorn.server:serve - Started server process [18595]
INFO     2022-05-20 13:19:49.053 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:19:49.054 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:19:49.054 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:19:49.054 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:19:49.054 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:19:49.055 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 13:27:02.632 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:27:02.686 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:27:02.686 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:27:02.687 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:27:02.787 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:27:02.788 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:27:02.788 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:27:02.788 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:27:02.788 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:27:02.788 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:27:02.789 request id: app - uvicorn.server:serve - Finished server process [18595]
INFO     2022-05-20 13:27:02.789 request id: app - uvicorn.server:serve - Finished server process [18595]
INFO     2022-05-20 13:27:02.790 request id: app - uvicorn.server:serve - Finished server process [18595]
WARNING  2022-05-20 13:28:56.495 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
WARNING  2022-05-20 13:30:51.410 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:30:52.005 request id: app - uvicorn.server:serve - Started server process [20104]
INFO     2022-05-20 13:30:52.006 request id: app - uvicorn.server:serve - Started server process [20104]
INFO     2022-05-20 13:30:52.006 request id: app - uvicorn.server:serve - Started server process [20104]
INFO     2022-05-20 13:30:52.006 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:30:52.007 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:30:52.007 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:30:52.008 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:30:52.008 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:30:52.008 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 13:32:19.506 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:32:19.561 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:32:19.563 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:32:19.564 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:32:19.666 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:32:19.666 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:32:19.667 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:32:19.667 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:32:19.667 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:32:19.668 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:32:19.668 request id: app - uvicorn.server:serve - Finished server process [20104]
INFO     2022-05-20 13:32:19.668 request id: app - uvicorn.server:serve - Finished server process [20104]
INFO     2022-05-20 13:32:19.669 request id: app - uvicorn.server:serve - Finished server process [20104]
INFO     2022-05-20 13:32:20.317 request id: app - uvicorn.server:serve - Started server process [20247]
INFO     2022-05-20 13:32:20.317 request id: app - uvicorn.server:serve - Started server process [20247]
INFO     2022-05-20 13:32:20.318 request id: app - uvicorn.server:serve - Started server process [20247]
INFO     2022-05-20 13:32:20.318 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:32:20.318 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:32:20.318 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:32:20.319 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:32:20.319 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:32:20.319 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 13:33:42.153 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:33:42.236 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:33:42.237 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:33:42.237 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:33:42.337 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:33:42.338 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:33:42.339 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:33:42.340 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:33:42.341 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:33:42.342 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:33:42.343 request id: app - uvicorn.server:serve - Finished server process [20247]
INFO     2022-05-20 13:33:42.344 request id: app - uvicorn.server:serve - Finished server process [20247]
INFO     2022-05-20 13:33:42.345 request id: app - uvicorn.server:serve - Finished server process [20247]
INFO     2022-05-20 13:33:43.243 request id: app - uvicorn.server:serve - Started server process [20350]
INFO     2022-05-20 13:33:43.243 request id: app - uvicorn.server:serve - Started server process [20350]
INFO     2022-05-20 13:33:43.243 request id: app - uvicorn.server:serve - Started server process [20350]
INFO     2022-05-20 13:33:43.244 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:33:43.244 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:33:43.244 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:33:43.244 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:33:43.245 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:33:43.245 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:33:44.867 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47912 - "POST /user/ HTTP/1.1" 409
INFO     2022-05-20 13:33:49.562 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47912 - "POST /user/ HTTP/1.1" 409
WARNING  2022-05-20 13:34:08.253 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:34:08.308 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:34:08.308 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:34:08.309 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:34:08.410 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:34:08.411 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:34:08.412 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:34:08.413 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:34:08.414 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:34:08.415 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:34:08.416 request id: app - uvicorn.server:serve - Finished server process [20350]
INFO     2022-05-20 13:34:08.418 request id: app - uvicorn.server:serve - Finished server process [20350]
INFO     2022-05-20 13:34:08.419 request id: app - uvicorn.server:serve - Finished server process [20350]
INFO     2022-05-20 13:34:09.067 request id: app - uvicorn.server:serve - Started server process [20396]
INFO     2022-05-20 13:34:09.068 request id: app - uvicorn.server:serve - Started server process [20396]
INFO     2022-05-20 13:34:09.068 request id: app - uvicorn.server:serve - Started server process [20396]
INFO     2022-05-20 13:34:09.068 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:34:09.068 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:34:09.069 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:34:09.069 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:34:09.069 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:34:09.070 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:34:10.318 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47916 - "POST /user/ HTTP/1.1" 409
INFO     2022-05-20 13:34:15.098 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47916 - "POST /user/ HTTP/1.1" 409
INFO     2022-05-20 13:34:19.557 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47916 - "POST /user/ HTTP/1.1" 409
WARNING  2022-05-20 13:34:47.728 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:34:47.773 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:34:47.773 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:34:47.774 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:34:47.874 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:34:47.876 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:34:47.878 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:34:47.879 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:34:47.880 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:34:47.881 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:34:47.883 request id: app - uvicorn.server:serve - Finished server process [20396]
INFO     2022-05-20 13:34:47.884 request id: app - uvicorn.server:serve - Finished server process [20396]
INFO     2022-05-20 13:34:47.885 request id: app - uvicorn.server:serve - Finished server process [20396]
INFO     2022-05-20 13:34:48.512 request id: app - uvicorn.server:serve - Started server process [20455]
INFO     2022-05-20 13:34:48.513 request id: app - uvicorn.server:serve - Started server process [20455]
INFO     2022-05-20 13:34:48.513 request id: app - uvicorn.server:serve - Started server process [20455]
INFO     2022-05-20 13:34:48.513 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:34:48.513 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:34:48.514 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:34:48.514 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:34:48.514 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:34:48.514 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:34:50.027 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47926 - "POST /user/ HTTP/1.1" 201
INFO     2022-05-20 13:34:57.957 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47928 - "GET /user/ HTTP/1.1" 200
INFO     2022-05-20 13:35:07.364 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47930 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 13:35:07.723 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47930 - "GET /openapi.json HTTP/1.1" 200
WARNING  2022-05-20 13:35:18.876 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:35:18.900 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:35:18.901 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:35:18.902 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:35:19.002 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:35:19.002 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:35:19.003 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:35:19.003 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:35:19.003 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:35:19.004 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:35:19.004 request id: app - uvicorn.server:serve - Finished server process [20455]
INFO     2022-05-20 13:35:19.004 request id: app - uvicorn.server:serve - Finished server process [20455]
INFO     2022-05-20 13:35:19.004 request id: app - uvicorn.server:serve - Finished server process [20455]
INFO     2022-05-20 13:35:19.606 request id: app - uvicorn.server:serve - Started server process [20492]
INFO     2022-05-20 13:35:19.606 request id: app - uvicorn.server:serve - Started server process [20492]
INFO     2022-05-20 13:35:19.607 request id: app - uvicorn.server:serve - Started server process [20492]
INFO     2022-05-20 13:35:19.607 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:35:19.607 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:35:19.607 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:35:19.607 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:35:19.608 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:35:19.608 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:35:26.198 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47938 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 13:35:26.548 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47938 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 13:35:30.178 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47938 - "GET /user/1 HTTP/1.1" 500
ERROR    2022-05-20 13:35:30.179 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f5f5cd485e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f5f5cdf03a0>
           └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5f5cde69d0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5f5ccccf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    └ <function subprocess_started at 0x7f5f5c1c71f0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5f5ccccfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5f5c1ba430>
           │       │   └ <uvicorn.server.Server object at 0x7f5f5ccccfa0>
           │       └ <function run at 0x7f5f5ccc8c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5f5735e840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5f56ae7c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e2490>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5f56ae7ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e2490>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e2490>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e24...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e24...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e24...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
          └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5f568551f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5f568d9c40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5f5b3b94c0>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5f56891b80>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5f567e2190>
                     └ <function get_request_handler.<locals>.app at 0x7f5f56891af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5f5b3a7280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_user': '1'}
                 │                 │         └ <function get_user at 0x7f5f5849e940>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f5f56837f10>
                 └ <function run_in_threadpool at 0x7f5f5b8d3e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
                 │     │         └ <function run_sync at 0x7f5f5c0dfa60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5f5c19c670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'Depends' object has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f5f59ed77c0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 17, in get_user
    return if_exist_user(id_user)
           │             └ '1'
           └ <function if_exist_user at 0x7f5f5849e8b0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 59, in if_exist_user
    user = db.query(models.User).filter_by(id=id_user).first()
           │        │      │                  └ '1'
           │        │      └ <class 'core.models.user.User'>
           │        └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
           └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'query'
ERROR    2022-05-20 13:35:30.189 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f5f5cd485e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f5f5cdf03a0>
           └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5f5cde69d0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5f5ccccf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    └ <function subprocess_started at 0x7f5f5c1c71f0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5f5ccccfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5f5c1ba430>
           │       │   └ <uvicorn.server.Server object at 0x7f5f5ccccfa0>
           │       └ <function run at 0x7f5f5ccc8c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5f5735e840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5f56ae7c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e2490>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5f56ae7ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e2490>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e2490>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e24...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e24...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e24...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
          └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5f568551f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5f568d9c40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5f5b3b94c0>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5f56891b80>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5f567e2190>
                     └ <function get_request_handler.<locals>.app at 0x7f5f56891af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5f5b3a7280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_user': '1'}
                 │                 │         └ <function get_user at 0x7f5f5849e940>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f5f56837f10>
                 └ <function run_in_threadpool at 0x7f5f5b8d3e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
                 │     │         └ <function run_sync at 0x7f5f5c0dfa60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5f5c19c670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'Depends' object has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f5f59ed77c0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 17, in get_user
    return if_exist_user(id_user)
           │             └ '1'
           └ <function if_exist_user at 0x7f5f5849e8b0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 59, in if_exist_user
    user = db.query(models.User).filter_by(id=id_user).first()
           │        │      │                  └ '1'
           │        │      └ <class 'core.models.user.User'>
           │        └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
           └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'query'
ERROR    2022-05-20 13:35:30.196 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f5f5cd485e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f5f5cdf03a0>
           └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5f5cde69d0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5f5ccccf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    └ <function subprocess_started at 0x7f5f5c1c71f0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5f5ccccfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5f5c1ba430>
           │       │   └ <uvicorn.server.Server object at 0x7f5f5ccccfa0>
           │       └ <function run at 0x7f5f5ccc8c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5f5735e840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5f56ae7c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e2490>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5f56ae7ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e2490>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e2490>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e24...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e24...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567e24...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
          └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5f568551f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5f568d9c40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5f5b3b94c0>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f56855430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5f56891b80>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5f567e2190>
                     └ <function get_request_handler.<locals>.app at 0x7f5f56891af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5f5b3a7280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_user': '1'}
                 │                 │         └ <function get_user at 0x7f5f5849e940>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f5f56837f10>
                 └ <function run_in_threadpool at 0x7f5f5b8d3e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
                 │     │         └ <function run_sync at 0x7f5f5c0dfa60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5f5c19c670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'Depends' object has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f5f59ed77c0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 17, in get_user
    return if_exist_user(id_user)
           │             └ '1'
           └ <function if_exist_user at 0x7f5f5849e8b0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 59, in if_exist_user
    user = db.query(models.User).filter_by(id=id_user).first()
           │        │      │                  └ '1'
           │        │      └ <class 'core.models.user.User'>
           │        └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
           └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'query'
INFO     2022-05-20 13:55:15.657 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47956 - "GET /user/1 HTTP/1.1" 500
ERROR    2022-05-20 13:55:15.658 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f5f5cd485e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f5f5cdf03a0>
           └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5f5cde69d0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5f5ccccf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    └ <function subprocess_started at 0x7f5f5c1c71f0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5f5ccccfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5f5c1ba430>
           │       │   └ <uvicorn.server.Server object at 0x7f5f5ccccfa0>
           │       └ <function run at 0x7f5f5ccc8c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5f5735e840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5f56ae7c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0ca0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5f56ae7ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0ca0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0ca0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0c...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0c...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0c...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
          └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5f56855e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5f568d9c40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5f5b3b94c0>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5f56891b80>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5f55f1a070>
                     └ <function get_request_handler.<locals>.app at 0x7f5f56891af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5f5b3a7280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_user': '1'}
                 │                 │         └ <function get_user at 0x7f5f5849e940>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f5f56837f10>
                 └ <function run_in_threadpool at 0x7f5f5b8d3e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
                 │     │         └ <function run_sync at 0x7f5f5c0dfa60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5f5c19c670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'Depends' object has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f5f567d3600>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 17, in get_user
    return if_exist_user(id_user)
           │             └ '1'
           └ <function if_exist_user at 0x7f5f5849e8b0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 59, in if_exist_user
    user = db.query(models.User).filter_by(id=id_user).first()
           │        │      │                  └ '1'
           │        │      └ <class 'core.models.user.User'>
           │        └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
           └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'query'
ERROR    2022-05-20 13:55:15.667 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f5f5cd485e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f5f5cdf03a0>
           └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5f5cde69d0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5f5ccccf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    └ <function subprocess_started at 0x7f5f5c1c71f0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5f5ccccfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5f5c1ba430>
           │       │   └ <uvicorn.server.Server object at 0x7f5f5ccccfa0>
           │       └ <function run at 0x7f5f5ccc8c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5f5735e840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5f56ae7c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0ca0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5f56ae7ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0ca0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0ca0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0c...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0c...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0c...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
          └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5f56855e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5f568d9c40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5f5b3b94c0>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5f56891b80>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5f55f1a070>
                     └ <function get_request_handler.<locals>.app at 0x7f5f56891af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5f5b3a7280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_user': '1'}
                 │                 │         └ <function get_user at 0x7f5f5849e940>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f5f56837f10>
                 └ <function run_in_threadpool at 0x7f5f5b8d3e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
                 │     │         └ <function run_sync at 0x7f5f5c0dfa60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5f5c19c670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'Depends' object has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f5f567d3600>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 17, in get_user
    return if_exist_user(id_user)
           │             └ '1'
           └ <function if_exist_user at 0x7f5f5849e8b0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 59, in if_exist_user
    user = db.query(models.User).filter_by(id=id_user).first()
           │        │      │                  └ '1'
           │        │      └ <class 'core.models.user.User'>
           │        └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
           └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'query'
ERROR    2022-05-20 13:55:15.674 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f5f5cd485e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f5f5cdf03a0>
           └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5f5cde69d0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5f5ccccf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
    │    └ <function subprocess_started at 0x7f5f5c1c71f0>
    └ <SpawnProcess name='SpawnProcess-15' parent=18203 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5f5ccccfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5f5c1ba430>
           │       │   └ <uvicorn.server.Server object at 0x7f5f5ccccfa0>
           │       └ <function run at 0x7f5f5ccc8c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5f5735e840>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5f56ae7c10>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0ca0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5f56ae7ca0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0ca0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0ca0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0c...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5f57308cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0c...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567b0c...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
          └ <fastapi.applications.FastAPI object at 0x7f5f568d9e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5f56855e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5f568694c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5f568690d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5f568d9c40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5f568692e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f5f5b3b94c0>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5f55efd8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5f567...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5f56891b80>
          └ <fastapi.routing.APIRoute object at 0x7f5f56837ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5f55f1a070>
                     └ <function get_request_handler.<locals>.app at 0x7f5f56891af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5f5b3a7280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'id_user': '1'}
                 │                 │         └ <function get_user at 0x7f5f5849e940>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f5f56837f10>
                 └ <function run_in_threadpool at 0x7f5f5b8d3e50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
                 │     │         └ <function run_sync at 0x7f5f5c0dfa60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f5f5c19c670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'Depends' object has no attribute 'query'")>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_user at 0x7f5f5849e940>, id_user='1')
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f5f567d3600>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 17, in get_user
    return if_exist_user(id_user)
           │             └ '1'
           └ <function if_exist_user at 0x7f5f5849e8b0>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py", line 59, in if_exist_user
    user = db.query(models.User).filter_by(id=id_user).first()
           │        │      │                  └ '1'
           │        │      └ <class 'core.models.user.User'>
           │        └ <module 'core.models' from '/home/denius/Desktop/FlaskRestApi/core/models/__init__.py'>
           └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'query'
WARNING  2022-05-20 13:55:15.813 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:55:15.881 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:55:15.881 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:55:15.882 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:55:15.982 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:55:15.982 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:55:15.983 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:55:15.983 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:55:15.984 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:55:15.984 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:55:15.984 request id: app - uvicorn.server:serve - Finished server process [20492]
INFO     2022-05-20 13:55:15.985 request id: app - uvicorn.server:serve - Finished server process [20492]
INFO     2022-05-20 13:55:15.985 request id: app - uvicorn.server:serve - Finished server process [20492]
INFO     2022-05-20 13:55:16.665 request id: app - uvicorn.server:serve - Started server process [21008]
INFO     2022-05-20 13:55:16.665 request id: app - uvicorn.server:serve - Started server process [21008]
INFO     2022-05-20 13:55:16.665 request id: app - uvicorn.server:serve - Started server process [21008]
INFO     2022-05-20 13:55:16.665 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:55:16.666 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:55:16.666 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:55:16.666 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:55:16.666 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:55:16.666 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:55:18.770 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47960 - "GET /user/1 HTTP/1.1" 200
INFO     2022-05-20 13:55:21.581 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47960 - "GET /user/3 HTTP/1.1" 200
WARNING  2022-05-20 13:55:53.460 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:55:53.464 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:55:53.465 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:55:53.465 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:55:53.566 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:55:53.567 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:55:53.568 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:55:53.569 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:55:53.570 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:55:53.571 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:55:53.572 request id: app - uvicorn.server:serve - Finished server process [21008]
INFO     2022-05-20 13:55:53.573 request id: app - uvicorn.server:serve - Finished server process [21008]
INFO     2022-05-20 13:55:53.574 request id: app - uvicorn.server:serve - Finished server process [21008]
INFO     2022-05-20 13:55:54.184 request id: app - uvicorn.server:serve - Started server process [21059]
INFO     2022-05-20 13:55:54.184 request id: app - uvicorn.server:serve - Started server process [21059]
INFO     2022-05-20 13:55:54.184 request id: app - uvicorn.server:serve - Started server process [21059]
INFO     2022-05-20 13:55:54.184 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:55:54.184 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:55:54.185 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:55:54.185 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:55:54.185 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:55:54.186 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:55:55.107 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47966 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 13:55:55.530 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47966 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 13:56:03.093 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47968 - "PUT /user/3 HTTP/1.1" 202
INFO     2022-05-20 13:56:09.240 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47972 - "PUT /user/3 HTTP/1.1" 202
INFO     2022-05-20 13:56:14.842 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47974 - "PUT /user/3 HTTP/1.1" 202
INFO     2022-05-20 13:56:22.848 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47976 - "GET /user/ HTTP/1.1" 200
WARNING  2022-05-20 13:56:36.999 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/user_endpoints.py']'. Reloading...
INFO     2022-05-20 13:56:37.100 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:56:37.102 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:56:37.103 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:56:37.204 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:56:37.204 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:56:37.205 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:56:37.205 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:56:37.205 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:56:37.205 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:56:37.206 request id: app - uvicorn.server:serve - Finished server process [21059]
INFO     2022-05-20 13:56:37.206 request id: app - uvicorn.server:serve - Finished server process [21059]
INFO     2022-05-20 13:56:37.206 request id: app - uvicorn.server:serve - Finished server process [21059]
INFO     2022-05-20 13:56:37.819 request id: app - uvicorn.server:serve - Started server process [21130]
INFO     2022-05-20 13:56:37.819 request id: app - uvicorn.server:serve - Started server process [21130]
INFO     2022-05-20 13:56:37.820 request id: app - uvicorn.server:serve - Started server process [21130]
INFO     2022-05-20 13:56:37.820 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:56:37.820 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:56:37.820 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 13:56:37.821 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:56:37.821 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:56:37.821 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 13:56:39.125 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47980 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 13:56:39.553 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47980 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 13:56:43.028 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47980 - "DELETE /user/1 HTTP/1.1" 200
INFO     2022-05-20 13:56:47.337 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:47980 - "GET /user/ HTTP/1.1" 200
WARNING  2022-05-20 13:58:01.034 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/order_endpoints.py']'. Reloading...
INFO     2022-05-20 13:58:01.135 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:58:01.136 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:58:01.137 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 13:58:01.239 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:58:01.239 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:58:01.239 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 13:58:01.240 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:58:01.240 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:58:01.241 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 13:58:01.241 request id: app - uvicorn.server:serve - Finished server process [21130]
INFO     2022-05-20 13:58:01.241 request id: app - uvicorn.server:serve - Finished server process [21130]
INFO     2022-05-20 13:58:01.242 request id: app - uvicorn.server:serve - Finished server process [21130]
WARNING  2022-05-20 14:00:02.968 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py', '/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/order_endpoints.py']'. Reloading...
WARNING  2022-05-20 14:00:55.421 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
WARNING  2022-05-20 14:01:31.632 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
WARNING  2022-05-20 14:02:30.165 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
WARNING  2022-05-20 14:02:30.432 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/order_endpoints.py']'. Reloading...
WARNING  2022-05-20 14:04:36.311 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/api.py']'. Reloading...
WARNING  2022-05-20 14:05:20.659 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
INFO     2022-05-20 14:07:28.957 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [18203]
INFO     2022-05-20 14:20:43.607 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 14:20:43.608 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 14:20:43.734 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [23704] using watchgod
INFO     2022-05-20 14:20:44.265 request id: app - uvicorn.server:serve - Started server process [23714]
INFO     2022-05-20 14:20:44.266 request id: app - uvicorn.server:serve - Started server process [23714]
INFO     2022-05-20 14:20:44.266 request id: app - uvicorn.server:serve - Started server process [23714]
INFO     2022-05-20 14:20:44.266 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:20:44.266 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:20:44.266 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:20:44.267 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:20:44.267 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:20:44.267 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:20:52.678 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48076 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 14:20:53.091 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48076 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 14:23:53.438 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:23:53.440 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:23:53.441 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:23:53.543 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:23:53.545 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:23:53.546 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:23:53.547 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:23:53.548 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:23:53.549 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:23:53.550 request id: app - uvicorn.server:serve - Finished server process [23714]
INFO     2022-05-20 14:23:53.550 request id: app - uvicorn.server:serve - Finished server process [23714]
INFO     2022-05-20 14:23:53.550 request id: app - uvicorn.server:serve - Finished server process [23714]
INFO     2022-05-20 14:23:53.610 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [23704]
INFO     2022-05-20 14:25:20.966 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 14:25:20.967 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 14:25:21.094 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [24063] using watchgod
INFO     2022-05-20 14:25:21.629 request id: app - uvicorn.server:serve - Started server process [24068]
INFO     2022-05-20 14:25:21.629 request id: app - uvicorn.server:serve - Started server process [24068]
INFO     2022-05-20 14:25:21.629 request id: app - uvicorn.server:serve - Started server process [24068]
INFO     2022-05-20 14:25:21.630 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:25:21.630 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:25:21.630 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:25:21.630 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:25:21.630 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:25:21.631 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:25:24.067 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48112 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 14:25:24.428 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48112 - "GET /openapi.json HTTP/1.1" 200
WARNING  2022-05-20 14:26:02.656 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
INFO     2022-05-20 14:26:02.732 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:26:02.733 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:26:02.733 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:26:02.834 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:26:02.834 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:26:02.835 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:26:02.835 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:26:02.835 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:26:02.836 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:26:02.836 request id: app - uvicorn.server:serve - Finished server process [24068]
INFO     2022-05-20 14:26:02.837 request id: app - uvicorn.server:serve - Finished server process [24068]
INFO     2022-05-20 14:26:02.837 request id: app - uvicorn.server:serve - Finished server process [24068]
INFO     2022-05-20 14:26:03.499 request id: app - uvicorn.server:serve - Started server process [24144]
INFO     2022-05-20 14:26:03.500 request id: app - uvicorn.server:serve - Started server process [24144]
INFO     2022-05-20 14:26:03.500 request id: app - uvicorn.server:serve - Started server process [24144]
INFO     2022-05-20 14:26:03.500 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:26:03.500 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:26:03.500 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:26:03.501 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:26:03.501 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:26:03.501 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:26:04.552 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48130 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 14:26:04.909 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48130 - "GET /openapi.json HTTP/1.1" 200
WARNING  2022-05-20 14:28:07.885 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/order_endpoints.py']'. Reloading...
INFO     2022-05-20 14:28:07.917 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:28:07.917 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:28:07.917 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:28:08.018 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:28:08.019 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:28:08.020 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:28:08.022 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:28:08.023 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:28:08.024 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:28:08.025 request id: app - uvicorn.server:serve - Finished server process [24144]
INFO     2022-05-20 14:28:08.026 request id: app - uvicorn.server:serve - Finished server process [24144]
INFO     2022-05-20 14:28:08.027 request id: app - uvicorn.server:serve - Finished server process [24144]
WARNING  2022-05-20 14:29:51.944 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/order_endpoints.py']'. Reloading...
INFO     2022-05-20 14:29:52.524 request id: app - uvicorn.server:serve - Started server process [24520]
INFO     2022-05-20 14:29:52.524 request id: app - uvicorn.server:serve - Started server process [24520]
INFO     2022-05-20 14:29:52.524 request id: app - uvicorn.server:serve - Started server process [24520]
INFO     2022-05-20 14:29:52.524 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:29:52.525 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:29:52.525 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:29:52.525 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:29:52.526 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:29:52.526 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:30:43.963 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:30:43.964 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:30:43.965 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:30:44.066 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:30:44.067 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:30:44.068 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:30:44.069 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:30:44.070 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:30:44.071 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:30:44.072 request id: app - uvicorn.server:serve - Finished server process [24520]
INFO     2022-05-20 14:30:44.073 request id: app - uvicorn.server:serve - Finished server process [24520]
INFO     2022-05-20 14:30:44.074 request id: app - uvicorn.server:serve - Finished server process [24520]
INFO     2022-05-20 14:30:44.161 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [24063]
INFO     2022-05-20 14:32:59.223 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 14:32:59.224 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 14:32:59.367 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [24689] using watchgod
INFO     2022-05-20 14:32:59.907 request id: app - uvicorn.server:serve - Started server process [24701]
INFO     2022-05-20 14:32:59.907 request id: app - uvicorn.server:serve - Started server process [24701]
INFO     2022-05-20 14:32:59.907 request id: app - uvicorn.server:serve - Started server process [24701]
INFO     2022-05-20 14:32:59.908 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:32:59.908 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:32:59.908 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:32:59.908 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:32:59.909 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:32:59.909 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:33:02.098 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48170 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 14:33:02.480 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48170 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 14:33:08.824 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48172 - "GET /user/ HTTP/1.1" 200
INFO     2022-05-20 14:33:20.942 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48176 - "GET /product/ HTTP/1.1" 200
WARNING  2022-05-20 14:34:43.244 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
INFO     2022-05-20 14:34:43.273 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:34:43.274 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:34:43.275 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:34:43.377 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:34:43.378 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:34:43.379 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:34:43.380 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:34:43.381 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:34:43.382 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:34:43.383 request id: app - uvicorn.server:serve - Finished server process [24701]
INFO     2022-05-20 14:34:43.383 request id: app - uvicorn.server:serve - Finished server process [24701]
INFO     2022-05-20 14:34:43.384 request id: app - uvicorn.server:serve - Finished server process [24701]
WARNING  2022-05-20 14:35:09.559 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
INFO     2022-05-20 14:35:10.167 request id: app - uvicorn.server:serve - Started server process [24865]
INFO     2022-05-20 14:35:10.168 request id: app - uvicorn.server:serve - Started server process [24865]
INFO     2022-05-20 14:35:10.168 request id: app - uvicorn.server:serve - Started server process [24865]
INFO     2022-05-20 14:35:10.168 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:35:10.168 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:35:10.169 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:35:10.169 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:35:10.169 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:35:10.169 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:35:10.170 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48180 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 14:35:10.171 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48182 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 14:35:10.541 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48182 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 14:35:29.515 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48184 - "POST /order/ HTTP/1.1" 500
ERROR    2022-05-20 14:35:29.515 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1025f2d5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1025fd53a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1025fcb9d0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1025eb1f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
    │    └ <function subprocess_started at 0x7f10253ac1f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1025eb1fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f102539f430>
           │       │   └ <uvicorn.server.Server object at 0x7f1025eb1fa0>
           │       └ <function run at 0x7f1025eadc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f10204fc640>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f102011fca0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e730>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f102011fd30>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e730>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e730>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f102050d7f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f102009afa0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f102050d7f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f102009aa90>
          └ <fastapi.applications.FastAPI object at 0x7f102009afa0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f101b9be430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f102009abb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f102009aa90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f102009aaf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f102009abb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f102009ad00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f102009aaf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f102459f4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1020058220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f102005b1f0>
          └ <fastapi.routing.APIRoute object at 0x7f1020058220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f101b94e2e0>
                     └ <function get_request_handler.<locals>.app at 0x7f102005b160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f102458c0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_post_order__post', type=Optional[Order], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Order', errors=[{'loc': ('date',), 'msg': 'Must be in range', 'type': 'value_error'}...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Order
response -> date
  Must be in range (type=value_error)
ERROR    2022-05-20 14:35:29.523 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1025f2d5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1025fd53a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1025fcb9d0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1025eb1f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
    │    └ <function subprocess_started at 0x7f10253ac1f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1025eb1fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f102539f430>
           │       │   └ <uvicorn.server.Server object at 0x7f1025eb1fa0>
           │       └ <function run at 0x7f1025eadc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f10204fc640>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f102011fca0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e730>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f102011fd30>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e730>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e730>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f102050d7f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f102009afa0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f102050d7f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f102009aa90>
          └ <fastapi.applications.FastAPI object at 0x7f102009afa0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f101b9be430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f102009abb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f102009aa90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f102009aaf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f102009abb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f102009ad00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f102009aaf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f102459f4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1020058220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f102005b1f0>
          └ <fastapi.routing.APIRoute object at 0x7f1020058220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f101b94e2e0>
                     └ <function get_request_handler.<locals>.app at 0x7f102005b160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f102458c0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_post_order__post', type=Optional[Order], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Order', errors=[{'loc': ('date',), 'msg': 'Must be in range', 'type': 'value_error'}...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Order
response -> date
  Must be in range (type=value_error)
ERROR    2022-05-20 14:35:29.529 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1025f2d5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1025fd53a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1025fcb9d0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1025eb1f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
    │    └ <function subprocess_started at 0x7f10253ac1f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24689 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1025eb1fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f102539f430>
           │       │   └ <uvicorn.server.Server object at 0x7f1025eb1fa0>
           │       └ <function run at 0x7f1025eadc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f10204fc640>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f102011fca0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e730>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f102011fd30>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e730>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e730>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f102050d7f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f102009afa0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f102050d7f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b94e7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f102009aa90>
          └ <fastapi.applications.FastAPI object at 0x7f102009afa0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f101b9be430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f102009abb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f102009aa90>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f102009aaf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f102009abb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f102009ad00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f102009aaf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f102459f4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1020058220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f101b9be5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f101b9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f102005b1f0>
          └ <fastapi.routing.APIRoute object at 0x7f1020058220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f101b94e2e0>
                     └ <function get_request_handler.<locals>.app at 0x7f102005b160>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f102458c0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_post_order__post', type=Optional[Order], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Order', errors=[{'loc': ('date',), 'msg': 'Must be in range', 'type': 'value_error'}...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Order
response -> date
  Must be in range (type=value_error)
INFO     2022-05-20 14:35:38.156 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:35:38.157 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:35:38.157 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:35:38.257 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:35:38.258 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:35:38.258 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:35:38.259 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:35:38.259 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:35:38.259 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:35:38.259 request id: app - uvicorn.server:serve - Finished server process [24865]
INFO     2022-05-20 14:35:38.260 request id: app - uvicorn.server:serve - Finished server process [24865]
INFO     2022-05-20 14:35:38.260 request id: app - uvicorn.server:serve - Finished server process [24865]
INFO     2022-05-20 14:35:38.351 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [24689]
INFO     2022-05-20 14:35:39.994 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 14:35:39.994 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 14:35:40.490 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [24911] using watchgod
INFO     2022-05-20 14:35:42.014 request id: app - uvicorn.server:serve - Started server process [24920]
INFO     2022-05-20 14:35:42.015 request id: app - uvicorn.server:serve - Started server process [24920]
INFO     2022-05-20 14:35:42.015 request id: app - uvicorn.server:serve - Started server process [24920]
INFO     2022-05-20 14:35:42.016 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:35:42.016 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:35:42.016 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:35:42.017 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:35:42.017 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:35:42.017 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:36:48.072 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48204 - "POST /order/ HTTP/1.1" 500
ERROR    2022-05-20 14:36:48.075 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7fd82a119700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fd82a0f0b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fd82a0f01f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fd82a1e31f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
    │    └ <function subprocess_started at 0x7fd81b397af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fd82a1e3160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fd81b38fc10>
           │       │   └ <uvicorn.server.Server object at 0x7fd82a1e3160>
           │       └ <function run at 0x7fd82a2f2790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd80ed70dc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fd80e9c64c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fd80e9c6550>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd80e300d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd80e9a07c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd80e300d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd80e3117c0>
          └ <fastapi.applications.FastAPI object at 0x7fd80e9a07c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fd80e291790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd80e311cd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd80e3117c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd80e311a00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd80e311cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fd80e311fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd80e311a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fd81a3509d0>
          └ <fastapi.routing.APIRoute object at 0x7fd80e2d7250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fd80e2a7550>
          └ <fastapi.routing.APIRoute object at 0x7fd80e2d7250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fd80e29dfd0>
                     └ <function get_request_handler.<locals>.app at 0x7fd80e2a74c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fd81a3bc3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_post_order__post', type=Optional[Order], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Order', errors=[{'loc': ('date',), 'msg': 'Must be in range', 'type': 'value_error'}...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Order
response -> date
  Must be in range (type=value_error)
ERROR    2022-05-20 14:36:48.161 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7fd82a119700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fd82a0f0b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fd82a0f01f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fd82a1e31f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
    │    └ <function subprocess_started at 0x7fd81b397af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fd82a1e3160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fd81b38fc10>
           │       │   └ <uvicorn.server.Server object at 0x7fd82a1e3160>
           │       └ <function run at 0x7fd82a2f2790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd80ed70dc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fd80e9c64c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fd80e9c6550>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd80e300d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd80e9a07c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd80e300d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd80e3117c0>
          └ <fastapi.applications.FastAPI object at 0x7fd80e9a07c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fd80e291790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd80e311cd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd80e3117c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd80e311a00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd80e311cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fd80e311fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd80e311a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fd81a3509d0>
          └ <fastapi.routing.APIRoute object at 0x7fd80e2d7250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fd80e2a7550>
          └ <fastapi.routing.APIRoute object at 0x7fd80e2d7250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fd80e29dfd0>
                     └ <function get_request_handler.<locals>.app at 0x7fd80e2a74c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fd81a3bc3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_post_order__post', type=Optional[Order], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Order', errors=[{'loc': ('date',), 'msg': 'Must be in range', 'type': 'value_error'}...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Order
response -> date
  Must be in range (type=value_error)
ERROR    2022-05-20 14:36:48.187 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7fd82a119700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fd82a0f0b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fd82a0f01f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fd82a1e31f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
    │    └ <function subprocess_started at 0x7fd81b397af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=24911 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fd82a1e3160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fd81b38fc10>
           │       │   └ <uvicorn.server.Server object at 0x7fd82a1e3160>
           │       └ <function run at 0x7fd82a2f2790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd80ed70dc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fd80e9c64c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fd80e9c6550>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd80e300d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd80e9a07c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd80e300d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e29de...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd80e3117c0>
          └ <fastapi.applications.FastAPI object at 0x7fd80e9a07c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fd80e291790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd80e311cd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd80e3117c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd80e311a00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd80e311cd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fd80e311fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd80e311a00>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fd81a3509d0>
          └ <fastapi.routing.APIRoute object at 0x7fd80e2d7250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fd80e291820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fd80e2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fd80e2a7550>
          └ <fastapi.routing.APIRoute object at 0x7fd80e2d7250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fd80e29dfd0>
                     └ <function get_request_handler.<locals>.app at 0x7fd80e2a74c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fd81a3bc3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_post_order__post', type=Optional[Order], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Order', errors=[{'loc': ('date',), 'msg': 'Must be in range', 'type': 'value_error'}...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Order
response -> date
  Must be in range (type=value_error)
WARNING  2022-05-20 14:37:04.569 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
INFO     2022-05-20 14:37:04.574 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:37:04.575 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:37:04.575 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:37:04.676 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:37:04.678 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:37:04.679 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:37:04.682 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:37:04.684 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:37:04.685 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:37:04.688 request id: app - uvicorn.server:serve - Finished server process [24920]
INFO     2022-05-20 14:37:04.690 request id: app - uvicorn.server:serve - Finished server process [24920]
INFO     2022-05-20 14:37:04.691 request id: app - uvicorn.server:serve - Finished server process [24920]
INFO     2022-05-20 14:37:06.845 request id: app - uvicorn.server:serve - Started server process [25086]
INFO     2022-05-20 14:37:06.845 request id: app - uvicorn.server:serve - Started server process [25086]
INFO     2022-05-20 14:37:06.845 request id: app - uvicorn.server:serve - Started server process [25086]
INFO     2022-05-20 14:37:06.846 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:37:06.846 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:37:06.846 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:37:06.847 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:37:06.847 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:37:06.848 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:37:15.255 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48210 - "POST /order/ HTTP/1.1" 201
INFO     2022-05-20 14:37:22.667 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48212 - "GET /order/ HTTP/1.1" 200
INFO     2022-05-20 14:37:42.739 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48214 - "GET /order/1/ HTTP/1.1" 404
INFO     2022-05-20 14:37:46.290 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48214 - "GET /order/2/ HTTP/1.1" 404
WARNING  2022-05-20 14:37:57.459 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/order_endpoints.py']'. Reloading...
INFO     2022-05-20 14:37:57.462 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:37:57.463 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:37:57.463 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:37:57.564 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:37:57.564 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:37:57.565 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:37:57.565 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:37:57.566 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:37:57.566 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:37:57.567 request id: app - uvicorn.server:serve - Finished server process [25086]
INFO     2022-05-20 14:37:57.567 request id: app - uvicorn.server:serve - Finished server process [25086]
INFO     2022-05-20 14:37:57.567 request id: app - uvicorn.server:serve - Finished server process [25086]
INFO     2022-05-20 14:37:59.893 request id: app - uvicorn.server:serve - Started server process [25134]
INFO     2022-05-20 14:37:59.894 request id: app - uvicorn.server:serve - Started server process [25134]
INFO     2022-05-20 14:37:59.894 request id: app - uvicorn.server:serve - Started server process [25134]
INFO     2022-05-20 14:37:59.895 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:37:59.895 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:37:59.895 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:37:59.896 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:37:59.896 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:37:59.897 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:37:59.987 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48220 - "GET /order/2/ HTTP/1.1" 200
INFO     2022-05-20 14:38:09.324 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48222 - "DELETE /order/3/ HTTP/1.1" 204
ERROR    2022-05-20 14:38:09.327 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f8324af5700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f8324acfb80>
           └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f8324acf1f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f8324bc01f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
    │    └ <function subprocess_started at 0x7f831dd99af0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f8324bc0160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f831dd8fc10>
           │       │   └ <uvicorn.server.Server object at 0x7f8324bc0160>
           │       └ <function run at 0x7f8324cce790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f830d74fcc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f830d39b430>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc77970>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f830d39b4c0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc77970>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc77970>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f830d390fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f830d7690d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f830d390fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f830cce98e0>
          └ <fastapi.applications.FastAPI object at 0x7f830d7690d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f8324acff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f830cce9e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f830cce98e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f830cce9c10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f830cce9e20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f830cce9fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f830cce9c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f831cd229d0>
          └ <fastapi.routing.APIRoute object at 0x7f830ccb5b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f830cc92700>
          └ <fastapi.routing.APIRoute object at 0x7f830ccb5b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 63, in app
    await response(scope, receive, send)
          │        │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          └ <starlette.responses.JSONResponse object at 0x7f830c3a5610>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/responses.py", line 167, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'null'
          │                                           └ <starlette.responses.JSONResponse object at 0x7f830c3a5610>
          └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 79, in sender
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f8324acff70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 501, in send
    raise RuntimeError("Response content longer than Content-Length")

RuntimeError: Response content longer than Content-Length
ERROR    2022-05-20 14:38:09.374 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f8324af5700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f8324acfb80>
           └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f8324acf1f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f8324bc01f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
    │    └ <function subprocess_started at 0x7f831dd99af0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f8324bc0160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f831dd8fc10>
           │       │   └ <uvicorn.server.Server object at 0x7f8324bc0160>
           │       └ <function run at 0x7f8324cce790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f830d74fcc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f830d39b430>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc77970>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f830d39b4c0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc77970>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc77970>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f830d390fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f830d7690d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f830d390fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f830cce98e0>
          └ <fastapi.applications.FastAPI object at 0x7f830d7690d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f8324acff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f830cce9e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f830cce98e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f830cce9c10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f830cce9e20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f830cce9fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f830cce9c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f831cd229d0>
          └ <fastapi.routing.APIRoute object at 0x7f830ccb5b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f830cc92700>
          └ <fastapi.routing.APIRoute object at 0x7f830ccb5b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 63, in app
    await response(scope, receive, send)
          │        │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          └ <starlette.responses.JSONResponse object at 0x7f830c3a5610>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/responses.py", line 167, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'null'
          │                                           └ <starlette.responses.JSONResponse object at 0x7f830c3a5610>
          └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 79, in sender
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f8324acff70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 501, in send
    raise RuntimeError("Response content longer than Content-Length")

RuntimeError: Response content longer than Content-Length
ERROR    2022-05-20 14:38:09.404 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f8324af5700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f8324acfb80>
           └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f8324acf1f0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f8324bc01f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
    │    └ <function subprocess_started at 0x7f831dd99af0>
    └ <SpawnProcess name='SpawnProcess-3' parent=24911 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f8324bc0160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f831dd8fc10>
           │       │   └ <uvicorn.server.Server object at 0x7f8324bc0160>
           │       └ <function run at 0x7f8324cce790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f830d74fcc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f830d39b430>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc77970>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f830d39b4c0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc77970>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc77970>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f830d390fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f830d7690d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f830d390fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f830cce98e0>
          └ <fastapi.applications.FastAPI object at 0x7f830d7690d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f8324acff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f830cce9e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f830cce98e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f830cce9c10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f830cce9e20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f830cce9fa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f830cce9c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f831cd229d0>
          └ <fastapi.routing.APIRoute object at 0x7f830ccb5b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f830cc92700>
          └ <fastapi.routing.APIRoute object at 0x7f830ccb5b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 63, in app
    await response(scope, receive, send)
          │        │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc...
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          └ <starlette.responses.JSONResponse object at 0x7f830c3a5610>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/responses.py", line 167, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'null'
          │                                           └ <starlette.responses.JSONResponse object at 0x7f830c3a5610>
          └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f830c3a10d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 79, in sender
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f8324acff70>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'null'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f830cc779...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 501, in send
    raise RuntimeError("Response content longer than Content-Length")

RuntimeError: Response content longer than Content-Length
WARNING  2022-05-20 14:38:17.067 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/order_endpoints.py']'. Reloading...
INFO     2022-05-20 14:38:17.166 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:38:17.168 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:38:17.170 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:38:17.272 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:38:17.272 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:38:17.273 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:38:17.274 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:38:17.275 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:38:17.276 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:38:17.277 request id: app - uvicorn.server:serve - Finished server process [25134]
INFO     2022-05-20 14:38:17.277 request id: app - uvicorn.server:serve - Finished server process [25134]
INFO     2022-05-20 14:38:17.278 request id: app - uvicorn.server:serve - Finished server process [25134]
INFO     2022-05-20 14:38:19.507 request id: app - uvicorn.server:serve - Started server process [25154]
INFO     2022-05-20 14:38:19.508 request id: app - uvicorn.server:serve - Started server process [25154]
INFO     2022-05-20 14:38:19.508 request id: app - uvicorn.server:serve - Started server process [25154]
INFO     2022-05-20 14:38:19.508 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:38:19.509 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:38:19.509 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:38:19.510 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:38:19.510 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:38:19.510 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:38:19.590 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48226 - "DELETE /order/3/ HTTP/1.1" 404
INFO     2022-05-20 14:38:29.555 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48230 - "GET /order/ HTTP/1.1" 200
INFO     2022-05-20 14:47:38.807 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48244 - "PUT /order/1/ HTTP/1.1" 422
INFO     2022-05-20 14:47:43.149 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48244 - "PUT /order/1/ HTTP/1.1" 500
ERROR    2022-05-20 14:47:43.150 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f28c9614700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f28c962eb80>
           └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f28c962e1f0>
    └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f28c96a21f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
    │    └ <function subprocess_started at 0x7f28c800caf0>
    └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f28c96a2160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f28c8081c10>
           │       │   └ <uvicorn.server.Server object at 0x7f28c96a2160>
           │       └ <function run at 0x7f28c96da790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f28ae234cc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f28ade7f430>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f28ade7f4c0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f28ade75fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f28ae24e0d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f28ade75fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f28ad7cd8e0>
          └ <fastapi.applications.FastAPI object at 0x7f28ae24e0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f28ace86940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f28ad7cde20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f28ad7cd8e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f28ad7cdc10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f28ad7cde20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f28ad7cdfa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f28ad7cdc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f28c18049d0>
          └ <fastapi.routing.APIRoute object at 0x7f28ad78ec40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f28ad7755e0>
          └ <fastapi.routing.APIRoute object at 0x7f28ad78ec40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f28ace4b4f0>
                     └ <function get_request_handler.<locals>.app at 0x7f28ad775550>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f28c18713a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_update_order_order__id_order___put', type=Optional[Order], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Order', errors=[{'loc': ('address',), 'msg': 'field required', 'type': 'value_error....
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 5 validation errors for Order
response -> address
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
response -> products
  field required (type=value_error.missing)
response -> user_id
  field required (type=value_error.missing)
response -> date
  field required (type=value_error.missing)
ERROR    2022-05-20 14:47:43.195 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f28c9614700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f28c962eb80>
           └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f28c962e1f0>
    └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f28c96a21f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
    │    └ <function subprocess_started at 0x7f28c800caf0>
    └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f28c96a2160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f28c8081c10>
           │       │   └ <uvicorn.server.Server object at 0x7f28c96a2160>
           │       └ <function run at 0x7f28c96da790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f28ae234cc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f28ade7f430>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f28ade7f4c0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f28ade75fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f28ae24e0d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f28ade75fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f28ad7cd8e0>
          └ <fastapi.applications.FastAPI object at 0x7f28ae24e0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f28ace86940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f28ad7cde20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f28ad7cd8e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f28ad7cdc10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f28ad7cde20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f28ad7cdfa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f28ad7cdc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f28c18049d0>
          └ <fastapi.routing.APIRoute object at 0x7f28ad78ec40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f28ad7755e0>
          └ <fastapi.routing.APIRoute object at 0x7f28ad78ec40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f28ace4b4f0>
                     └ <function get_request_handler.<locals>.app at 0x7f28ad775550>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f28c18713a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_update_order_order__id_order___put', type=Optional[Order], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Order', errors=[{'loc': ('address',), 'msg': 'field required', 'type': 'value_error....
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 5 validation errors for Order
response -> address
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
response -> products
  field required (type=value_error.missing)
response -> user_id
  field required (type=value_error.missing)
response -> date
  field required (type=value_error.missing)
ERROR    2022-05-20 14:47:43.219 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f28c9614700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f28c962eb80>
           └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f28c962e1f0>
    └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f28c96a21f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
    │    └ <function subprocess_started at 0x7f28c800caf0>
    └ <SpawnProcess name='SpawnProcess-4' parent=24911 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f28c96a2160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f28c8081c10>
           │       │   └ <uvicorn.server.Server object at 0x7f28c96a2160>
           │       └ <function run at 0x7f28c96da790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f28ae234cc0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f28ade7f430>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f28ade7f4c0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f28ade75fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f28ae24e0d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f28ade75fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace4b0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f28ad7cd8e0>
          └ <fastapi.applications.FastAPI object at 0x7f28ae24e0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f28ace86940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f28ad7cde20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f28ad7cd8e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f28ad7cdc10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f28ad7cde20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f28ad7cdfa0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f28ad7cdc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f28c18049d0>
          └ <fastapi.routing.APIRoute object at 0x7f28ad78ec40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f28ace86160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f28ace...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f28ad7755e0>
          └ <fastapi.routing.APIRoute object at 0x7f28ad78ec40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f28ace4b4f0>
                     └ <function get_request_handler.<locals>.app at 0x7f28ad775550>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f28c18713a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_update_order_order__id_order___put', type=Optional[Order], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Order', errors=[{'loc': ('address',), 'msg': 'field required', 'type': 'value_error....
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 5 validation errors for Order
response -> address
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
response -> products
  field required (type=value_error.missing)
response -> user_id
  field required (type=value_error.missing)
response -> date
  field required (type=value_error.missing)
WARNING  2022-05-20 14:47:59.297 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/order_endpoints.py']'. Reloading...
INFO     2022-05-20 14:47:59.312 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:47:59.312 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:47:59.312 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:47:59.413 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:47:59.414 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:47:59.415 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:47:59.416 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:47:59.417 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:47:59.417 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:47:59.419 request id: app - uvicorn.server:serve - Finished server process [25154]
INFO     2022-05-20 14:47:59.420 request id: app - uvicorn.server:serve - Finished server process [25154]
INFO     2022-05-20 14:47:59.420 request id: app - uvicorn.server:serve - Finished server process [25154]
INFO     2022-05-20 14:48:01.474 request id: app - uvicorn.server:serve - Started server process [25493]
INFO     2022-05-20 14:48:01.475 request id: app - uvicorn.server:serve - Started server process [25493]
INFO     2022-05-20 14:48:01.475 request id: app - uvicorn.server:serve - Started server process [25493]
INFO     2022-05-20 14:48:01.476 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:48:01.476 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:48:01.476 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:48:01.477 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:48:01.477 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:48:01.478 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:48:01.566 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48250 - "PUT /order/1/ HTTP/1.1" 202
WARNING  2022-05-20 14:54:01.140 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/category.py', '/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/category_endpoints.py']'. Reloading...
INFO     2022-05-20 14:54:01.222 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:54:01.224 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:54:01.225 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:54:01.327 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:54:01.328 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:54:01.330 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:54:01.333 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:54:01.334 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:54:01.336 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:54:01.336 request id: app - uvicorn.server:serve - Finished server process [25493]
INFO     2022-05-20 14:54:01.337 request id: app - uvicorn.server:serve - Finished server process [25493]
INFO     2022-05-20 14:54:01.337 request id: app - uvicorn.server:serve - Finished server process [25493]
INFO     2022-05-20 14:54:03.403 request id: app - uvicorn.server:serve - Started server process [25777]
INFO     2022-05-20 14:54:03.404 request id: app - uvicorn.server:serve - Started server process [25777]
INFO     2022-05-20 14:54:03.404 request id: app - uvicorn.server:serve - Started server process [25777]
INFO     2022-05-20 14:54:03.405 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:54:03.405 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:54:03.405 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 14:54:03.406 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:54:03.406 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:54:03.407 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 14:54:07.947 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48278 - "GET /category/ HTTP/1.1" 200
INFO     2022-05-20 14:54:15.269 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48280 - "POST /category/ HTTP/1.1" 201
INFO     2022-05-20 14:54:19.989 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48280 - "GET /category/2/ HTTP/1.1" 404
INFO     2022-05-20 14:54:29.579 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48284 - "GET /category/ HTTP/1.1" 200
INFO     2022-05-20 14:54:35.362 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48286 - "GET /category/4/ HTTP/1.1" 200
INFO     2022-05-20 14:55:13.144 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48288 - "GET /product/ HTTP/1.1" 200
INFO     2022-05-20 14:55:36.864 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48290 - "PATCH /category/4/product/4 HTTP/1.1" 202
INFO     2022-05-20 14:55:41.062 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48290 - "PATCH /category/4/product/1 HTTP/1.1" 202
INFO     2022-05-20 14:55:46.740 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48294 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 14:55:47.201 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48294 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 14:55:53.146 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48296 - "GET /category/products HTTP/1.1" 200
INFO     2022-05-20 14:55:58.763 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48300 - "POST /category/ HTTP/1.1" 201
INFO     2022-05-20 14:56:04.919 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48302 - "GET /category/ HTTP/1.1" 200
WARNING  2022-05-20 14:57:35.240 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/product.py']'. Reloading...
INFO     2022-05-20 14:57:35.268 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:57:35.269 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:57:35.269 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 14:57:35.370 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:57:35.372 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:57:35.374 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 14:57:35.377 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:57:35.379 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:57:35.380 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 14:57:35.383 request id: app - uvicorn.server:serve - Finished server process [25777]
INFO     2022-05-20 14:57:35.385 request id: app - uvicorn.server:serve - Finished server process [25777]
INFO     2022-05-20 14:57:35.386 request id: app - uvicorn.server:serve - Finished server process [25777]
WARNING  2022-05-20 15:01:21.249 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/product.py']'. Reloading...
WARNING  2022-05-20 15:01:24.798 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/product.py']'. Reloading...
WARNING  2022-05-20 15:01:59.989 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/product.py']'. Reloading...
WARNING  2022-05-20 15:02:14.385 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/product.py']'. Reloading...
INFO     2022-05-20 15:02:54.443 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [24911]
INFO     2022-05-20 15:06:52.757 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:06:52.758 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:06:52.882 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [27054] using watchgod
INFO     2022-05-20 15:06:53.449 request id: app - uvicorn.server:serve - Started server process [27059]
INFO     2022-05-20 15:06:53.449 request id: app - uvicorn.server:serve - Started server process [27059]
INFO     2022-05-20 15:06:53.449 request id: app - uvicorn.server:serve - Started server process [27059]
INFO     2022-05-20 15:06:53.449 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:06:53.450 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:06:53.450 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:06:53.450 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:06:53.450 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:06:53.451 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:07:01.055 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48442 - "GET /product/ HTTP/1.1" 500
ERROR    2022-05-20 15:07:01.056 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f96acdac5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f96ace543a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f96ace4a9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f96acd30f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
    │    └ <function subprocess_started at 0x7f96ac22b1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f96acd30fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f96ac21e430>
           │       │   └ <uvicorn.server.Server object at 0x7f96acd30fa0>
           │       └ <function run at 0x7f96acd2cc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f96a7312b40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f96a6d30040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a6837550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f96a6d300d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a6837550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a6837550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f96a7319910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68375...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f96a6b06f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f96a7319910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68375...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68375...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f96a689d400>
          └ <fastapi.applications.FastAPI object at 0x7f96a6b06f10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f96a68138b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f96a689d130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f96a689d400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f96a689d040>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f96a689d130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f96a6b06d30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f96a689d040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f96ab41d4c0>
          └ <fastapi.routing.APIRoute object at 0x7f96a6877220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f96a68c1af0>
          └ <fastapi.routing.APIRoute object at 0x7f96a6877220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f96a6837700>
                     └ <function get_request_handler.<locals>.app at 0x7f96a68c1a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f96ab40a0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer',...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
response -> 3 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:07:01.065 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f96acdac5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f96ace543a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f96ace4a9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f96acd30f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
    │    └ <function subprocess_started at 0x7f96ac22b1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f96acd30fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f96ac21e430>
           │       │   └ <uvicorn.server.Server object at 0x7f96acd30fa0>
           │       └ <function run at 0x7f96acd2cc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f96a7312b40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f96a6d30040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a6837550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f96a6d300d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a6837550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a6837550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f96a7319910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68375...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f96a6b06f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f96a7319910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68375...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68375...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f96a689d400>
          └ <fastapi.applications.FastAPI object at 0x7f96a6b06f10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f96a68138b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f96a689d130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f96a689d400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f96a689d040>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f96a689d130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f96a6b06d30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f96a689d040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f96ab41d4c0>
          └ <fastapi.routing.APIRoute object at 0x7f96a6877220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f96a68c1af0>
          └ <fastapi.routing.APIRoute object at 0x7f96a6877220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f96a6837700>
                     └ <function get_request_handler.<locals>.app at 0x7f96a68c1a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f96ab40a0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer',...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
response -> 3 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:07:01.070 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f96acdac5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f96ace543a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f96ace4a9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f96acd30f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
    │    └ <function subprocess_started at 0x7f96ac22b1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27054 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f96acd30fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f96ac21e430>
           │       │   └ <uvicorn.server.Server object at 0x7f96acd30fa0>
           │       └ <function run at 0x7f96acd2cc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f96a7312b40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f96a6d30040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a6837550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f96a6d300d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a6837550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a6837550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f96a7319910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68375...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f96a6b06f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f96a7319910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68375...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68375...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f96a689d400>
          └ <fastapi.applications.FastAPI object at 0x7f96a6b06f10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f96a68138b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f96a689d130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f96a689d400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f96a689d040>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f96a689d130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f96a6b06d30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f96a689d040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f96ab41d4c0>
          └ <fastapi.routing.APIRoute object at 0x7f96a6877220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f96a6813940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f96a68...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f96a68c1af0>
          └ <fastapi.routing.APIRoute object at 0x7f96a6877220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f96a6837700>
                     └ <function get_request_handler.<locals>.app at 0x7f96a68c1a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f96ab40a0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer',...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
response -> 3 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
INFO     2022-05-20 15:07:22.831 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:07:22.832 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:07:22.833 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:07:22.933 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:07:22.933 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:07:22.933 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:07:22.934 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:07:22.934 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:07:22.934 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:07:22.934 request id: app - uvicorn.server:serve - Finished server process [27059]
INFO     2022-05-20 15:07:22.935 request id: app - uvicorn.server:serve - Finished server process [27059]
INFO     2022-05-20 15:07:22.935 request id: app - uvicorn.server:serve - Finished server process [27059]
INFO     2022-05-20 15:07:23.004 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [27054]
INFO     2022-05-20 15:07:23.640 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:07:23.641 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:07:23.772 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [27109] using watchgod
INFO     2022-05-20 15:07:24.321 request id: app - uvicorn.server:serve - Started server process [27114]
INFO     2022-05-20 15:07:24.321 request id: app - uvicorn.server:serve - Started server process [27114]
INFO     2022-05-20 15:07:24.321 request id: app - uvicorn.server:serve - Started server process [27114]
INFO     2022-05-20 15:07:24.322 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:07:24.322 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:07:24.322 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:07:24.322 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:07:24.323 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:07:24.323 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:07:27.130 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:07:27.131 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:07:27.131 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:07:27.232 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:07:27.232 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:07:27.232 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:07:27.233 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:07:27.233 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:07:27.233 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:07:27.233 request id: app - uvicorn.server:serve - Finished server process [27114]
INFO     2022-05-20 15:07:27.234 request id: app - uvicorn.server:serve - Finished server process [27114]
INFO     2022-05-20 15:07:27.234 request id: app - uvicorn.server:serve - Finished server process [27114]
INFO     2022-05-20 15:07:27.313 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [27109]
INFO     2022-05-20 15:07:29.062 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:07:29.063 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:07:29.561 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [27123] using watchgod
INFO     2022-05-20 15:07:31.181 request id: app - uvicorn.server:serve - Started server process [27132]
INFO     2022-05-20 15:07:31.181 request id: app - uvicorn.server:serve - Started server process [27132]
INFO     2022-05-20 15:07:31.182 request id: app - uvicorn.server:serve - Started server process [27132]
INFO     2022-05-20 15:07:31.182 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:07:31.182 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:07:31.182 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:07:31.183 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:07:31.183 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:07:31.184 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:08:09.954 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:08:09.956 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:08:09.958 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:08:10.060 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-20 15:08:10.062 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-20 15:08:10.063 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-20 15:09:25.901 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:09:25.901 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:09:26.032 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [27261] using watchgod
INFO     2022-05-20 15:09:26.625 request id: app - uvicorn.server:serve - Started server process [27273]
INFO     2022-05-20 15:09:26.625 request id: app - uvicorn.server:serve - Started server process [27273]
INFO     2022-05-20 15:09:26.625 request id: app - uvicorn.server:serve - Started server process [27273]
INFO     2022-05-20 15:09:26.626 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:09:26.626 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:09:26.626 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:09:26.626 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:09:26.627 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:09:26.627 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:09:28.431 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48464 - "GET /product/1 HTTP/1.1" 500
ERROR    2022-05-20 15:09:28.432 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f8607f7f5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f86080273a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f860801d9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f8607f03f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
    │    └ <function subprocess_started at 0x7f86073fe1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f8607f03fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f86073f1430>
           │       │   └ <uvicorn.server.Server object at 0x7f8607f03fa0>
           │       └ <function run at 0x7f8607effc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f86024e5b40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f8601f03040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a08550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f8601f030d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a08550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a08550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f86024ed910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a085...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f8601cd9f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f86024ed910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a085...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a085...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8601a70400>
          └ <fastapi.applications.FastAPI object at 0x7f8601cd9f10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f86019e68b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8601a70130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8601a70400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8601a70040>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8601a70130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f8601cd9d30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8601a70040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f86065f14c0>
          └ <fastapi.routing.APIRoute object at 0x7f8601a44820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f8601a949d0>
          └ <fastapi.routing.APIRoute object at 0x7f8601a44820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f8601a08700>
                     └ <function get_request_handler.<locals>.app at 0x7f8601a94940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f86065de0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:09:28.441 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f8607f7f5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f86080273a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f860801d9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f8607f03f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
    │    └ <function subprocess_started at 0x7f86073fe1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f8607f03fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f86073f1430>
           │       │   └ <uvicorn.server.Server object at 0x7f8607f03fa0>
           │       └ <function run at 0x7f8607effc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f86024e5b40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f8601f03040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a08550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f8601f030d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a08550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a08550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f86024ed910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a085...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f8601cd9f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f86024ed910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a085...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a085...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8601a70400>
          └ <fastapi.applications.FastAPI object at 0x7f8601cd9f10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f86019e68b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8601a70130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8601a70400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8601a70040>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8601a70130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f8601cd9d30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8601a70040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f86065f14c0>
          └ <fastapi.routing.APIRoute object at 0x7f8601a44820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f8601a949d0>
          └ <fastapi.routing.APIRoute object at 0x7f8601a44820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f8601a08700>
                     └ <function get_request_handler.<locals>.app at 0x7f8601a94940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f86065de0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:09:28.447 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f8607f7f5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f86080273a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f860801d9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f8607f03f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
    │    └ <function subprocess_started at 0x7f86073fe1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27261 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f8607f03fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f86073f1430>
           │       │   └ <uvicorn.server.Server object at 0x7f8607f03fa0>
           │       └ <function run at 0x7f8607effc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f86024e5b40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f8601f03040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a08550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f8601f030d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a08550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a08550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f86024ed910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a085...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f8601cd9f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f86024ed910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a085...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a085...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8601a70400>
          └ <fastapi.applications.FastAPI object at 0x7f8601cd9f10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f86019e68b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8601a70130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8601a70400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8601a70040>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8601a70130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f8601cd9d30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8601a70040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f86065f14c0>
          └ <fastapi.routing.APIRoute object at 0x7f8601a44820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f86019e6940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8601a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f8601a949d0>
          └ <fastapi.routing.APIRoute object at 0x7f8601a44820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f8601a08700>
                     └ <function get_request_handler.<locals>.app at 0x7f8601a94940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f86065de0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
INFO     2022-05-20 15:09:35.950 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:09:35.950 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:09:35.950 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:09:36.051 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:09:36.052 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:09:36.053 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:09:36.055 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:09:36.055 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:09:36.057 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:09:36.058 request id: app - uvicorn.server:serve - Finished server process [27273]
INFO     2022-05-20 15:09:36.059 request id: app - uvicorn.server:serve - Finished server process [27273]
INFO     2022-05-20 15:09:36.060 request id: app - uvicorn.server:serve - Finished server process [27273]
INFO     2022-05-20 15:09:36.149 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [27261]
INFO     2022-05-20 15:09:37.787 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:09:37.788 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:09:38.287 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [27312] using watchgod
INFO     2022-05-20 15:09:39.922 request id: app - uvicorn.server:serve - Started server process [27333]
INFO     2022-05-20 15:09:39.922 request id: app - uvicorn.server:serve - Started server process [27333]
INFO     2022-05-20 15:09:39.923 request id: app - uvicorn.server:serve - Started server process [27333]
INFO     2022-05-20 15:09:39.923 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:09:39.923 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:09:39.923 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:09:39.924 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:09:39.924 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:09:39.925 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:09:40.601 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48478 - "GET /product/1 HTTP/1.1" 500
ERROR    2022-05-20 15:09:40.601 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f1fbe761700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f1fbe738b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1fbe7381f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1fbe82a1f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    └ <function subprocess_started at 0x7f1fbc211af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1fbe82a160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1fbc207c10>
           │       │   └ <uvicorn.server.Server object at 0x7f1fbe82a160>
           │       └ <function run at 0x7f1fbe939790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1fa338f2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1fa2fb2820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0ee0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1fa2fb28b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0ee0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0ee0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
          └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1fa28739d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1fa28f4e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1fae9919d0>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1fa28a6d30>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1fa28c86a0>
                     └ <function get_request_handler.<locals>.app at 0x7f1fa28a6ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1fae9ff3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:09:40.647 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f1fbe761700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f1fbe738b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1fbe7381f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1fbe82a1f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    └ <function subprocess_started at 0x7f1fbc211af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1fbe82a160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1fbc207c10>
           │       │   └ <uvicorn.server.Server object at 0x7f1fbe82a160>
           │       └ <function run at 0x7f1fbe939790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1fa338f2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1fa2fb2820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0ee0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1fa2fb28b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0ee0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0ee0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
          └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1fa28739d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1fa28f4e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1fae9919d0>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1fa28a6d30>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1fa28c86a0>
                     └ <function get_request_handler.<locals>.app at 0x7f1fa28a6ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1fae9ff3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:09:40.672 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f1fbe761700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f1fbe738b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1fbe7381f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1fbe82a1f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    └ <function subprocess_started at 0x7f1fbc211af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1fbe82a160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1fbc207c10>
           │       │   └ <uvicorn.server.Server object at 0x7f1fbe82a160>
           │       └ <function run at 0x7f1fbe939790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1fa338f2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1fa2fb2820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0ee0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1fa2fb28b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0ee0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0ee0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28c0e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
          └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1fa28739d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1fa28f4e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1fae9919d0>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa2873a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa28...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1fa28a6d30>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1fa28c86a0>
                     └ <function get_request_handler.<locals>.app at 0x7f1fa28a6ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1fae9ff3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
WARNING  2022-05-20 15:10:00.438 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 15:10:00.488 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:10:00.489 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:10:00.489 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:10:00.590 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-20 15:10:00.590 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-20 15:10:00.591 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-20 15:10:04.296 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48480 - "GET /product/1 HTTP/1.1" 500
ERROR    2022-05-20 15:10:04.297 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f1fbe761700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f1fbe738b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1fbe7381f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1fbe82a1f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    └ <function subprocess_started at 0x7f1fbc211af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1fbe82a160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
           │       │   │    └ <function Server.serve at 0x7f1fbc207c10>
           │       │   └ <uvicorn.server.Server object at 0x7f1fbe82a160>
           │       └ <function run at 0x7f1fbe939790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1fa338f2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1fa2fb2820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5b0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1fa2fb28b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5b0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5b0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
          └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1fa1f10040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1fa28f4e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1fae9919d0>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1fa28a6d30>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1fa1fcc9d0>
                     └ <function get_request_handler.<locals>.app at 0x7f1fa28a6ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1fae9ff3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:10:04.337 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f1fbe761700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f1fbe738b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1fbe7381f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1fbe82a1f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    └ <function subprocess_started at 0x7f1fbc211af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1fbe82a160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
           │       │   │    └ <function Server.serve at 0x7f1fbc207c10>
           │       │   └ <uvicorn.server.Server object at 0x7f1fbe82a160>
           │       └ <function run at 0x7f1fbe939790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1fa338f2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1fa2fb2820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5b0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1fa2fb28b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5b0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5b0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
          └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1fa1f10040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1fa28f4e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1fae9919d0>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1fa28a6d30>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1fa1fcc9d0>
                     └ <function get_request_handler.<locals>.app at 0x7f1fa28a6ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1fae9ff3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:10:04.364 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f1fbe761700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f1fbe738b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1fbe7381f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1fbe82a1f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
    │    └ <function subprocess_started at 0x7f1fbc211af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27312 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1fbe82a160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
           │       │   │    └ <function Server.serve at 0x7f1fbc207c10>
           │       │   └ <uvicorn.server.Server object at 0x7f1fbe82a160>
           │       └ <function run at 0x7f1fbe939790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1fa338f2c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1fa2fb2820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5b0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1fa2fb28b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5b0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5b0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fa33a81c0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1fcc5...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
          └ <fastapi.applications.FastAPI object at 0x7f1fa28f4fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1fa1f10040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fa28f4940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fa28f4d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1fa28f4e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fa28f4ac0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1fae9919d0>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1fa1f100d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1fa1f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1fa28a6d30>
          └ <fastapi.routing.APIRoute object at 0x7f1fa28de880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1fa1fcc9d0>
                     └ <function get_request_handler.<locals>.app at 0x7f1fa28a6ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1fae9ff3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
INFO     2022-05-20 15:10:04.390 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:10:04.391 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:10:04.391 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:10:04.392 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:10:04.392 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:10:04.393 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:10:04.394 request id: app - uvicorn.server:serve - Finished server process [27333]
INFO     2022-05-20 15:10:04.394 request id: app - uvicorn.server:serve - Finished server process [27333]
INFO     2022-05-20 15:10:04.395 request id: app - uvicorn.server:serve - Finished server process [27333]
INFO     2022-05-20 15:10:06.728 request id: app - uvicorn.server:serve - Started server process [27384]
INFO     2022-05-20 15:10:06.728 request id: app - uvicorn.server:serve - Started server process [27384]
INFO     2022-05-20 15:10:06.729 request id: app - uvicorn.server:serve - Started server process [27384]
INFO     2022-05-20 15:10:06.729 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:10:06.729 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:10:06.730 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:10:06.730 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:10:06.731 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:10:06.731 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:10:10.424 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48486 - "GET /product/1 HTTP/1.1" 500
ERROR    2022-05-20 15:10:10.426 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7fc44f507700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc44f4dfb80>
           └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc44f4df1f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc44f5d21f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
    │    └ <function subprocess_started at 0x7fc44c4e3af0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc44f5d2160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fc44c7b0c10>
           │       │   └ <uvicorn.server.Server object at 0x7fc44f5d2160>
           │       └ <function run at 0x7fc44f609790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fc4341432c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fc4340fa820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f070>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fc4340fa8b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f070>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f070>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc43415b220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc434070fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc43415b220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc434070910>
          └ <fastapi.applications.FastAPI object at 0x7fc434070fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc42f6089d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc434070d60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc434070910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc434070a60>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc434070d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fc434070e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc434070a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fc4377409d0>
          └ <fastapi.routing.APIRoute object at 0x7fc4340578e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fc43401ed30>
          └ <fastapi.routing.APIRoute object at 0x7fc4340578e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fc43408f700>
                     └ <function get_request_handler.<locals>.app at 0x7fc43401eca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fc4377ae3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:10:10.505 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7fc44f507700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc44f4dfb80>
           └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc44f4df1f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc44f5d21f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
    │    └ <function subprocess_started at 0x7fc44c4e3af0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc44f5d2160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fc44c7b0c10>
           │       │   └ <uvicorn.server.Server object at 0x7fc44f5d2160>
           │       └ <function run at 0x7fc44f609790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fc4341432c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fc4340fa820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f070>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fc4340fa8b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f070>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f070>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc43415b220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc434070fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc43415b220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc434070910>
          └ <fastapi.applications.FastAPI object at 0x7fc434070fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc42f6089d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc434070d60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc434070910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc434070a60>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc434070d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fc434070e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc434070a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fc4377409d0>
          └ <fastapi.routing.APIRoute object at 0x7fc4340578e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fc43401ed30>
          └ <fastapi.routing.APIRoute object at 0x7fc4340578e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fc43408f700>
                     └ <function get_request_handler.<locals>.app at 0x7fc43401eca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fc4377ae3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:10:10.530 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7fc44f507700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc44f4dfb80>
           └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc44f4df1f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc44f5d21f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
    │    └ <function subprocess_started at 0x7fc44c4e3af0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27312 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc44f5d2160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fc44c7b0c10>
           │       │   └ <uvicorn.server.Server object at 0x7fc44f5d2160>
           │       └ <function run at 0x7fc44f609790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fc4341432c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fc4340fa820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f070>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fc4340fa8b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f070>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f070>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc43415b220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc434070fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc43415b220>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc43408f0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc434070910>
          └ <fastapi.applications.FastAPI object at 0x7fc434070fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc42f6089d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc434070d60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc434070910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc434070a60>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc434070d60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fc434070e50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc434070a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fc4377409d0>
          └ <fastapi.routing.APIRoute object at 0x7fc4340578e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc42f608a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4340...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fc43401ed30>
          └ <fastapi.routing.APIRoute object at 0x7fc4340578e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fc43408f700>
                     └ <function get_request_handler.<locals>.app at 0x7fc43401eca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fc4377ae3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer', ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid integer (type=type_error.integer)
INFO     2022-05-20 15:11:03.778 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:11:03.778 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:11:03.779 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:11:03.880 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:11:03.882 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:11:03.883 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:11:03.885 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:11:03.885 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:11:03.886 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:11:03.886 request id: app - uvicorn.server:serve - Finished server process [27384]
INFO     2022-05-20 15:11:03.887 request id: app - uvicorn.server:serve - Finished server process [27384]
INFO     2022-05-20 15:11:03.887 request id: app - uvicorn.server:serve - Finished server process [27384]
INFO     2022-05-20 15:11:04.469 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [27312]
INFO     2022-05-20 15:11:05.664 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:11:05.665 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:11:05.797 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [27458] using watchgod
INFO     2022-05-20 15:11:06.376 request id: app - uvicorn.server:serve - Started server process [27464]
INFO     2022-05-20 15:11:06.377 request id: app - uvicorn.server:serve - Started server process [27464]
INFO     2022-05-20 15:11:06.377 request id: app - uvicorn.server:serve - Started server process [27464]
INFO     2022-05-20 15:11:06.377 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:11:06.377 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:11:06.377 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:11:06.378 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:11:06.378 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:11:06.378 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:11:07.927 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48492 - "GET /product/1 HTTP/1.1" 500
ERROR    2022-05-20 15:11:07.928 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f07627ff5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f07628a73a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f076289d9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f0762783f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
    │    └ <function subprocess_started at 0x7f0761c7e1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f0762783fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f0761c71430>
           │       │   └ <uvicorn.server.Server object at 0x7f0762783fa0>
           │       └ <function run at 0x7f076277fc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f075cd65b40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f075c783040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f075c7830d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f075cd6d910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a5...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f075c559f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f075cd6d910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a5...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a5...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f075c2f1400>
          └ <fastapi.applications.FastAPI object at 0x7f075c559f10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f075c2688b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f075c2f1130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f075c2f1400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f075c2f1040>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f075c2f1130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f075c559d30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f075c2f1040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f0760e714c0>
          └ <fastapi.routing.APIRoute object at 0x7f075c2c5820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f075c3159d0>
          └ <fastapi.routing.APIRoute object at 0x7f075c2c5820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f075c28a700>
                     └ <function get_request_handler.<locals>.app at 0x7f075c315940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f0760e5e280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f075c28aa00>, 'id_product': 1}
                 │                 │         └ <function get_product at 0x7f075df95790>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f075c2c5850>
                 └ <function run_in_threadpool at 0x7f076138ae50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_product at 0x7f075df95790>, db=<sqlalchemy.orm.session.Session object at 0x7f075c28aa00>, id_...
                 │     │         └ <function run_sync at 0x7f0761b96a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f0761c53670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('Incompatible collection type: None is not list-like')>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'TypeError'>, TypeError('Incompatible collection type: None is not list-like'), None)
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f075c28a910>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f075c24e940>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 19, in get_product
    product.categories = None
    │       └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f075e1795e0>
    └ <Product(name='some', description='des for saome')>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/attributes.py", line 459, in __set__
    self.impl.set(
    │    │    └ <function CollectionAttributeImpl.set at 0x7f075fc4f310>
    │    └ <sqlalchemy.orm.attributes.CollectionAttributeImpl object at 0x7f075c20a040>
    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f075e1795e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/attributes.py", line 1563, in set
    raise TypeError(

TypeError: Incompatible collection type: None is not list-like
ERROR    2022-05-20 15:11:07.940 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f07627ff5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f07628a73a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f076289d9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f0762783f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
    │    └ <function subprocess_started at 0x7f0761c7e1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f0762783fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f0761c71430>
           │       │   └ <uvicorn.server.Server object at 0x7f0762783fa0>
           │       └ <function run at 0x7f076277fc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f075cd65b40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f075c783040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f075c7830d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f075cd6d910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a5...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f075c559f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f075cd6d910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a5...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a5...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f075c2f1400>
          └ <fastapi.applications.FastAPI object at 0x7f075c559f10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f075c2688b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f075c2f1130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f075c2f1400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f075c2f1040>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f075c2f1130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f075c559d30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f075c2f1040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f0760e714c0>
          └ <fastapi.routing.APIRoute object at 0x7f075c2c5820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f075c3159d0>
          └ <fastapi.routing.APIRoute object at 0x7f075c2c5820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f075c28a700>
                     └ <function get_request_handler.<locals>.app at 0x7f075c315940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f0760e5e280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f075c28aa00>, 'id_product': 1}
                 │                 │         └ <function get_product at 0x7f075df95790>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f075c2c5850>
                 └ <function run_in_threadpool at 0x7f076138ae50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_product at 0x7f075df95790>, db=<sqlalchemy.orm.session.Session object at 0x7f075c28aa00>, id_...
                 │     │         └ <function run_sync at 0x7f0761b96a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f0761c53670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('Incompatible collection type: None is not list-like')>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'TypeError'>, TypeError('Incompatible collection type: None is not list-like'), None)
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f075c28a910>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f075c24e940>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 19, in get_product
    product.categories = None
    │       └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f075e1795e0>
    └ <Product(name='some', description='des for saome')>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/attributes.py", line 459, in __set__
    self.impl.set(
    │    │    └ <function CollectionAttributeImpl.set at 0x7f075fc4f310>
    │    └ <sqlalchemy.orm.attributes.CollectionAttributeImpl object at 0x7f075c20a040>
    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f075e1795e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/attributes.py", line 1563, in set
    raise TypeError(

TypeError: Incompatible collection type: None is not list-like
ERROR    2022-05-20 15:11:07.946 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f07627ff5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f07628a73a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f076289d9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f0762783f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
    │    └ <function subprocess_started at 0x7f0761c7e1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=27458 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f0762783fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f0761c71430>
           │       │   └ <uvicorn.server.Server object at 0x7f0762783fa0>
           │       └ <function run at 0x7f076277fc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f075cd65b40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f075c783040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f075c7830d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f075cd6d910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a5...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f075c559f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f075cd6d910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a5...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c28a5...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f075c2f1400>
          └ <fastapi.applications.FastAPI object at 0x7f075c559f10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f075c2688b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f075c2f1130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f075c2f1400>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f075c2f1040>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f075c2f1130>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f075c559d30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f075c2f1040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f0760e714c0>
          └ <fastapi.routing.APIRoute object at 0x7f075c2c5820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f075c268940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f075c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f075c3159d0>
          └ <fastapi.routing.APIRoute object at 0x7f075c2c5820>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f075c28a700>
                     └ <function get_request_handler.<locals>.app at 0x7f075c315940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f0760e5e280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f075c28aa00>, 'id_product': 1}
                 │                 │         └ <function get_product at 0x7f075df95790>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x7f075c2c5850>
                 └ <function run_in_threadpool at 0x7f076138ae50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function get_product at 0x7f075df95790>, db=<sqlalchemy.orm.session.Session object at 0x7f075c28aa00>, id_...
                 │     │         └ <function run_sync at 0x7f0761b96a60>
                 │     └ <module 'anyio.to_thread' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x7f0761c53670>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('Incompatible collection type: None is not list-like')>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ (<class 'TypeError'>, TypeError('Incompatible collection type: None is not list-like'), None)
             │       │   └ <bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f075c28a910>>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x7f075c24e940>

  File "/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py", line 19, in get_product
    product.categories = None
    │       └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f075e1795e0>
    └ <Product(name='some', description='des for saome')>

  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/attributes.py", line 459, in __set__
    self.impl.set(
    │    │    └ <function CollectionAttributeImpl.set at 0x7f075fc4f310>
    │    └ <sqlalchemy.orm.attributes.CollectionAttributeImpl object at 0x7f075c20a040>
    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f075e1795e0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/sqlalchemy/orm/attributes.py", line 1563, in set
    raise TypeError(

TypeError: Incompatible collection type: None is not list-like
WARNING  2022-05-20 15:11:37.371 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 15:11:37.459 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:11:37.460 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:11:37.460 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:11:37.562 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:11:37.562 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:11:37.563 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:11:37.564 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:11:37.565 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:11:37.566 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:11:37.567 request id: app - uvicorn.server:serve - Finished server process [27464]
INFO     2022-05-20 15:11:37.568 request id: app - uvicorn.server:serve - Finished server process [27464]
INFO     2022-05-20 15:11:37.569 request id: app - uvicorn.server:serve - Finished server process [27464]
INFO     2022-05-20 15:11:38.273 request id: app - uvicorn.server:serve - Started server process [27557]
INFO     2022-05-20 15:11:38.274 request id: app - uvicorn.server:serve - Started server process [27557]
INFO     2022-05-20 15:11:38.274 request id: app - uvicorn.server:serve - Started server process [27557]
INFO     2022-05-20 15:11:38.274 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:11:38.274 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:11:38.274 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:11:38.275 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:11:38.275 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:11:38.275 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:11:39.068 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48496 - "GET /product/1 HTTP/1.1" 200
INFO     2022-05-20 15:11:57.852 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48498 - "GET /product/ HTTP/1.1" 500
ERROR    2022-05-20 15:11:57.853 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f95e63335e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f95e63db3a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f95e63d19d0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f95e62b7f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
    │    └ <function subprocess_started at 0x7f95e57b21f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f95e62b7fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f95e57a5430>
           │       │   └ <uvicorn.server.Server object at 0x7f95e62b7fa0>
           │       └ <function run at 0x7f95e62b3c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f95e089dac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f95e02b7040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c6550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f95e02b70d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c6550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c6550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f95e08a0940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c65...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f95e008dee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f95e08a0940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c65...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c65...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f95e0027430>
          └ <fastapi.applications.FastAPI object at 0x7f95e008dee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f95dbd42550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f95e0027040>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f95e0027430>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f95e0027250>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f95e0027040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f95e008dd30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f95e0027250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f95e49a44c0>
          └ <fastapi.routing.APIRoute object at 0x7f95dbdee250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f95e004caf0>
          └ <fastapi.routing.APIRoute object at 0x7f95dbdee250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f95db4be0d0>
                     └ <function get_request_handler.<locals>.app at 0x7f95e004ca60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f95e49920d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer',...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
response -> 3 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:11:57.862 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f95e63335e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f95e63db3a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f95e63d19d0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f95e62b7f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
    │    └ <function subprocess_started at 0x7f95e57b21f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f95e62b7fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f95e57a5430>
           │       │   └ <uvicorn.server.Server object at 0x7f95e62b7fa0>
           │       └ <function run at 0x7f95e62b3c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f95e089dac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f95e02b7040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c6550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f95e02b70d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c6550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c6550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f95e08a0940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c65...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f95e008dee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f95e08a0940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c65...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c65...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f95e0027430>
          └ <fastapi.applications.FastAPI object at 0x7f95e008dee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f95dbd42550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f95e0027040>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f95e0027430>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f95e0027250>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f95e0027040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f95e008dd30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f95e0027250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f95e49a44c0>
          └ <fastapi.routing.APIRoute object at 0x7f95dbdee250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f95e004caf0>
          └ <fastapi.routing.APIRoute object at 0x7f95dbdee250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f95db4be0d0>
                     └ <function get_request_handler.<locals>.app at 0x7f95e004ca60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f95e49920d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer',...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
response -> 3 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
ERROR    2022-05-20 15:11:57.868 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f95e63335e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f95e63db3a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f95e63d19d0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f95e62b7f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
    │    └ <function subprocess_started at 0x7f95e57b21f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=27458 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f95e62b7fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f95e57a5430>
           │       │   └ <uvicorn.server.Server object at 0x7f95e62b7fa0>
           │       └ <function run at 0x7f95e62b3c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f95e089dac0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f95e02b7040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c6550>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f95e02b70d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c6550>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c6550>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f95e08a0940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c65...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f95e008dee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f95e08a0940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c65...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4c65...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f95e0027430>
          └ <fastapi.applications.FastAPI object at 0x7f95e008dee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f95dbd42550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f95e0027040>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f95e0027430>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f95e0027250>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f95e0027040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f95e008dd30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f95e0027250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f95e49a44c0>
          └ <fastapi.routing.APIRoute object at 0x7f95dbdee250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f95db4c50d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f95db4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f95e004caf0>
          └ <fastapi.routing.APIRoute object at 0x7f95dbdee250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f95db4be0d0>
                     └ <function get_request_handler.<locals>.app at 0x7f95e004ca60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f95e49920d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid integer',...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
response -> 3 -> categories -> 0
  value is not a valid integer (type=type_error.integer)
WARNING  2022-05-20 15:12:06.200 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/routers/endpoints/product_endpoints.py']'. Reloading...
INFO     2022-05-20 15:12:06.250 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:12:06.251 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:12:06.252 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:12:06.353 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:12:06.353 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:12:06.353 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:12:06.353 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:12:06.354 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:12:06.354 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:12:06.354 request id: app - uvicorn.server:serve - Finished server process [27557]
INFO     2022-05-20 15:12:06.354 request id: app - uvicorn.server:serve - Finished server process [27557]
INFO     2022-05-20 15:12:06.354 request id: app - uvicorn.server:serve - Finished server process [27557]
INFO     2022-05-20 15:12:07.014 request id: app - uvicorn.server:serve - Started server process [27693]
INFO     2022-05-20 15:12:07.014 request id: app - uvicorn.server:serve - Started server process [27693]
INFO     2022-05-20 15:12:07.014 request id: app - uvicorn.server:serve - Started server process [27693]
INFO     2022-05-20 15:12:07.015 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:12:07.015 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:12:07.015 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:12:07.015 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:12:07.016 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:12:07.016 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 15:13:53.566 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/product.py']'. Reloading...
INFO     2022-05-20 15:13:53.586 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:13:53.587 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:13:53.587 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:13:53.688 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:13:53.689 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:13:53.690 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:13:53.692 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:13:53.693 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:13:53.694 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:13:53.695 request id: app - uvicorn.server:serve - Finished server process [27693]
INFO     2022-05-20 15:13:53.696 request id: app - uvicorn.server:serve - Finished server process [27693]
INFO     2022-05-20 15:13:53.697 request id: app - uvicorn.server:serve - Finished server process [27693]
WARNING  2022-05-20 15:38:37.202 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/__init__.py', '/home/denius/Desktop/FlaskRestApi/core/schemas/category.py']'. Reloading...
INFO     2022-05-20 15:38:41.373 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [27458]
INFO     2022-05-20 15:46:05.540 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:46:05.540 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:46:05.665 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [29802] using watchgod
INFO     2022-05-20 15:46:06.213 request id: app - uvicorn.server:serve - Started server process [29812]
INFO     2022-05-20 15:46:06.213 request id: app - uvicorn.server:serve - Started server process [29812]
INFO     2022-05-20 15:46:06.214 request id: app - uvicorn.server:serve - Started server process [29812]
INFO     2022-05-20 15:46:06.214 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:46:06.214 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:46:06.214 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:46:06.215 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:46:06.215 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:46:06.215 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:46:10.719 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48578 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 15:46:11.129 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48578 - "GET /openapi.json HTTP/1.1" 500
ERROR    2022-05-20 15:46:11.129 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f2ba094b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f2ba09f33a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f2ba09e99d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f2ba08cff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
    │    └ <function subprocess_started at 0x7f2b9fdca1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f2ba08cffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f2b9fdbd430>
           │       │   └ <uvicorn.server.Server object at 0x7f2ba08cffa0>
           │       └ <function run at 0x7f2ba08cbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2b9aad6640>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f2b9ab11040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f2b9ab110d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2b9aaf3bb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2b9aaf3bb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2b9a4518b0>
          └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2b9a3e1790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2b9a451eb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2b9a4518b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2b9a451b50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2b9a451eb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f2b9a451fd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2b9a451b50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f2b9efbd4c0>
          └ <starlette.routing.Route object at 0x7f2b9a451df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f2b9a45f5e0>
          └ <starlette.routing.Route object at 0x7f2b9a451df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f2b9a3799d0>
                     └ <function FastAPI.setup.<locals>.openapi at 0x7f2b9a45f1f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 224, in openapi
    return JSONResponse(self.openapi())
           │            │    └ <function FastAPI.openapi at 0x7f2ba01521f0>
           │            └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
           └ <class 'starlette.responses.JSONResponse'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 199, in openapi
    self.openapi_schema = get_openapi(
    │    │                └ <function get_openapi at 0x7f2b9ef67a60>
    │    └ None
    └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/openapi/utils.py", line 418, in get_openapi
    definitions = get_model_definitions(
                  └ <function get_model_definitions at 0x7f2b9ef8bdc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/utils.py", line 28, in get_model_definitions
    m_schema, m_definitions, m_nested_models = model_process_schema(
    │         │                                └ <cyfunction model_process_schema at 0x7f2b9f73d040>
    │         └ {}
    └ {'title': 'OrderCreate', 'type': 'object', 'properties': {'address': {'title': 'Address', 'maxLength': 100, 'type': 'string'}...

  File "pydantic/schema.py", line 590, in pydantic.schema.model_process_schema
    m_schema, m_definitions, nested_models = model_type_schema(
                                             └ <cyfunction model_type_schema at 0x7f2b9f73d110>

  File "pydantic/schema.py", line 631, in pydantic.schema.model_type_schema
    f_schema, f_definitions, f_nested_models = field_schema(
                                               └ <cyfunction field_schema at 0x7f2b9f734860>

  File "pydantic/schema.py", line 258, in pydantic.schema.field_schema
    f_schema, f_definitions, f_nested_models = field_type_schema(
                                               └ <cyfunction field_type_schema at 0x7f2b9f734ee0>

  File "pydantic/schema.py", line 536, in pydantic.schema.field_type_schema
    f_schema, f_definitions, f_nested_models = field_singleton_schema(
                                               └ <cyfunction field_singleton_schema at 0x7f2b9f73d520>

  File "pydantic/schema.py", line 932, in pydantic.schema.field_singleton_schema
    if issubclass(field_type, BaseModel):

  File "/usr/lib/python3.9/abc.py", line 123, in __subclasscheck__
    return _abc_subclasscheck(cls, subclass)
           │                  │    └ ForwardRef('List[Product]')
           │                  └ <class 'pydantic.main.BaseModel'>
           └ <built-in function _abc_subclasscheck>

TypeError: issubclass() arg 1 must be a class
ERROR    2022-05-20 15:46:11.141 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f2ba094b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f2ba09f33a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f2ba09e99d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f2ba08cff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
    │    └ <function subprocess_started at 0x7f2b9fdca1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f2ba08cffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f2b9fdbd430>
           │       │   └ <uvicorn.server.Server object at 0x7f2ba08cffa0>
           │       └ <function run at 0x7f2ba08cbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2b9aad6640>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f2b9ab11040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f2b9ab110d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2b9aaf3bb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2b9aaf3bb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2b9a4518b0>
          └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2b9a3e1790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2b9a451eb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2b9a4518b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2b9a451b50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2b9a451eb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f2b9a451fd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2b9a451b50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f2b9efbd4c0>
          └ <starlette.routing.Route object at 0x7f2b9a451df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f2b9a45f5e0>
          └ <starlette.routing.Route object at 0x7f2b9a451df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f2b9a3799d0>
                     └ <function FastAPI.setup.<locals>.openapi at 0x7f2b9a45f1f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 224, in openapi
    return JSONResponse(self.openapi())
           │            │    └ <function FastAPI.openapi at 0x7f2ba01521f0>
           │            └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
           └ <class 'starlette.responses.JSONResponse'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 199, in openapi
    self.openapi_schema = get_openapi(
    │    │                └ <function get_openapi at 0x7f2b9ef67a60>
    │    └ None
    └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/openapi/utils.py", line 418, in get_openapi
    definitions = get_model_definitions(
                  └ <function get_model_definitions at 0x7f2b9ef8bdc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/utils.py", line 28, in get_model_definitions
    m_schema, m_definitions, m_nested_models = model_process_schema(
    │         │                                └ <cyfunction model_process_schema at 0x7f2b9f73d040>
    │         └ {}
    └ {'title': 'OrderCreate', 'type': 'object', 'properties': {'address': {'title': 'Address', 'maxLength': 100, 'type': 'string'}...

  File "pydantic/schema.py", line 590, in pydantic.schema.model_process_schema
    m_schema, m_definitions, nested_models = model_type_schema(
                                             └ <cyfunction model_type_schema at 0x7f2b9f73d110>

  File "pydantic/schema.py", line 631, in pydantic.schema.model_type_schema
    f_schema, f_definitions, f_nested_models = field_schema(
                                               └ <cyfunction field_schema at 0x7f2b9f734860>

  File "pydantic/schema.py", line 258, in pydantic.schema.field_schema
    f_schema, f_definitions, f_nested_models = field_type_schema(
                                               └ <cyfunction field_type_schema at 0x7f2b9f734ee0>

  File "pydantic/schema.py", line 536, in pydantic.schema.field_type_schema
    f_schema, f_definitions, f_nested_models = field_singleton_schema(
                                               └ <cyfunction field_singleton_schema at 0x7f2b9f73d520>

  File "pydantic/schema.py", line 932, in pydantic.schema.field_singleton_schema
    if issubclass(field_type, BaseModel):

  File "/usr/lib/python3.9/abc.py", line 123, in __subclasscheck__
    return _abc_subclasscheck(cls, subclass)
           │                  │    └ ForwardRef('List[Product]')
           │                  └ <class 'pydantic.main.BaseModel'>
           └ <built-in function _abc_subclasscheck>

TypeError: issubclass() arg 1 must be a class
ERROR    2022-05-20 15:46:11.147 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f2ba094b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f2ba09f33a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f2ba09e99d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f2ba08cff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
    │    └ <function subprocess_started at 0x7f2b9fdca1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29802 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f2ba08cffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f2b9fdbd430>
           │       │   └ <uvicorn.server.Server object at 0x7f2ba08cffa0>
           │       └ <function run at 0x7f2ba08cbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2b9aad6640>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f2b9ab11040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f2b9ab110d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2b9aaf3bb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2b9aaf3bb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a38a3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2b9a4518b0>
          └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2b9a3e1790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2b9a451eb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2b9a4518b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2b9a451b50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2b9a451eb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f2b9a451fd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2b9a451b50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f2b9efbd4c0>
          └ <starlette.routing.Route object at 0x7f2b9a451df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f2b9a3e18b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f2b9a3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f2b9a45f5e0>
          └ <starlette.routing.Route object at 0x7f2b9a451df0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f2b9a3799d0>
                     └ <function FastAPI.setup.<locals>.openapi at 0x7f2b9a45f1f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 224, in openapi
    return JSONResponse(self.openapi())
           │            │    └ <function FastAPI.openapi at 0x7f2ba01521f0>
           │            └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
           └ <class 'starlette.responses.JSONResponse'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 199, in openapi
    self.openapi_schema = get_openapi(
    │    │                └ <function get_openapi at 0x7f2b9ef67a60>
    │    └ None
    └ <fastapi.applications.FastAPI object at 0x7f2b9aee2ee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/openapi/utils.py", line 418, in get_openapi
    definitions = get_model_definitions(
                  └ <function get_model_definitions at 0x7f2b9ef8bdc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/utils.py", line 28, in get_model_definitions
    m_schema, m_definitions, m_nested_models = model_process_schema(
    │         │                                └ <cyfunction model_process_schema at 0x7f2b9f73d040>
    │         └ {}
    └ {'title': 'OrderCreate', 'type': 'object', 'properties': {'address': {'title': 'Address', 'maxLength': 100, 'type': 'string'}...

  File "pydantic/schema.py", line 590, in pydantic.schema.model_process_schema
    m_schema, m_definitions, nested_models = model_type_schema(
                                             └ <cyfunction model_type_schema at 0x7f2b9f73d110>

  File "pydantic/schema.py", line 631, in pydantic.schema.model_type_schema
    f_schema, f_definitions, f_nested_models = field_schema(
                                               └ <cyfunction field_schema at 0x7f2b9f734860>

  File "pydantic/schema.py", line 258, in pydantic.schema.field_schema
    f_schema, f_definitions, f_nested_models = field_type_schema(
                                               └ <cyfunction field_type_schema at 0x7f2b9f734ee0>

  File "pydantic/schema.py", line 536, in pydantic.schema.field_type_schema
    f_schema, f_definitions, f_nested_models = field_singleton_schema(
                                               └ <cyfunction field_singleton_schema at 0x7f2b9f73d520>

  File "pydantic/schema.py", line 932, in pydantic.schema.field_singleton_schema
    if issubclass(field_type, BaseModel):

  File "/usr/lib/python3.9/abc.py", line 123, in __subclasscheck__
    return _abc_subclasscheck(cls, subclass)
           │                  │    └ ForwardRef('List[Product]')
           │                  └ <class 'pydantic.main.BaseModel'>
           └ <built-in function _abc_subclasscheck>

TypeError: issubclass() arg 1 must be a class
INFO     2022-05-20 15:46:45.737 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:46:45.737 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:46:45.738 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:46:45.838 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:46:45.840 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:46:45.841 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:46:45.842 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:46:45.843 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:46:45.844 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:46:45.845 request id: app - uvicorn.server:serve - Finished server process [29812]
INFO     2022-05-20 15:46:45.846 request id: app - uvicorn.server:serve - Finished server process [29812]
INFO     2022-05-20 15:46:45.848 request id: app - uvicorn.server:serve - Finished server process [29812]
INFO     2022-05-20 15:46:45.933 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [29802]
INFO     2022-05-20 15:46:47.694 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:46:47.695 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:46:47.819 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [29915] using watchgod
INFO     2022-05-20 15:46:48.384 request id: app - uvicorn.server:serve - Started server process [29920]
INFO     2022-05-20 15:46:48.384 request id: app - uvicorn.server:serve - Started server process [29920]
INFO     2022-05-20 15:46:48.384 request id: app - uvicorn.server:serve - Started server process [29920]
INFO     2022-05-20 15:46:48.384 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:46:48.385 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:46:48.385 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:46:48.385 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:46:48.386 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:46:48.386 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:46:49.468 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48588 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 15:46:49.810 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48588 - "GET /openapi.json HTTP/1.1" 500
ERROR    2022-05-20 15:46:49.811 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fad727d35e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fad7287b3a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fad728719d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fad72757f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
    │    └ <function subprocess_started at 0x7fad71c521f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fad72757fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fad71c45430>
           │       │   └ <uvicorn.server.Server object at 0x7fad72757fa0>
           │       └ <function run at 0x7fad72753c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fad6c95e640>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fad6c99a040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c213370>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fad6c99a0d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c213370>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c213370>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fad6c97bbb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2133...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fad6c97bbb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2133...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2133...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fad6c2da8b0>
          └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fad6c269820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fad6c2daeb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fad6c2da8b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fad6c2dab50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fad6c2daeb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fad6c2dafd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fad6c2dab50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fad70e444c0>
          └ <starlette.routing.Route object at 0x7fad6c2dadf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fad6c2e75e0>
          └ <starlette.routing.Route object at 0x7fad6c2dadf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fad6c201a30>
                     └ <function FastAPI.setup.<locals>.openapi at 0x7fad6c2e71f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 224, in openapi
    return JSONResponse(self.openapi())
           │            │    └ <function FastAPI.openapi at 0x7fad71fd51f0>
           │            └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
           └ <class 'starlette.responses.JSONResponse'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 199, in openapi
    self.openapi_schema = get_openapi(
    │    │                └ <function get_openapi at 0x7fad70defa60>
    │    └ None
    └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/openapi/utils.py", line 418, in get_openapi
    definitions = get_model_definitions(
                  └ <function get_model_definitions at 0x7fad70e13dc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/utils.py", line 28, in get_model_definitions
    m_schema, m_definitions, m_nested_models = model_process_schema(
    │         │                                └ <cyfunction model_process_schema at 0x7fad715c5040>
    │         └ {}
    └ {'title': 'OrderCreate', 'type': 'object', 'properties': {'address': {'title': 'Address', 'maxLength': 100, 'type': 'string'}...

  File "pydantic/schema.py", line 590, in pydantic.schema.model_process_schema
    m_schema, m_definitions, nested_models = model_type_schema(
                                             └ <cyfunction model_type_schema at 0x7fad715c5110>

  File "pydantic/schema.py", line 631, in pydantic.schema.model_type_schema
    f_schema, f_definitions, f_nested_models = field_schema(
                                               └ <cyfunction field_schema at 0x7fad715bc860>

  File "pydantic/schema.py", line 258, in pydantic.schema.field_schema
    f_schema, f_definitions, f_nested_models = field_type_schema(
                                               └ <cyfunction field_type_schema at 0x7fad715bcee0>

  File "pydantic/schema.py", line 536, in pydantic.schema.field_type_schema
    f_schema, f_definitions, f_nested_models = field_singleton_schema(
                                               └ <cyfunction field_singleton_schema at 0x7fad715c5520>

  File "pydantic/schema.py", line 932, in pydantic.schema.field_singleton_schema
    if issubclass(field_type, BaseModel):

  File "/usr/lib/python3.9/abc.py", line 123, in __subclasscheck__
    return _abc_subclasscheck(cls, subclass)
           │                  │    └ ForwardRef('List[Product]')
           │                  └ <class 'pydantic.main.BaseModel'>
           └ <built-in function _abc_subclasscheck>

TypeError: issubclass() arg 1 must be a class
ERROR    2022-05-20 15:46:49.823 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fad727d35e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fad7287b3a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fad728719d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fad72757f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
    │    └ <function subprocess_started at 0x7fad71c521f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fad72757fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fad71c45430>
           │       │   └ <uvicorn.server.Server object at 0x7fad72757fa0>
           │       └ <function run at 0x7fad72753c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fad6c95e640>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fad6c99a040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c213370>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fad6c99a0d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c213370>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c213370>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fad6c97bbb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2133...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fad6c97bbb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2133...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2133...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fad6c2da8b0>
          └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fad6c269820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fad6c2daeb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fad6c2da8b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fad6c2dab50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fad6c2daeb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fad6c2dafd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fad6c2dab50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fad70e444c0>
          └ <starlette.routing.Route object at 0x7fad6c2dadf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fad6c2e75e0>
          └ <starlette.routing.Route object at 0x7fad6c2dadf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fad6c201a30>
                     └ <function FastAPI.setup.<locals>.openapi at 0x7fad6c2e71f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 224, in openapi
    return JSONResponse(self.openapi())
           │            │    └ <function FastAPI.openapi at 0x7fad71fd51f0>
           │            └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
           └ <class 'starlette.responses.JSONResponse'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 199, in openapi
    self.openapi_schema = get_openapi(
    │    │                └ <function get_openapi at 0x7fad70defa60>
    │    └ None
    └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/openapi/utils.py", line 418, in get_openapi
    definitions = get_model_definitions(
                  └ <function get_model_definitions at 0x7fad70e13dc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/utils.py", line 28, in get_model_definitions
    m_schema, m_definitions, m_nested_models = model_process_schema(
    │         │                                └ <cyfunction model_process_schema at 0x7fad715c5040>
    │         └ {}
    └ {'title': 'OrderCreate', 'type': 'object', 'properties': {'address': {'title': 'Address', 'maxLength': 100, 'type': 'string'}...

  File "pydantic/schema.py", line 590, in pydantic.schema.model_process_schema
    m_schema, m_definitions, nested_models = model_type_schema(
                                             └ <cyfunction model_type_schema at 0x7fad715c5110>

  File "pydantic/schema.py", line 631, in pydantic.schema.model_type_schema
    f_schema, f_definitions, f_nested_models = field_schema(
                                               └ <cyfunction field_schema at 0x7fad715bc860>

  File "pydantic/schema.py", line 258, in pydantic.schema.field_schema
    f_schema, f_definitions, f_nested_models = field_type_schema(
                                               └ <cyfunction field_type_schema at 0x7fad715bcee0>

  File "pydantic/schema.py", line 536, in pydantic.schema.field_type_schema
    f_schema, f_definitions, f_nested_models = field_singleton_schema(
                                               └ <cyfunction field_singleton_schema at 0x7fad715c5520>

  File "pydantic/schema.py", line 932, in pydantic.schema.field_singleton_schema
    if issubclass(field_type, BaseModel):

  File "/usr/lib/python3.9/abc.py", line 123, in __subclasscheck__
    return _abc_subclasscheck(cls, subclass)
           │                  │    └ ForwardRef('List[Product]')
           │                  └ <class 'pydantic.main.BaseModel'>
           └ <built-in function _abc_subclasscheck>

TypeError: issubclass() arg 1 must be a class
ERROR    2022-05-20 15:46:49.830 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fad727d35e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fad7287b3a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fad728719d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fad72757f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
    │    └ <function subprocess_started at 0x7fad71c521f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=29915 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fad72757fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fad71c45430>
           │       │   └ <uvicorn.server.Server object at 0x7fad72757fa0>
           │       └ <function run at 0x7fad72753c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fad6c95e640>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fad6c99a040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c213370>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fad6c99a0d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c213370>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c213370>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fad6c97bbb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2133...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fad6c97bbb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2133...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2133...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fad6c2da8b0>
          └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fad6c269820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fad6c2daeb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fad6c2da8b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fad6c2dab50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fad6c2daeb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fad6c2dafd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fad6c2dab50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fad70e444c0>
          └ <starlette.routing.Route object at 0x7fad6c2dadf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fad6c269940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fad6c2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fad6c2e75e0>
          └ <starlette.routing.Route object at 0x7fad6c2dadf0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fad6c201a30>
                     └ <function FastAPI.setup.<locals>.openapi at 0x7fad6c2e71f0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 224, in openapi
    return JSONResponse(self.openapi())
           │            │    └ <function FastAPI.openapi at 0x7fad71fd51f0>
           │            └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
           └ <class 'starlette.responses.JSONResponse'>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 199, in openapi
    self.openapi_schema = get_openapi(
    │    │                └ <function get_openapi at 0x7fad70defa60>
    │    └ None
    └ <fastapi.applications.FastAPI object at 0x7fad6cd6bee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/openapi/utils.py", line 418, in get_openapi
    definitions = get_model_definitions(
                  └ <function get_model_definitions at 0x7fad70e13dc0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/utils.py", line 28, in get_model_definitions
    m_schema, m_definitions, m_nested_models = model_process_schema(
    │         │                                └ <cyfunction model_process_schema at 0x7fad715c5040>
    │         └ {}
    └ {'title': 'OrderCreate', 'type': 'object', 'properties': {'address': {'title': 'Address', 'maxLength': 100, 'type': 'string'}...

  File "pydantic/schema.py", line 590, in pydantic.schema.model_process_schema
    m_schema, m_definitions, nested_models = model_type_schema(
                                             └ <cyfunction model_type_schema at 0x7fad715c5110>

  File "pydantic/schema.py", line 631, in pydantic.schema.model_type_schema
    f_schema, f_definitions, f_nested_models = field_schema(
                                               └ <cyfunction field_schema at 0x7fad715bc860>

  File "pydantic/schema.py", line 258, in pydantic.schema.field_schema
    f_schema, f_definitions, f_nested_models = field_type_schema(
                                               └ <cyfunction field_type_schema at 0x7fad715bcee0>

  File "pydantic/schema.py", line 536, in pydantic.schema.field_type_schema
    f_schema, f_definitions, f_nested_models = field_singleton_schema(
                                               └ <cyfunction field_singleton_schema at 0x7fad715c5520>

  File "pydantic/schema.py", line 932, in pydantic.schema.field_singleton_schema
    if issubclass(field_type, BaseModel):

  File "/usr/lib/python3.9/abc.py", line 123, in __subclasscheck__
    return _abc_subclasscheck(cls, subclass)
           │                  │    └ ForwardRef('List[Product]')
           │                  └ <class 'pydantic.main.BaseModel'>
           └ <built-in function _abc_subclasscheck>

TypeError: issubclass() arg 1 must be a class
INFO     2022-05-20 15:48:30.941 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:48:30.942 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:48:30.942 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:48:31.043 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:48:31.043 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:48:31.043 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:48:31.043 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:48:31.044 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:48:31.044 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:48:31.044 request id: app - uvicorn.server:serve - Finished server process [29920]
INFO     2022-05-20 15:48:31.045 request id: app - uvicorn.server:serve - Finished server process [29920]
INFO     2022-05-20 15:48:31.045 request id: app - uvicorn.server:serve - Finished server process [29920]
INFO     2022-05-20 15:48:31.109 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [29915]
INFO     2022-05-20 15:50:03.885 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:50:03.886 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:50:04.015 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [30132] using watchgod
INFO     2022-05-20 15:50:04.580 request id: app - uvicorn.server:serve - Started server process [30142]
INFO     2022-05-20 15:50:04.580 request id: app - uvicorn.server:serve - Started server process [30142]
INFO     2022-05-20 15:50:04.580 request id: app - uvicorn.server:serve - Started server process [30142]
INFO     2022-05-20 15:50:04.580 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:50:04.580 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:50:04.580 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:50:04.581 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:50:04.581 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:50:04.581 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:50:13.764 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48604 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 15:50:14.086 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48604 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 15:50:20.535 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48606 - "GET /product/ HTTP/1.1" 500
ERROR    2022-05-20 15:50:20.535 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f35ec66c5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f35ec7143a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f35ec70a9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f35ec5f0f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
    │    └ <function subprocess_started at 0x7f35ebaea1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f35ec5f0fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f35ebade430>
           │       │   └ <uvicorn.server.Server object at 0x7f35ec5f0fa0>
           │       └ <function run at 0x7f35ec5ecc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f35e6c09d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f35e67d9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e6049760>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f35e67d90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e6049760>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e6049760>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35e67bfc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60497...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f35e611ae20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35e67bfc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60497...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60497...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35e611a8b0>
          └ <fastapi.applications.FastAPI object at 0x7f35e611ae20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f35e60b8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35e611ad60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35e611a8b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35e611ab50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35e611ad60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f35e611afd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35e611ab50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f35eacde4c0>
          └ <fastapi.routing.APIRoute object at 0x7f35e608af10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f35e60d0af0>
          └ <fastapi.routing.APIRoute object at 0x7f35e608af10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f35e605d550>
                     └ <function get_request_handler.<locals>.app at 0x7f35e60d0a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f35eaccb0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:50:20.544 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f35ec66c5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f35ec7143a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f35ec70a9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f35ec5f0f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
    │    └ <function subprocess_started at 0x7f35ebaea1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f35ec5f0fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f35ebade430>
           │       │   └ <uvicorn.server.Server object at 0x7f35ec5f0fa0>
           │       └ <function run at 0x7f35ec5ecc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f35e6c09d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f35e67d9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e6049760>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f35e67d90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e6049760>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e6049760>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35e67bfc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60497...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f35e611ae20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35e67bfc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60497...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60497...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35e611a8b0>
          └ <fastapi.applications.FastAPI object at 0x7f35e611ae20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f35e60b8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35e611ad60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35e611a8b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35e611ab50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35e611ad60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f35e611afd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35e611ab50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f35eacde4c0>
          └ <fastapi.routing.APIRoute object at 0x7f35e608af10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f35e60d0af0>
          └ <fastapi.routing.APIRoute object at 0x7f35e608af10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f35e605d550>
                     └ <function get_request_handler.<locals>.app at 0x7f35e60d0a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f35eaccb0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:50:20.550 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f35ec66c5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f35ec7143a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f35ec70a9d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f35ec5f0f70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
    │    └ <function subprocess_started at 0x7f35ebaea1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30132 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f35ec5f0fa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f35ebade430>
           │       │   └ <uvicorn.server.Server object at 0x7f35ec5f0fa0>
           │       └ <function run at 0x7f35ec5ecc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f35e6c09d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f35e67d9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e6049760>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f35e67d90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e6049760>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e6049760>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35e67bfc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60497...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f35e611ae20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f35e67bfc10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60497...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60497...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35e611a8b0>
          └ <fastapi.applications.FastAPI object at 0x7f35e611ae20>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f35e60b8940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35e611ad60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f35e611a8b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35e611ab50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35e611ad60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f35e611afd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f35e611ab50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f35eacde4c0>
          └ <fastapi.routing.APIRoute object at 0x7f35e608af10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f35e60b88b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f35e60...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f35e60d0af0>
          └ <fastapi.routing.APIRoute object at 0x7f35e608af10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f35e605d550>
                     └ <function get_request_handler.<locals>.app at 0x7f35e60d0a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f35eaccb0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:51:03.934 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:51:03.934 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:51:03.934 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:51:04.035 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:51:04.036 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:51:04.037 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:51:04.038 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:51:04.039 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:51:04.040 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:51:04.040 request id: app - uvicorn.server:serve - Finished server process [30142]
INFO     2022-05-20 15:51:04.041 request id: app - uvicorn.server:serve - Finished server process [30142]
INFO     2022-05-20 15:51:04.041 request id: app - uvicorn.server:serve - Finished server process [30142]
INFO     2022-05-20 15:51:04.115 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [30132]
INFO     2022-05-20 15:51:05.838 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:51:05.839 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:51:06.333 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [30267] using watchgod
INFO     2022-05-20 15:51:08.088 request id: app - uvicorn.server:serve - Started server process [30277]
INFO     2022-05-20 15:51:08.089 request id: app - uvicorn.server:serve - Started server process [30277]
INFO     2022-05-20 15:51:08.089 request id: app - uvicorn.server:serve - Started server process [30277]
INFO     2022-05-20 15:51:08.090 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:51:08.090 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:51:08.090 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:51:08.091 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:51:08.091 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:51:08.092 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:51:17.028 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:51:17.030 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:51:17.032 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:51:17.134 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:51:17.136 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:51:17.138 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:51:17.142 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:51:17.143 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:51:17.145 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:51:17.148 request id: app - uvicorn.server:serve - Finished server process [30277]
INFO     2022-05-20 15:51:17.150 request id: app - uvicorn.server:serve - Finished server process [30277]
INFO     2022-05-20 15:51:17.151 request id: app - uvicorn.server:serve - Finished server process [30277]
INFO     2022-05-20 15:51:17.544 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [30267]
INFO     2022-05-20 15:51:19.718 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:51:19.719 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:51:20.223 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [30317] using watchgod
INFO     2022-05-20 15:51:21.955 request id: app - uvicorn.server:serve - Started server process [30326]
INFO     2022-05-20 15:51:21.956 request id: app - uvicorn.server:serve - Started server process [30326]
INFO     2022-05-20 15:51:21.956 request id: app - uvicorn.server:serve - Started server process [30326]
INFO     2022-05-20 15:51:21.956 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:51:21.957 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:51:21.957 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:51:21.958 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:51:21.958 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:51:21.958 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:51:23.561 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48632 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 15:51:24.048 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48632 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 15:51:32.924 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48632 - "GET /product/ HTTP/1.1" 500
ERROR    2022-05-20 15:51:32.925 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f779636e700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7796346b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f77963461f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f77964391f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
    │    └ <function subprocess_started at 0x7f778761caf0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7796439160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f7787614c10>
           │       │   └ <uvicorn.server.Server object at 0x7f7796439160>
           │       └ <function run at 0x7f7796472790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f777af5b5c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f777ab83820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb80>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f777ab838b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb80>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb80>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f777af51040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f777af519a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f777af51040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f777a4d1970>
          └ <fastapi.applications.FastAPI object at 0x7f777af519a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f777a463820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f777a4d1eb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f777a4d1970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f777a4d1ca0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f777a4d1eb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f777a4d1fd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f777a4d1ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f77865a49d0>
          └ <fastapi.routing.APIRoute object at 0x7f777a43d280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f777a478c10>
          └ <fastapi.routing.APIRoute object at 0x7f777a43d280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f777a40e700>
                     └ <function get_request_handler.<locals>.app at 0x7f777a478b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f77866113a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:51:32.969 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f779636e700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7796346b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f77963461f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f77964391f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
    │    └ <function subprocess_started at 0x7f778761caf0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7796439160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f7787614c10>
           │       │   └ <uvicorn.server.Server object at 0x7f7796439160>
           │       └ <function run at 0x7f7796472790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f777af5b5c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f777ab83820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb80>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f777ab838b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb80>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb80>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f777af51040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f777af519a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f777af51040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f777a4d1970>
          └ <fastapi.applications.FastAPI object at 0x7f777af519a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f777a463820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f777a4d1eb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f777a4d1970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f777a4d1ca0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f777a4d1eb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f777a4d1fd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f777a4d1ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f77865a49d0>
          └ <fastapi.routing.APIRoute object at 0x7f777a43d280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f777a478c10>
          └ <fastapi.routing.APIRoute object at 0x7f777a43d280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f777a40e700>
                     └ <function get_request_handler.<locals>.app at 0x7f777a478b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f77866113a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:51:32.999 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f779636e700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7796346b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f77963461f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f77964391f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
    │    └ <function subprocess_started at 0x7f778761caf0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30317 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7796439160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f7787614c10>
           │       │   └ <uvicorn.server.Server object at 0x7f7796439160>
           │       └ <function run at 0x7f7796472790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f777af5b5c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f777ab83820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb80>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f777ab838b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb80>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb80>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f777af51040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f777af519a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f777af51040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a40eb...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f777a4d1970>
          └ <fastapi.applications.FastAPI object at 0x7f777af519a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f777a463820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f777a4d1eb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f777a4d1970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f777a4d1ca0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f777a4d1eb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f777a4d1fd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f777a4d1ca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f77865a49d0>
          └ <fastapi.routing.APIRoute object at 0x7f777a43d280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f777a4638b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f777a4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f777a478c10>
          └ <fastapi.routing.APIRoute object at 0x7f777a43d280>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f777a40e700>
                     └ <function get_request_handler.<locals>.app at 0x7f777a478b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f77866113a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:52:18.007 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:52:18.009 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:52:18.011 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:52:18.113 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:52:18.114 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:52:18.116 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:52:18.120 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:52:18.122 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:52:18.123 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:52:18.126 request id: app - uvicorn.server:serve - Finished server process [30326]
INFO     2022-05-20 15:52:18.127 request id: app - uvicorn.server:serve - Finished server process [30326]
INFO     2022-05-20 15:52:18.129 request id: app - uvicorn.server:serve - Finished server process [30326]
INFO     2022-05-20 15:52:18.582 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [30317]
INFO     2022-05-20 15:52:20.911 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:52:20.912 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:52:21.404 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [30439] using watchgod
INFO     2022-05-20 15:52:23.152 request id: app - uvicorn.server:serve - Started server process [30449]
INFO     2022-05-20 15:52:23.153 request id: app - uvicorn.server:serve - Started server process [30449]
INFO     2022-05-20 15:52:23.153 request id: app - uvicorn.server:serve - Started server process [30449]
INFO     2022-05-20 15:52:23.153 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:52:23.154 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:52:23.154 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:52:23.155 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:52:23.155 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:52:23.155 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:53:37.992 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48650 - "GET /product/ HTTP/1.1" 500
ERROR    2022-05-20 15:53:37.995 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f552252f700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f552251cb80>
           └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f552251c1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f55225bd1f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
    │    └ <function subprocess_started at 0x7f55134a9af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f55225bd160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5513776c10>
           │       │   └ <uvicorn.server.Server object at 0x7f55225bd160>
           │       └ <function run at 0x7f552269e790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f55070c84c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5506cef820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5506cef8b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f55070bf040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f55070bf9a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f55070bf040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f550663e970>
          └ <fastapi.applications.FastAPI object at 0x7f55070bf9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f55065ce9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f550663eeb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f550663e970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f550663eca0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f550663eeb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f550663efd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f550663eca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f55127209d0>
          └ <fastapi.routing.APIRoute object at 0x7f55065a8250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f55065e4c10>
          └ <fastapi.routing.APIRoute object at 0x7f55065a8250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5506578250>
                     └ <function get_request_handler.<locals>.app at 0x7f55065e4b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f551278c3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:53:38.071 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f552252f700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f552251cb80>
           └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f552251c1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f55225bd1f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
    │    └ <function subprocess_started at 0x7f55134a9af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f55225bd160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5513776c10>
           │       │   └ <uvicorn.server.Server object at 0x7f55225bd160>
           │       └ <function run at 0x7f552269e790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f55070c84c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5506cef820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5506cef8b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f55070bf040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f55070bf9a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f55070bf040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f550663e970>
          └ <fastapi.applications.FastAPI object at 0x7f55070bf9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f55065ce9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f550663eeb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f550663e970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f550663eca0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f550663eeb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f550663efd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f550663eca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f55127209d0>
          └ <fastapi.routing.APIRoute object at 0x7f55065a8250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f55065e4c10>
          └ <fastapi.routing.APIRoute object at 0x7f55065a8250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5506578250>
                     └ <function get_request_handler.<locals>.app at 0x7f55065e4b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f551278c3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:53:38.097 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7f552252f700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f552251cb80>
           └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f552251c1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f55225bd1f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
    │    └ <function subprocess_started at 0x7f55134a9af0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30439 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f55225bd160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f5513776c10>
           │       │   └ <uvicorn.server.Server object at 0x7f55225bd160>
           │       └ <function run at 0x7f552269e790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f55070c84c0>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5506cef820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5506cef8b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f55070bf040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f55070bf9a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f55070bf040>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065780...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f550663e970>
          └ <fastapi.applications.FastAPI object at 0x7f55070bf9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f55065ce9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f550663eeb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f550663e970>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f550663eca0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f550663eeb0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f550663efd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f550663eca0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f55127209d0>
          └ <fastapi.routing.APIRoute object at 0x7f55065a8250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f55065cea60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f55065...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f55065e4c10>
          └ <fastapi.routing.APIRoute object at 0x7f55065a8250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5506578250>
                     └ <function get_request_handler.<locals>.app at 0x7f55065e4b80>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f551278c3a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:53:55.602 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:53:55.604 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:53:55.605 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:53:55.708 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:53:55.710 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:53:55.712 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:53:55.715 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:53:55.717 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:53:55.719 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:53:55.725 request id: app - uvicorn.server:serve - Finished server process [30449]
INFO     2022-05-20 15:53:55.728 request id: app - uvicorn.server:serve - Finished server process [30449]
INFO     2022-05-20 15:53:55.730 request id: app - uvicorn.server:serve - Finished server process [30449]
INFO     2022-05-20 15:53:56.412 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [30439]
INFO     2022-05-20 15:53:59.269 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:53:59.269 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:53:59.394 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [30586] using watchgod
INFO     2022-05-20 15:53:59.955 request id: app - uvicorn.server:serve - Started server process [30592]
INFO     2022-05-20 15:53:59.955 request id: app - uvicorn.server:serve - Started server process [30592]
INFO     2022-05-20 15:53:59.955 request id: app - uvicorn.server:serve - Started server process [30592]
INFO     2022-05-20 15:53:59.955 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:53:59.956 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:53:59.956 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:53:59.956 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:53:59.957 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:53:59.957 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:54:03.145 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48658 - "GET /product/ HTTP/1.1" 500
ERROR    2022-05-20 15:54:03.146 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fa5347985e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fa5348403a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa5348369d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa53471cf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    └ <function subprocess_started at 0x7fa533c171f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa53471cfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fa533c0a430>
           │       │   └ <uvicorn.server.Server object at 0x7fa53471cfa0>
           │       └ <function run at 0x7fa534718c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa52ed24d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fa52e4c5040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2ac0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fa52e4c50d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2ac0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2ac0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
          └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa52e1cb8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fa52e4abd00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fa532e094c0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fa52e267af0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fa52e1e2c70>
                     └ <function get_request_handler.<locals>.app at 0x7fa52e267a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fa532df70d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:54:03.156 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fa5347985e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fa5348403a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa5348369d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa53471cf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    └ <function subprocess_started at 0x7fa533c171f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa53471cfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fa533c0a430>
           │       │   └ <uvicorn.server.Server object at 0x7fa53471cfa0>
           │       └ <function run at 0x7fa534718c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa52ed24d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fa52e4c5040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2ac0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fa52e4c50d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2ac0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2ac0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
          └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa52e1cb8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fa52e4abd00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fa532e094c0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fa52e267af0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fa52e1e2c70>
                     └ <function get_request_handler.<locals>.app at 0x7fa52e267a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fa532df70d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:54:03.161 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fa5347985e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fa5348403a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa5348369d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa53471cf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    └ <function subprocess_started at 0x7fa533c171f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa53471cfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fa533c0a430>
           │       │   └ <uvicorn.server.Server object at 0x7fa53471cfa0>
           │       └ <function run at 0x7fa534718c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa52ed24d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fa52e4c5040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2ac0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fa52e4c50d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2ac0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2ac0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1e2a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
          └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa52e1cb8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fa52e4abd00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fa532e094c0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52e1cb940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52e1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fa52e267af0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fa52e1e2c70>
                     └ <function get_request_handler.<locals>.app at 0x7fa52e267a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fa532df70d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:54:59.158 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48662 - "GET /product/ HTTP/1.1" 500
ERROR    2022-05-20 15:54:59.159 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fa5347985e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fa5348403a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa5348369d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa53471cf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    └ <function subprocess_started at 0x7fa533c171f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa53471cfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fa533c0a430>
           │       │   └ <uvicorn.server.Server object at 0x7fa53471cfa0>
           │       └ <function run at 0x7fa534718c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa52ed24d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fa52e4c5040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e340>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fa52e4c50d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e340>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e340>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
          └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa52e16eee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fa52e4abd00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fa532e094c0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fa52e267af0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fa52d90ef70>
                     └ <function get_request_handler.<locals>.app at 0x7fa52e267a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fa532df70d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:54:59.165 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fa5347985e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fa5348403a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa5348369d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa53471cf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    └ <function subprocess_started at 0x7fa533c171f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa53471cfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fa533c0a430>
           │       │   └ <uvicorn.server.Server object at 0x7fa53471cfa0>
           │       └ <function run at 0x7fa534718c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa52ed24d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fa52e4c5040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e340>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fa52e4c50d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e340>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e340>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
          └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa52e16eee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fa52e4abd00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fa532e094c0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fa52e267af0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fa52d90ef70>
                     └ <function get_request_handler.<locals>.app at 0x7fa52e267a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fa532df70d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:54:59.170 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fa5347985e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fa5348403a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa5348369d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa53471cf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
    │    └ <function subprocess_started at 0x7fa533c171f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30586 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa53471cfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fa533c0a430>
           │       │   └ <uvicorn.server.Server object at 0x7fa53471cfa0>
           │       └ <function run at 0x7fa534718c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa52ed24d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fa52e4c5040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e340>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fa52e4c50d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e340>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e340>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa52ecbf760>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d90e3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
          └ <fastapi.applications.FastAPI object at 0x7fa52e4abee0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa52e16eee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa52e244490>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa52e2440a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fa52e4abd00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa52e2442b0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fa532e094c0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fa52d8a4820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa52d9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fa52e267af0>
          └ <fastapi.routing.APIRoute object at 0x7fa52e220fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fa52d90ef70>
                     └ <function get_request_handler.<locals>.app at 0x7fa52e267a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fa532df70d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:55:37.101 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:55:37.101 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:55:37.102 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:55:37.202 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:55:37.204 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:55:37.206 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:55:37.208 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:55:37.209 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:55:37.210 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:55:37.211 request id: app - uvicorn.server:serve - Finished server process [30592]
INFO     2022-05-20 15:55:37.212 request id: app - uvicorn.server:serve - Finished server process [30592]
INFO     2022-05-20 15:55:37.212 request id: app - uvicorn.server:serve - Finished server process [30592]
INFO     2022-05-20 15:55:37.316 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [30586]
INFO     2022-05-20 15:55:37.962 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:55:37.962 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:55:38.093 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [30667] using watchgod
INFO     2022-05-20 15:55:38.650 request id: app - uvicorn.server:serve - Started server process [30673]
INFO     2022-05-20 15:55:38.650 request id: app - uvicorn.server:serve - Started server process [30673]
INFO     2022-05-20 15:55:38.650 request id: app - uvicorn.server:serve - Started server process [30673]
INFO     2022-05-20 15:55:38.650 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:55:38.650 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:55:38.651 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:55:38.651 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:55:38.651 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:55:38.652 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:55:40.456 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48668 - "GET /product/ HTTP/1.1" 500
ERROR    2022-05-20 15:55:40.457 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a30>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a30>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a30>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef50ae8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef5104f40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514eaf0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef5104f40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef50c6be0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514ea60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:55:40.467 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a30>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a30>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a30>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef50ae8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef5104f40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514eaf0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef5104f40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef50c6be0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514ea60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:55:40.472 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a30>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a30>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a30>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50c6a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef50ae8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef5104f40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef50...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514eaf0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef5104f40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef50c6be0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514ea60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_product_product__get', type=Optional[List[Product]], required=False, default=None)
          │               └ [[ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 't...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for Product
response -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 3 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:56:39.557 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48672 - "GET /product/1 HTTP/1.1" 500
ERROR    2022-05-20 15:56:39.557 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef50ae700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef47f1ca0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:56:39.563 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef50ae700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef47f1ca0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:56:39.569 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f16...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef50ae700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef47f1ca0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:56:41.869 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48674 - "GET /product/4 HTTP/1.1" 500
ERROR    2022-05-20 15:56:41.870 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d00>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d00>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d00>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef4783ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef4733940>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:56:41.878 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d00>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d00>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d00>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef4783ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef4733940>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:56:41.884 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d00>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d00>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d00>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4733d...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef4783ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783b80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef4733940>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:57:19.413 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48680 - "GET /product/4 HTTP/1.1" 500
ERROR    2022-05-20 15:57:19.414 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806bb0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806bb0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806bb0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806b...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806b...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806b...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef4783f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef4806700>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:57:19.420 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806bb0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806bb0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806bb0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806b...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806b...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806b...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef4783f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef4806700>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:57:19.425 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806bb0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806bb0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806bb0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806b...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806b...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef4806b...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef4783f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef4806700>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:57:20.781 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48682 - "GET /product/4 HTTP/1.1" 500
ERROR    2022-05-20 15:57:20.782 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef4733df0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:57:20.788 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef4733df0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:57:20.793 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47333...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef50ae9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef50ae790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef4733df0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:57:22.375 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48684 - "GET /product/1 HTTP/1.1" 500
ERROR    2022-05-20 15:57:22.375 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1ee0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1ee0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1ee0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef4783ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef47f1fd0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:57:22.383 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1ee0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1ee0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1ee0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef4783ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef47f1fd0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:57:22.389 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f1efb67b5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f1efb7233a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f1efb7199d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f1efb5fff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
    │    └ <function subprocess_started at 0x7f1efaafa1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30667 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1efb5fffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f1efaaed430>
           │       │   └ <uvicorn.server.Server object at 0x7f1efb5fffa0>
           │       └ <function run at 0x7f1efb5fbc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ef5c08d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f1ef53a9040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1ee0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f1ef53a90d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1ee0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1ee0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ef5ba3910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47f1e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
          └ <fastapi.applications.FastAPI object at 0x7f1ef5397880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1ef4783ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ef512a640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ef512a250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ef512a160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ef512a460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f1ef9ced4c0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f1ef4783940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1ef47...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f1ef514e9d0>
          └ <fastapi.routing.APIRoute object at 0x7f1ef51043a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f1ef47f1fd0>
                     └ <function get_request_handler.<locals>.app at 0x7f1ef514e940>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f1ef9cda0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:58:08.712 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:58:08.713 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:58:08.713 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:58:08.814 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:58:08.815 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:58:08.816 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 15:58:08.817 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:58:08.818 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:58:08.819 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 15:58:08.820 request id: app - uvicorn.server:serve - Finished server process [30673]
INFO     2022-05-20 15:58:08.820 request id: app - uvicorn.server:serve - Finished server process [30673]
INFO     2022-05-20 15:58:08.821 request id: app - uvicorn.server:serve - Finished server process [30673]
INFO     2022-05-20 15:58:08.936 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [30667]
INFO     2022-05-20 15:58:10.680 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:58:10.681 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:58:11.179 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [30871] using watchgod
INFO     2022-05-20 15:58:12.938 request id: app - uvicorn.server:serve - Started server process [30883]
INFO     2022-05-20 15:58:12.939 request id: app - uvicorn.server:serve - Started server process [30883]
INFO     2022-05-20 15:58:12.939 request id: app - uvicorn.server:serve - Started server process [30883]
INFO     2022-05-20 15:58:12.939 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:58:12.940 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:58:12.940 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:58:12.941 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:58:12.941 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:58:12.941 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:58:14.278 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48706 - "GET /product/1 HTTP/1.1" 500
ERROR    2022-05-20 15:58:14.279 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7fb362f6b700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb362f43b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb362f431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb3630361f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
    │    └ <function subprocess_started at 0x7fb36021caf0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb363036160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fb360214c10>
           │       │   └ <uvicorn.server.Server object at 0x7fb363036160>
           │       └ <function run at 0x7fb363145790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb347b5b540>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fb347783820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fb3477838b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb347b72a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb3470c1fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb347b72a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3470c1af0>
          └ <fastapi.applications.FastAPI object at 0x7fb3470c1fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb34705c9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb3470c1c40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3470c1af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb3470c1b50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb3470c1c40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fb3470c1d90>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb3470c1b50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fb34b1a49d0>
          └ <fastapi.routing.APIRoute object at 0x7fb34708e580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fb3470f6af0>
          └ <fastapi.routing.APIRoute object at 0x7fb34708e580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fb347001880>
                     └ <function get_request_handler.<locals>.app at 0x7fb3470f6a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fb34b2123a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:58:14.324 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7fb362f6b700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb362f43b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb362f431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb3630361f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
    │    └ <function subprocess_started at 0x7fb36021caf0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb363036160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fb360214c10>
           │       │   └ <uvicorn.server.Server object at 0x7fb363036160>
           │       └ <function run at 0x7fb363145790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb347b5b540>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fb347783820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fb3477838b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb347b72a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb3470c1fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb347b72a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3470c1af0>
          └ <fastapi.applications.FastAPI object at 0x7fb3470c1fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb34705c9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb3470c1c40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3470c1af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb3470c1b50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb3470c1c40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fb3470c1d90>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb3470c1b50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fb34b1a49d0>
          └ <fastapi.routing.APIRoute object at 0x7fb34708e580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fb3470f6af0>
          └ <fastapi.routing.APIRoute object at 0x7fb34708e580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fb347001880>
                     └ <function get_request_handler.<locals>.app at 0x7fb3470f6a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fb34b2123a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 15:58:14.350 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 14
               └ <function _main at 0x7fb362f6b700>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb362f43b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb362f431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb3630361f0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
    │    └ <function subprocess_started at 0x7fb36021caf0>
    └ <SpawnProcess name='SpawnProcess-1' parent=30871 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb363036160>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fb360214c10>
           │       │   └ <uvicorn.server.Server object at 0x7fb363036160>
           │       └ <function run at 0x7fb363145790>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb347b5b540>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fb347783820>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fb3477838b0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb347b72a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb3470c1fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb347b72a30>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470016...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3470c1af0>
          └ <fastapi.applications.FastAPI object at 0x7fb3470c1fd0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb34705c9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb3470c1c40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3470c1af0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb3470c1b50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb3470c1c40>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fb3470c1d90>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb3470c1b50>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fb34b1a49d0>
          └ <fastapi.routing.APIRoute object at 0x7fb34708e580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb34705ca60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3470...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fb3470f6af0>
          └ <fastapi.routing.APIRoute object at 0x7fb34708e580>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fb347001880>
                     └ <function get_request_handler.<locals>.app at 0x7fb3470f6a60>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fb34b2123a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_product_product__id_product__get', type=Optional[Product], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='Product', errors=[{'loc': ('categories', 0), 'msg': 'value is not a valid dict', 'ty...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 1 validation error for Product
response -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 15:59:53.566 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:59:53.569 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:59:53.571 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 15:59:53.674 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-20 15:59:53.676 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-20 15:59:53.678 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-05-20 15:59:57.603 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 15:59:57.604 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 15:59:57.732 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [31043] using watchgod
INFO     2022-05-20 15:59:58.290 request id: app - uvicorn.server:serve - Started server process [31048]
INFO     2022-05-20 15:59:58.290 request id: app - uvicorn.server:serve - Started server process [31048]
INFO     2022-05-20 15:59:58.290 request id: app - uvicorn.server:serve - Started server process [31048]
INFO     2022-05-20 15:59:58.291 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:59:58.291 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:59:58.291 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 15:59:58.291 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:59:58.291 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 15:59:58.292 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:00:02.915 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48716 - "GET /category/ HTTP/1.1" 200
INFO     2022-05-20 16:00:08.945 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48718 - "GET /category/products HTTP/1.1" 500
ERROR    2022-05-20 16:00:08.946 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f4994d965e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f4994e3e3a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f4994e349d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f4994d1af70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
    │    └ <function subprocess_started at 0x7f49942151f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f4994d1afa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f4994208430>
           │       │   └ <uvicorn.server.Server object at 0x7f4994d1afa0>
           │       └ <function run at 0x7f4994d16c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f498f323d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f498eac4040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1dc0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f498eac40d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1dc0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1dc0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f498f2be910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1d...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f498eab2880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f498f2be910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1d...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1d...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f498e845640>
          └ <fastapi.applications.FastAPI object at 0x7f498eab2880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f498e76eee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f498e845250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f498e845640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f498e845460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f498e845250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f498e845160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f498e845460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f49934074c0>
          └ <fastapi.routing.APIRoute object at 0x7f498e84f9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f498e841ca0>
          └ <fastapi.routing.APIRoute object at 0x7f498e84f9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f498e7e1c70>
                     └ <function get_request_handler.<locals>.app at 0x7f498e841c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f49933f50d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_with_products_category_products_get', type=Optional[List[CategoryProducts]], requi...
          │               └ [[ErrorWrapper(exc=ValidationError(model='CategoryProducts', errors=[{'loc': ('products', 0, 'categories', 0), 'msg': 'value ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for CategoryProducts
response -> 1 -> products -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 1 -> products -> 1 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 16:00:08.956 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f4994d965e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f4994e3e3a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f4994e349d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f4994d1af70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
    │    └ <function subprocess_started at 0x7f49942151f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f4994d1afa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f4994208430>
           │       │   └ <uvicorn.server.Server object at 0x7f4994d1afa0>
           │       └ <function run at 0x7f4994d16c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f498f323d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f498eac4040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1dc0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f498eac40d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1dc0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1dc0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f498f2be910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1d...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f498eab2880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f498f2be910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1d...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1d...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f498e845640>
          └ <fastapi.applications.FastAPI object at 0x7f498eab2880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f498e76eee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f498e845250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f498e845640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f498e845460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f498e845250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f498e845160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f498e845460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f49934074c0>
          └ <fastapi.routing.APIRoute object at 0x7f498e84f9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f498e841ca0>
          └ <fastapi.routing.APIRoute object at 0x7f498e84f9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f498e7e1c70>
                     └ <function get_request_handler.<locals>.app at 0x7f498e841c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f49933f50d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_with_products_category_products_get', type=Optional[List[CategoryProducts]], requi...
          │               └ [[ErrorWrapper(exc=ValidationError(model='CategoryProducts', errors=[{'loc': ('products', 0, 'categories', 0), 'msg': 'value ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for CategoryProducts
response -> 1 -> products -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 1 -> products -> 1 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 16:00:08.961 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f4994d965e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f4994e3e3a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f4994e349d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f4994d1af70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
    │    └ <function subprocess_started at 0x7f49942151f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31043 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f4994d1afa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f4994208430>
           │       │   └ <uvicorn.server.Server object at 0x7f4994d1afa0>
           │       └ <function run at 0x7f4994d16c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f498f323d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f498eac4040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1dc0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f498eac40d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1dc0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1dc0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f498f2be910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1d...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f498eab2880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f498f2be910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1d...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7e1d...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f498e845640>
          └ <fastapi.applications.FastAPI object at 0x7f498eab2880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f498e76eee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f498e845250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f498e845640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f498e845460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f498e845250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f498e845160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f498e845460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f49934074c0>
          └ <fastapi.routing.APIRoute object at 0x7f498e84f9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f498e781550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f498e7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f498e841ca0>
          └ <fastapi.routing.APIRoute object at 0x7f498e84f9a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f498e7e1c70>
                     └ <function get_request_handler.<locals>.app at 0x7f498e841c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f49933f50d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_with_products_category_products_get', type=Optional[List[CategoryProducts]], requi...
          │               └ [[ErrorWrapper(exc=ValidationError(model='CategoryProducts', errors=[{'loc': ('products', 0, 'categories', 0), 'msg': 'value ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for CategoryProducts
response -> 1 -> products -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 1 -> products -> 1 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 16:00:36.195 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:00:36.195 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:00:36.195 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:00:36.296 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:00:36.297 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:00:36.298 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:00:36.299 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:00:36.300 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:00:36.301 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:00:36.301 request id: app - uvicorn.server:serve - Finished server process [31048]
INFO     2022-05-20 16:00:36.301 request id: app - uvicorn.server:serve - Finished server process [31048]
INFO     2022-05-20 16:00:36.301 request id: app - uvicorn.server:serve - Finished server process [31048]
INFO     2022-05-20 16:00:36.368 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [31043]
INFO     2022-05-20 16:00:37.071 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 16:00:37.071 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 16:00:37.199 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [31075] using watchgod
INFO     2022-05-20 16:00:37.810 request id: app - uvicorn.server:serve - Started server process [31081]
INFO     2022-05-20 16:00:37.810 request id: app - uvicorn.server:serve - Started server process [31081]
INFO     2022-05-20 16:00:37.811 request id: app - uvicorn.server:serve - Started server process [31081]
INFO     2022-05-20 16:00:37.811 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:00:37.811 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:00:37.811 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:00:37.812 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:00:37.812 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:00:37.812 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:00:45.371 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48724 - "GET /category/products HTTP/1.1" 500
ERROR    2022-05-20 16:00:45.372 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f7cef2fb5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7cef3a33a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7cef3999d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7cef27ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
    │    └ <function subprocess_started at 0x7f7cee77a1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7cef27ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f7cee76d430>
           │       │   └ <uvicorn.server.Server object at 0x7f7cef27ffa0>
           │       └ <function run at 0x7f7cef27bc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f7ce9888d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f7ce9028040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f7ce90280d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7ce9823910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7ce9017880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7ce9823910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7ce8da9640>
          └ <fastapi.applications.FastAPI object at 0x7f7ce9017880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7ce8d2f8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7ce8da9250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7ce8da9640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7ce8da9460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7ce8da9250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f7ce8da9160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7ce8da9460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f7ced96d4c0>
          └ <fastapi.routing.APIRoute object at 0x7f7ce8db49a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f7ce8da6ca0>
          └ <fastapi.routing.APIRoute object at 0x7f7ce8db49a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f7ce8d46b80>
                     └ <function get_request_handler.<locals>.app at 0x7f7ce8da6c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f7ced95a0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_with_products_category_products_get', type=Optional[List[CategoryProducts]], requi...
          │               └ [[ErrorWrapper(exc=ValidationError(model='CategoryProducts', errors=[{'loc': ('products', 0, 'categories', 0), 'msg': 'value ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for CategoryProducts
response -> 1 -> products -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 1 -> products -> 1 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 16:00:45.382 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f7cef2fb5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7cef3a33a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7cef3999d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7cef27ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
    │    └ <function subprocess_started at 0x7f7cee77a1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7cef27ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f7cee76d430>
           │       │   └ <uvicorn.server.Server object at 0x7f7cef27ffa0>
           │       └ <function run at 0x7f7cef27bc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f7ce9888d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f7ce9028040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f7ce90280d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7ce9823910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7ce9017880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7ce9823910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7ce8da9640>
          └ <fastapi.applications.FastAPI object at 0x7f7ce9017880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7ce8d2f8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7ce8da9250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7ce8da9640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7ce8da9460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7ce8da9250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f7ce8da9160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7ce8da9460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f7ced96d4c0>
          └ <fastapi.routing.APIRoute object at 0x7f7ce8db49a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f7ce8da6ca0>
          └ <fastapi.routing.APIRoute object at 0x7f7ce8db49a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f7ce8d46b80>
                     └ <function get_request_handler.<locals>.app at 0x7f7ce8da6c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f7ced95a0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_with_products_category_products_get', type=Optional[List[CategoryProducts]], requi...
          │               └ [[ErrorWrapper(exc=ValidationError(model='CategoryProducts', errors=[{'loc': ('products', 0, 'categories', 0), 'msg': 'value ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for CategoryProducts
response -> 1 -> products -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 1 -> products -> 1 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 16:00:45.388 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7f7cef2fb5e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7cef3a33a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7cef3999d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7cef27ff70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
    │    └ <function subprocess_started at 0x7f7cee77a1f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31075 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7cef27ffa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7f7cee76d430>
           │       │   └ <uvicorn.server.Server object at 0x7f7cef27ffa0>
           │       └ <function run at 0x7f7cef27bc10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f7ce9888d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f7ce9028040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f7ce90280d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7ce9823910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7ce9017880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7ce9823910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d469...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7ce8da9640>
          └ <fastapi.applications.FastAPI object at 0x7f7ce9017880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7ce8d2f8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7ce8da9250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7ce8da9640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7ce8da9460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7ce8da9250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f7ce8da9160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7ce8da9460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7f7ced96d4c0>
          └ <fastapi.routing.APIRoute object at 0x7f7ce8db49a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7ce8d2f940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7ce8d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f7ce8da6ca0>
          └ <fastapi.routing.APIRoute object at 0x7f7ce8db49a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f7ce8d46b80>
                     └ <function get_request_handler.<locals>.app at 0x7f7ce8da6c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7f7ced95a0d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_with_products_category_products_get', type=Optional[List[CategoryProducts]], requi...
          │               └ [[ErrorWrapper(exc=ValidationError(model='CategoryProducts', errors=[{'loc': ('products', 0, 'categories', 0), 'msg': 'value ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for CategoryProducts
response -> 1 -> products -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 1 -> products -> 1 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 16:01:43.575 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:01:43.576 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:01:43.578 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:01:43.680 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:01:43.681 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:01:43.682 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:01:43.683 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:01:43.684 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:01:43.684 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:01:43.685 request id: app - uvicorn.server:serve - Finished server process [31081]
INFO     2022-05-20 16:01:43.685 request id: app - uvicorn.server:serve - Finished server process [31081]
INFO     2022-05-20 16:01:43.685 request id: app - uvicorn.server:serve - Finished server process [31081]
INFO     2022-05-20 16:01:43.750 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [31075]
INFO     2022-05-20 16:01:44.472 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 16:01:44.473 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 16:01:44.615 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [31196] using watchgod
INFO     2022-05-20 16:01:45.220 request id: app - uvicorn.server:serve - Started server process [31202]
INFO     2022-05-20 16:01:45.220 request id: app - uvicorn.server:serve - Started server process [31202]
INFO     2022-05-20 16:01:45.220 request id: app - uvicorn.server:serve - Started server process [31202]
INFO     2022-05-20 16:01:45.220 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:01:45.220 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:01:45.221 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:01:45.221 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:01:45.221 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:01:45.221 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:01:49.762 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48730 - "GET /category/products HTTP/1.1" 500
ERROR    2022-05-20 16:01:49.762 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fe4cade85e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fe4cae903a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fe4cae869d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fe4cad6cf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
    │    └ <function subprocess_started at 0x7fe4ca2661f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fe4cad6cfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fe4ca25a430>
           │       │   └ <uvicorn.server.Server object at 0x7fe4cad6cfa0>
           │       └ <function run at 0x7fe4cad68c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fe4c5375d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fe4c4b16040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fe4c4b160d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe4c5310910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe4c4b04880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe4c5310910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe4c4897640>
          └ <fastapi.applications.FastAPI object at 0x7fe4c4b04880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fe4c481c8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe4c4897250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe4c4897640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe4c4897460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe4c4897250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fe4c4897160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe4c4897460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fe4c94584c0>
          └ <fastapi.routing.APIRoute object at 0x7fe4c48a19a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fe4c4893ca0>
          └ <fastapi.routing.APIRoute object at 0x7fe4c48a19a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fe4c4833b80>
                     └ <function get_request_handler.<locals>.app at 0x7fe4c4893c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fe4c94460d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_with_products_category_products_get', type=Optional[List[CategoryProducts]], requi...
          │               └ [[ErrorWrapper(exc=ValidationError(model='CategoryProducts', errors=[{'loc': ('products', 0, 'categories', 0), 'msg': 'value ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for CategoryProducts
response -> 1 -> products -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 1 -> products -> 1 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 16:01:49.772 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fe4cade85e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fe4cae903a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fe4cae869d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fe4cad6cf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
    │    └ <function subprocess_started at 0x7fe4ca2661f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fe4cad6cfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fe4ca25a430>
           │       │   └ <uvicorn.server.Server object at 0x7fe4cad6cfa0>
           │       └ <function run at 0x7fe4cad68c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fe4c5375d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fe4c4b16040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fe4c4b160d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe4c5310910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe4c4b04880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe4c5310910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe4c4897640>
          └ <fastapi.applications.FastAPI object at 0x7fe4c4b04880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fe4c481c8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe4c4897250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe4c4897640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe4c4897460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe4c4897250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fe4c4897160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe4c4897460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fe4c94584c0>
          └ <fastapi.routing.APIRoute object at 0x7fe4c48a19a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fe4c4893ca0>
          └ <fastapi.routing.APIRoute object at 0x7fe4c48a19a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fe4c4833b80>
                     └ <function get_request_handler.<locals>.app at 0x7fe4c4893c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fe4c94460d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_with_products_category_products_get', type=Optional[List[CategoryProducts]], requi...
          │               └ [[ErrorWrapper(exc=ValidationError(model='CategoryProducts', errors=[{'loc': ('products', 0, 'categories', 0), 'msg': 'value ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for CategoryProducts
response -> 1 -> products -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 1 -> products -> 1 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
ERROR    2022-05-20 16:01:49.777 request id: app - uvicorn.protocols.http.httptools_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 13
               └ <function _main at 0x7fe4cade85e0>
  File "/usr/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fe4cae903a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fe4cae869d0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
  File "/usr/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fe4cad6cf70>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
    │    └ <function subprocess_started at 0x7fe4ca2661f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=31196 started>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fe4cad6cfa0>>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8005)>]
           │       │   │    └ <function Server.serve at 0x7fe4ca25a430>
           │       │   └ <uvicorn.server.Server object at 0x7fe4cad6cfa0>
           │       └ <function run at 0x7fe4cad68c10>
           └ <module 'asyncio' from '/usr/lib/python3.9/asyncio/__init__.py'>
  File "/usr/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fe4c5375d40>
           │    └ <method 'run_until_complete' of 'uvloop.loop.Loop' objects>
           └ <uvloop.Loop running=True closed=False debug=False>
> File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 372, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fe4c4b16040>
                   │   │    │      │    │        └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fe4c4b160d0>
                   │   │    │      └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                   │   └ <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe4c5310910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe4c4b04880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe4c5310910>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48339...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe4c4897640>
          └ <fastapi.applications.FastAPI object at 0x7fe4c4b04880>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fe4c481c8b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe4c4897250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe4c4897640>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe4c4897460>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe4c4897250>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fe4c4897160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe4c4897460>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 665, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │     └ <function Route.handle at 0x7fe4c94584c0>
          └ <fastapi.routing.APIRoute object at 0x7fe4c48a19a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 261, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe4c481c940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe4c48...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8005), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fe4c4893ca0>
          └ <fastapi.routing.APIRoute object at 0x7fe4c48a19a0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/starlette/routing.py", line 60, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fe4c4833b80>
                     └ <function get_request_handler.<locals>.app at 0x7fe4c4893c10>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 235, in app
    response_data = await serialize_response(
                          └ <function serialize_response at 0x7fe4c94460d0>
  File "/home/denius/Desktop/FlaskRestApi/venv/lib/python3.9/site-packages/fastapi/routing.py", line 138, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_get_all_category_with_products_category_products_get', type=Optional[List[CategoryProducts]], requi...
          │               └ [[ErrorWrapper(exc=ValidationError(model='CategoryProducts', errors=[{'loc': ('products', 0, 'categories', 0), 'msg': 'value ...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for CategoryProducts
response -> 1 -> products -> 0 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
response -> 1 -> products -> 1 -> categories -> 0
  value is not a valid dict (type=type_error.dict)
INFO     2022-05-20 16:02:15.000 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:02:15.001 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:02:15.002 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:02:15.104 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:02:15.105 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:02:15.106 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:02:15.107 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:02:15.108 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:02:15.109 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:02:15.110 request id: app - uvicorn.server:serve - Finished server process [31202]
INFO     2022-05-20 16:02:15.110 request id: app - uvicorn.server:serve - Finished server process [31202]
INFO     2022-05-20 16:02:15.111 request id: app - uvicorn.server:serve - Finished server process [31202]
INFO     2022-05-20 16:02:15.196 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [31196]
INFO     2022-05-20 16:02:15.835 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 16:02:15.835 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 16:02:15.973 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [31252] using watchgod
INFO     2022-05-20 16:02:16.549 request id: app - uvicorn.server:serve - Started server process [31258]
INFO     2022-05-20 16:02:16.550 request id: app - uvicorn.server:serve - Started server process [31258]
INFO     2022-05-20 16:02:16.550 request id: app - uvicorn.server:serve - Started server process [31258]
INFO     2022-05-20 16:02:16.550 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:02:16.550 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:02:16.550 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:02:16.551 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:02:16.551 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:02:16.551 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:02:17.676 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48736 - "GET /category/products HTTP/1.1" 200
WARNING  2022-05-20 16:29:04.853 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/__init__.py', '/home/denius/Desktop/FlaskRestApi/main.py']'. Reloading...
INFO     2022-05-20 16:29:04.954 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:29:04.955 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:29:04.955 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:29:05.056 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:29:05.056 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:29:05.056 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:29:05.057 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:29:05.057 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:29:05.058 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:29:05.058 request id: app - uvicorn.server:serve - Finished server process [31258]
INFO     2022-05-20 16:29:05.058 request id: app - uvicorn.server:serve - Finished server process [31258]
INFO     2022-05-20 16:29:05.059 request id: app - uvicorn.server:serve - Finished server process [31258]
INFO     2022-05-20 16:29:05.750 request id: app - uvicorn.server:serve - Started server process [33312]
INFO     2022-05-20 16:29:05.750 request id: app - uvicorn.server:serve - Started server process [33312]
INFO     2022-05-20 16:29:05.750 request id: app - uvicorn.server:serve - Started server process [33312]
INFO     2022-05-20 16:29:05.750 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:29:05.750 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:29:05.751 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:29:05.751 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:29:05.751 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:29:05.751 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:29:14.413 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48842 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 16:29:14.708 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48842 - "GET /openapi.json HTTP/1.1" 200
WARNING  2022-05-20 16:30:03.835 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/schemas/order.py']'. Reloading...
INFO     2022-05-20 16:30:03.900 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:30:03.902 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:30:03.903 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:30:04.004 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:30:04.005 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:30:04.005 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:30:04.005 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:30:04.005 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:30:04.006 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:30:04.006 request id: app - uvicorn.server:serve - Finished server process [33312]
INFO     2022-05-20 16:30:04.006 request id: app - uvicorn.server:serve - Finished server process [33312]
INFO     2022-05-20 16:30:04.006 request id: app - uvicorn.server:serve - Finished server process [33312]
INFO     2022-05-20 16:30:04.681 request id: app - uvicorn.server:serve - Started server process [33455]
INFO     2022-05-20 16:30:04.682 request id: app - uvicorn.server:serve - Started server process [33455]
INFO     2022-05-20 16:30:04.682 request id: app - uvicorn.server:serve - Started server process [33455]
INFO     2022-05-20 16:30:04.682 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:30:04.682 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:30:04.682 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:30:04.683 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:30:04.683 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:30:04.683 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:30:13.781 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48852 - "GET /order/ HTTP/1.1" 200
INFO     2022-05-20 16:30:24.357 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48854 - "GET /user/ HTTP/1.1" 200
INFO     2022-05-20 16:30:50.542 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48856 - "POST /order/ HTTP/1.1" 422
INFO     2022-05-20 16:31:09.954 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:48858 - "POST /order/ HTTP/1.1" 201
WARNING  2022-05-20 16:35:16.332 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/conftest.py', '/home/denius/Desktop/FlaskRestApi/tests/integration/test_category.py']'. Reloading...
INFO     2022-05-20 16:35:16.428 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:35:16.429 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:35:16.430 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:35:16.531 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:35:16.532 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:35:16.533 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:35:16.534 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:35:16.535 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:35:16.536 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:35:16.537 request id: app - uvicorn.server:serve - Finished server process [33455]
INFO     2022-05-20 16:35:16.538 request id: app - uvicorn.server:serve - Finished server process [33455]
INFO     2022-05-20 16:35:16.539 request id: app - uvicorn.server:serve - Finished server process [33455]
INFO     2022-05-20 16:35:17.203 request id: app - uvicorn.server:serve - Started server process [33775]
INFO     2022-05-20 16:35:17.204 request id: app - uvicorn.server:serve - Started server process [33775]
INFO     2022-05-20 16:35:17.204 request id: app - uvicorn.server:serve - Started server process [33775]
INFO     2022-05-20 16:35:17.204 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:35:17.204 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:35:17.204 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:35:17.205 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:35:17.205 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:35:17.205 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:37:51.077 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/integration/test_category.py']'. Reloading...
INFO     2022-05-20 16:37:51.104 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:37:51.105 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:37:51.105 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:37:51.205 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:37:51.205 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:37:51.206 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:37:51.206 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:37:51.206 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:37:51.207 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:37:51.207 request id: app - uvicorn.server:serve - Finished server process [33775]
INFO     2022-05-20 16:37:51.207 request id: app - uvicorn.server:serve - Finished server process [33775]
INFO     2022-05-20 16:37:51.207 request id: app - uvicorn.server:serve - Finished server process [33775]
INFO     2022-05-20 16:37:51.875 request id: app - uvicorn.server:serve - Started server process [33965]
INFO     2022-05-20 16:37:51.876 request id: app - uvicorn.server:serve - Started server process [33965]
INFO     2022-05-20 16:37:51.876 request id: app - uvicorn.server:serve - Started server process [33965]
INFO     2022-05-20 16:37:51.876 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:37:51.876 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:37:51.876 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:37:51.877 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:37:51.877 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:37:51.877 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:38:03.166 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/unit/test_server.py']'. Reloading...
INFO     2022-05-20 16:38:03.208 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:38:03.209 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:38:03.211 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:38:03.312 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:38:03.312 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:38:03.313 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:38:03.313 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:38:03.314 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:38:03.314 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:38:03.314 request id: app - uvicorn.server:serve - Finished server process [33965]
INFO     2022-05-20 16:38:03.314 request id: app - uvicorn.server:serve - Finished server process [33965]
INFO     2022-05-20 16:38:03.314 request id: app - uvicorn.server:serve - Finished server process [33965]
INFO     2022-05-20 16:38:03.977 request id: app - uvicorn.server:serve - Started server process [33995]
INFO     2022-05-20 16:38:03.977 request id: app - uvicorn.server:serve - Started server process [33995]
INFO     2022-05-20 16:38:03.977 request id: app - uvicorn.server:serve - Started server process [33995]
INFO     2022-05-20 16:38:03.978 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:38:03.978 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:38:03.978 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:38:03.978 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:38:03.978 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:38:03.979 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:39:48.060 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/unit/test_modules.py']'. Reloading...
INFO     2022-05-20 16:39:48.150 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:39:48.152 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:39:48.152 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:39:48.254 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:39:48.255 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:39:48.256 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:39:48.258 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:39:48.260 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:39:48.261 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:39:48.262 request id: app - uvicorn.server:serve - Finished server process [33995]
INFO     2022-05-20 16:39:48.263 request id: app - uvicorn.server:serve - Finished server process [33995]
INFO     2022-05-20 16:39:48.264 request id: app - uvicorn.server:serve - Finished server process [33995]
INFO     2022-05-20 16:39:48.899 request id: app - uvicorn.server:serve - Started server process [34207]
INFO     2022-05-20 16:39:48.900 request id: app - uvicorn.server:serve - Started server process [34207]
INFO     2022-05-20 16:39:48.900 request id: app - uvicorn.server:serve - Started server process [34207]
INFO     2022-05-20 16:39:48.900 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:39:48.900 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:39:48.901 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:39:48.901 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:39:48.901 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:39:48.902 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:40:47.248 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/unit/test_server.py']'. Reloading...
INFO     2022-05-20 16:40:47.262 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:40:47.262 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:40:47.263 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:40:47.363 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:40:47.364 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:40:47.365 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:40:47.366 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:40:47.367 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:40:47.368 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:40:47.369 request id: app - uvicorn.server:serve - Finished server process [34207]
INFO     2022-05-20 16:40:47.370 request id: app - uvicorn.server:serve - Finished server process [34207]
INFO     2022-05-20 16:40:47.371 request id: app - uvicorn.server:serve - Finished server process [34207]
INFO     2022-05-20 16:40:47.985 request id: app - uvicorn.server:serve - Started server process [34249]
INFO     2022-05-20 16:40:47.985 request id: app - uvicorn.server:serve - Started server process [34249]
INFO     2022-05-20 16:40:47.986 request id: app - uvicorn.server:serve - Started server process [34249]
INFO     2022-05-20 16:40:47.986 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:40:47.986 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:40:47.986 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:40:47.986 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:40:47.987 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:40:47.987 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:41:45.902 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/conftest.py']'. Reloading...
INFO     2022-05-20 16:41:45.944 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:41:45.946 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:41:45.946 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:41:46.048 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:41:46.050 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:41:46.051 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:41:46.054 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:41:46.055 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:41:46.056 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:41:46.057 request id: app - uvicorn.server:serve - Finished server process [34249]
INFO     2022-05-20 16:41:46.057 request id: app - uvicorn.server:serve - Finished server process [34249]
INFO     2022-05-20 16:41:46.058 request id: app - uvicorn.server:serve - Finished server process [34249]
INFO     2022-05-20 16:41:46.696 request id: app - uvicorn.server:serve - Started server process [34328]
INFO     2022-05-20 16:41:46.697 request id: app - uvicorn.server:serve - Started server process [34328]
INFO     2022-05-20 16:41:46.697 request id: app - uvicorn.server:serve - Started server process [34328]
INFO     2022-05-20 16:41:46.697 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:41:46.697 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:41:46.697 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:41:46.698 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:41:46.698 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:41:46.698 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:43:03.354 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/conftest.py']'. Reloading...
INFO     2022-05-20 16:43:03.395 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:43:03.396 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:43:03.396 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:43:03.497 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:43:03.498 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:43:03.499 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:43:03.500 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:43:03.500 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:43:03.500 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:43:03.500 request id: app - uvicorn.server:serve - Finished server process [34328]
INFO     2022-05-20 16:43:03.500 request id: app - uvicorn.server:serve - Finished server process [34328]
INFO     2022-05-20 16:43:03.501 request id: app - uvicorn.server:serve - Finished server process [34328]
INFO     2022-05-20 16:43:04.254 request id: app - uvicorn.server:serve - Started server process [34564]
INFO     2022-05-20 16:43:04.254 request id: app - uvicorn.server:serve - Started server process [34564]
INFO     2022-05-20 16:43:04.254 request id: app - uvicorn.server:serve - Started server process [34564]
INFO     2022-05-20 16:43:04.254 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:43:04.254 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:43:04.255 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:43:04.255 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:43:04.255 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:43:04.255 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:43:14.276 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/conftest.py']'. Reloading...
INFO     2022-05-20 16:43:14.284 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:43:14.284 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:43:14.284 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:43:14.384 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:43:14.386 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:43:14.386 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:43:14.387 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:43:14.388 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:43:14.389 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:43:14.390 request id: app - uvicorn.server:serve - Finished server process [34564]
INFO     2022-05-20 16:43:14.391 request id: app - uvicorn.server:serve - Finished server process [34564]
INFO     2022-05-20 16:43:14.392 request id: app - uvicorn.server:serve - Finished server process [34564]
INFO     2022-05-20 16:43:15.039 request id: app - uvicorn.server:serve - Started server process [34578]
INFO     2022-05-20 16:43:15.039 request id: app - uvicorn.server:serve - Started server process [34578]
INFO     2022-05-20 16:43:15.039 request id: app - uvicorn.server:serve - Started server process [34578]
INFO     2022-05-20 16:43:15.039 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:43:15.039 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:43:15.040 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:43:15.040 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:43:15.041 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:43:15.041 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:43:24.147 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/conftest.py']'. Reloading...
INFO     2022-05-20 16:43:24.164 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:43:24.164 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:43:24.164 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:43:24.265 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:43:24.266 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:43:24.267 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:43:24.268 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:43:24.269 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:43:24.270 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:43:24.270 request id: app - uvicorn.server:serve - Finished server process [34578]
INFO     2022-05-20 16:43:24.271 request id: app - uvicorn.server:serve - Finished server process [34578]
INFO     2022-05-20 16:43:24.272 request id: app - uvicorn.server:serve - Finished server process [34578]
INFO     2022-05-20 16:43:24.915 request id: app - uvicorn.server:serve - Started server process [34596]
INFO     2022-05-20 16:43:24.915 request id: app - uvicorn.server:serve - Started server process [34596]
INFO     2022-05-20 16:43:24.916 request id: app - uvicorn.server:serve - Started server process [34596]
INFO     2022-05-20 16:43:24.916 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:43:24.916 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:43:24.916 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:43:24.916 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:43:24.917 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:43:24.917 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:44:32.046 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/integration/test_category.py']'. Reloading...
INFO     2022-05-20 16:44:32.094 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:44:32.094 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:44:32.095 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:44:32.195 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:44:32.195 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:44:32.195 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:44:32.196 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:44:32.196 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:44:32.196 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:44:32.196 request id: app - uvicorn.server:serve - Finished server process [34596]
INFO     2022-05-20 16:44:32.197 request id: app - uvicorn.server:serve - Finished server process [34596]
INFO     2022-05-20 16:44:32.197 request id: app - uvicorn.server:serve - Finished server process [34596]
INFO     2022-05-20 16:44:32.840 request id: app - uvicorn.server:serve - Started server process [34675]
INFO     2022-05-20 16:44:32.840 request id: app - uvicorn.server:serve - Started server process [34675]
INFO     2022-05-20 16:44:32.841 request id: app - uvicorn.server:serve - Started server process [34675]
INFO     2022-05-20 16:44:32.841 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:44:32.841 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:44:32.841 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:44:32.842 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:44:32.842 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:44:32.842 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:44:48.991 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/integration/test_user.py']'. Reloading...
INFO     2022-05-20 16:44:49.086 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:44:49.087 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:44:49.088 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:44:49.190 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:44:49.192 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:44:49.193 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:44:49.195 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:44:49.196 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:44:49.197 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:44:49.198 request id: app - uvicorn.server:serve - Finished server process [34675]
INFO     2022-05-20 16:44:49.199 request id: app - uvicorn.server:serve - Finished server process [34675]
INFO     2022-05-20 16:44:49.200 request id: app - uvicorn.server:serve - Finished server process [34675]
INFO     2022-05-20 16:44:49.870 request id: app - uvicorn.server:serve - Started server process [34706]
INFO     2022-05-20 16:44:49.870 request id: app - uvicorn.server:serve - Started server process [34706]
INFO     2022-05-20 16:44:49.871 request id: app - uvicorn.server:serve - Started server process [34706]
INFO     2022-05-20 16:44:49.871 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:44:49.871 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:44:49.871 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:44:49.871 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:44:49.872 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:44:49.872 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:46:59.827 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/integration/test_category.py']'. Reloading...
INFO     2022-05-20 16:46:59.915 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:46:59.916 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:46:59.917 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:47:00.019 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:47:00.021 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:47:00.022 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:47:00.023 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:47:00.024 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:47:00.025 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:47:00.026 request id: app - uvicorn.server:serve - Finished server process [34706]
INFO     2022-05-20 16:47:00.027 request id: app - uvicorn.server:serve - Finished server process [34706]
INFO     2022-05-20 16:47:00.028 request id: app - uvicorn.server:serve - Finished server process [34706]
INFO     2022-05-20 16:47:00.670 request id: app - uvicorn.server:serve - Started server process [34895]
INFO     2022-05-20 16:47:00.670 request id: app - uvicorn.server:serve - Started server process [34895]
INFO     2022-05-20 16:47:00.671 request id: app - uvicorn.server:serve - Started server process [34895]
INFO     2022-05-20 16:47:00.671 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:47:00.671 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:47:00.671 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:47:00.671 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:47:00.672 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:47:00.672 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
WARNING  2022-05-20 16:47:19.551 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/tests/integration/test_category.py']'. Reloading...
INFO     2022-05-20 16:47:19.625 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:47:19.626 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:47:19.627 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:47:19.729 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:47:19.730 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:47:19.731 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:47:19.732 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:47:19.733 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:47:19.734 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:47:19.735 request id: app - uvicorn.server:serve - Finished server process [34895]
INFO     2022-05-20 16:47:19.736 request id: app - uvicorn.server:serve - Finished server process [34895]
INFO     2022-05-20 16:47:19.737 request id: app - uvicorn.server:serve - Finished server process [34895]
INFO     2022-05-20 16:47:20.384 request id: app - uvicorn.server:serve - Started server process [34912]
INFO     2022-05-20 16:47:20.384 request id: app - uvicorn.server:serve - Started server process [34912]
INFO     2022-05-20 16:47:20.384 request id: app - uvicorn.server:serve - Started server process [34912]
INFO     2022-05-20 16:47:20.384 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:47:20.384 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:47:20.385 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 16:47:20.385 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:47:20.385 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:47:20.385 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 16:51:45.082 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:51:45.082 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:51:45.082 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 16:51:45.182 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:51:45.183 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:51:45.183 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 16:51:45.183 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:51:45.183 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:51:45.184 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 16:51:45.184 request id: app - uvicorn.server:serve - Finished server process [34912]
INFO     2022-05-20 16:51:45.184 request id: app - uvicorn.server:serve - Finished server process [34912]
INFO     2022-05-20 16:51:45.185 request id: app - uvicorn.server:serve - Finished server process [34912]
INFO     2022-05-20 16:51:45.275 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [31252]
INFO     2022-05-20 18:23:34.683 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 18:23:34.683 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 18:23:34.813 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [43205] using watchgod
INFO     2022-05-20 18:23:35.359 request id: app - uvicorn.server:serve - Started server process [43214]
INFO     2022-05-20 18:23:35.359 request id: app - uvicorn.server:serve - Started server process [43214]
INFO     2022-05-20 18:23:35.359 request id: app - uvicorn.server:serve - Started server process [43214]
INFO     2022-05-20 18:23:35.359 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:23:35.359 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:23:35.360 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:23:35.360 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:23:35.360 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:23:35.360 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:23:37.357 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:49760 - "GET / HTTP/1.1" 404
INFO     2022-05-20 18:23:40.068 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:49760 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 18:23:40.380 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:49760 - "GET /openapi.json HTTP/1.1" 200
WARNING  2022-05-20 18:24:22.955 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/main.py']'. Reloading...
INFO     2022-05-20 18:24:22.991 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:24:22.992 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:24:22.992 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:24:23.093 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:24:23.094 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:24:23.095 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:24:23.096 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:24:23.096 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:24:23.097 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:24:23.098 request id: app - uvicorn.server:serve - Finished server process [43214]
INFO     2022-05-20 18:24:23.099 request id: app - uvicorn.server:serve - Finished server process [43214]
INFO     2022-05-20 18:24:23.100 request id: app - uvicorn.server:serve - Finished server process [43214]
INFO     2022-05-20 18:24:23.893 request id: app - uvicorn.server:serve - Started server process [43394]
INFO     2022-05-20 18:24:23.894 request id: app - uvicorn.server:serve - Started server process [43394]
INFO     2022-05-20 18:24:23.894 request id: app - uvicorn.server:serve - Started server process [43394]
INFO     2022-05-20 18:24:23.894 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:24:23.894 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:24:23.894 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:24:23.895 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:24:23.895 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:24:23.895 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:24:37.633 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:24:37.633 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:24:37.633 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:24:37.734 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:24:37.735 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:24:37.736 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:24:37.737 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:24:37.738 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:24:37.738 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:24:37.739 request id: app - uvicorn.server:serve - Finished server process [43394]
INFO     2022-05-20 18:24:37.740 request id: app - uvicorn.server:serve - Finished server process [43394]
INFO     2022-05-20 18:24:37.741 request id: app - uvicorn.server:serve - Finished server process [43394]
INFO     2022-05-20 18:24:37.816 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [43205]
INFO     2022-05-20 18:24:38.373 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 18:24:38.373 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 18:24:38.497 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [43414] using watchgod
INFO     2022-05-20 18:24:39.043 request id: app - uvicorn.server:serve - Started server process [43420]
INFO     2022-05-20 18:24:39.044 request id: app - uvicorn.server:serve - Started server process [43420]
INFO     2022-05-20 18:24:39.044 request id: app - uvicorn.server:serve - Started server process [43420]
INFO     2022-05-20 18:24:39.044 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:24:39.044 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:24:39.044 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:24:39.045 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:24:39.045 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:24:39.045 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:25:11.228 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:25:11.230 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:25:11.230 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:25:11.332 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:25:11.332 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:25:11.332 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:25:11.333 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:25:11.334 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:25:11.334 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:25:11.335 request id: app - uvicorn.server:serve - Finished server process [43420]
INFO     2022-05-20 18:25:11.335 request id: app - uvicorn.server:serve - Finished server process [43420]
INFO     2022-05-20 18:25:11.335 request id: app - uvicorn.server:serve - Finished server process [43420]
INFO     2022-05-20 18:25:11.401 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [43414]
INFO     2022-05-20 18:25:12.104 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 18:25:12.104 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 18:25:12.228 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [43442] using watchgod
INFO     2022-05-20 18:25:12.771 request id: app - uvicorn.server:serve - Started server process [43449]
INFO     2022-05-20 18:25:12.771 request id: app - uvicorn.server:serve - Started server process [43449]
INFO     2022-05-20 18:25:12.772 request id: app - uvicorn.server:serve - Started server process [43449]
INFO     2022-05-20 18:25:12.772 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:25:12.772 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:25:12.772 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:25:12.772 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:25:12.773 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:25:12.773 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:25:17.387 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:25:17.388 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:25:17.389 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:25:17.490 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:25:17.491 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:25:17.492 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:25:17.493 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:25:17.494 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:25:17.495 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:25:17.495 request id: app - uvicorn.server:serve - Finished server process [43449]
INFO     2022-05-20 18:25:17.495 request id: app - uvicorn.server:serve - Finished server process [43449]
INFO     2022-05-20 18:25:17.495 request id: app - uvicorn.server:serve - Finished server process [43449]
INFO     2022-05-20 18:25:17.559 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [43442]
INFO     2022-05-20 18:25:18.168 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 18:25:18.168 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 18:25:18.294 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [43459] using watchgod
INFO     2022-05-20 18:25:18.836 request id: app - uvicorn.server:serve - Started server process [43465]
INFO     2022-05-20 18:25:18.837 request id: app - uvicorn.server:serve - Started server process [43465]
INFO     2022-05-20 18:25:18.837 request id: app - uvicorn.server:serve - Started server process [43465]
INFO     2022-05-20 18:25:18.837 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:25:18.837 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:25:18.837 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:25:18.838 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:25:18.838 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:25:18.838 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:25:29.868 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:25:29.869 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:25:29.870 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:25:29.971 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:25:29.972 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:25:29.973 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:25:29.974 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:25:29.975 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:25:29.976 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:25:29.976 request id: app - uvicorn.server:serve - Finished server process [43465]
INFO     2022-05-20 18:25:29.976 request id: app - uvicorn.server:serve - Finished server process [43465]
INFO     2022-05-20 18:25:29.976 request id: app - uvicorn.server:serve - Finished server process [43465]
INFO     2022-05-20 18:25:30.039 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [43459]
INFO     2022-05-20 18:25:30.684 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 18:25:30.684 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 18:25:30.812 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [43477] using watchgod
INFO     2022-05-20 18:25:31.352 request id: app - uvicorn.server:serve - Started server process [43483]
INFO     2022-05-20 18:25:31.352 request id: app - uvicorn.server:serve - Started server process [43483]
INFO     2022-05-20 18:25:31.352 request id: app - uvicorn.server:serve - Started server process [43483]
INFO     2022-05-20 18:25:31.352 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:25:31.353 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:25:31.353 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:25:31.353 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:25:31.353 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:25:31.353 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:26:18.174 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:26:18.175 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:26:18.176 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:26:18.277 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:26:18.278 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:26:18.279 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:26:18.280 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:26:18.281 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:26:18.282 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:26:18.282 request id: app - uvicorn.server:serve - Finished server process [43483]
INFO     2022-05-20 18:26:18.283 request id: app - uvicorn.server:serve - Finished server process [43483]
INFO     2022-05-20 18:26:18.283 request id: app - uvicorn.server:serve - Finished server process [43483]
INFO     2022-05-20 18:26:18.347 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [43477]
INFO     2022-05-20 18:26:19.126 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 18:26:19.126 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 18:26:19.256 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [43520] using watchgod
INFO     2022-05-20 18:26:19.798 request id: app - uvicorn.server:serve - Started server process [43527]
INFO     2022-05-20 18:26:19.798 request id: app - uvicorn.server:serve - Started server process [43527]
INFO     2022-05-20 18:26:19.799 request id: app - uvicorn.server:serve - Started server process [43527]
INFO     2022-05-20 18:26:19.799 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:26:19.799 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:26:19.799 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:26:19.799 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:26:19.800 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:26:19.800 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:26:37.247 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:26:37.248 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:26:37.249 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:26:37.350 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:26:37.351 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:26:37.352 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:26:37.353 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:26:37.354 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:26:37.355 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:26:37.356 request id: app - uvicorn.server:serve - Finished server process [43527]
INFO     2022-05-20 18:26:37.357 request id: app - uvicorn.server:serve - Finished server process [43527]
INFO     2022-05-20 18:26:37.357 request id: app - uvicorn.server:serve - Finished server process [43527]
INFO     2022-05-20 18:26:37.430 request id: app - uvicorn.supervisors.basereload:shutdown - Stopping reloader process [43520]
INFO     2022-05-20 18:26:38.155 request id: app - uvicorn.config:__init__ - Will watch for changes in these directories: ['/home/denius/Desktop/FlaskRestApi']
INFO     2022-05-20 18:26:38.155 request id: app - uvicorn.config:bind_socket - Uvicorn running on http://127.0.0.1:8005 (Press CTRL+C to quit)
INFO     2022-05-20 18:26:38.283 request id: app - uvicorn.supervisors.basereload:startup - Started reloader process [43590] using watchgod
INFO     2022-05-20 18:26:38.852 request id: app - uvicorn.server:serve - Started server process [43596]
INFO     2022-05-20 18:26:38.852 request id: app - uvicorn.server:serve - Started server process [43596]
INFO     2022-05-20 18:26:38.852 request id: app - uvicorn.server:serve - Started server process [43596]
INFO     2022-05-20 18:26:38.853 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:26:38.853 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:26:38.853 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:26:38.854 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:26:38.854 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:26:38.854 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:26:45.826 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:49804 - "GET /docs HTTP/1.1" 200
INFO     2022-05-20 18:26:46.168 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:49804 - "GET /openapi.json HTTP/1.1" 200
INFO     2022-05-20 18:26:51.932 request id: app - uvicorn.protocols.http.httptools_impl:send - 127.0.0.1:49806 - "GET /category/1/ HTTP/1.1" 200
WARNING  2022-05-20 18:27:07.772 request id: app - uvicorn.supervisors.watchgodreload:should_restart - WatchGodReload detected file change in '['/home/denius/Desktop/FlaskRestApi/core/main/config.py']'. Reloading...
INFO     2022-05-20 18:27:07.830 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:27:07.831 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:27:07.831 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:27:07.932 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:27:07.933 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:27:07.934 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-05-20 18:27:07.935 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:27:07.936 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:27:07.937 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-05-20 18:27:07.938 request id: app - uvicorn.server:serve - Finished server process [43596]
INFO     2022-05-20 18:27:07.939 request id: app - uvicorn.server:serve - Finished server process [43596]
INFO     2022-05-20 18:27:07.940 request id: app - uvicorn.server:serve - Finished server process [43596]
INFO     2022-05-20 18:27:08.551 request id: app - uvicorn.server:serve - Started server process [43662]
INFO     2022-05-20 18:27:08.552 request id: app - uvicorn.server:serve - Started server process [43662]
INFO     2022-05-20 18:27:08.552 request id: app - uvicorn.server:serve - Started server process [43662]
INFO     2022-05-20 18:27:08.552 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:27:08.552 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:27:08.552 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-05-20 18:27:08.553 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:27:08.553 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:27:08.553 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-05-20 18:27:11.963 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:27:11.964 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-05-20 18:27:11.965 request id: app - uvicorn.server:shutdown - Shutting down
